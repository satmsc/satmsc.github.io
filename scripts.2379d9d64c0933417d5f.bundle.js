function _init(){"use strict";$.AdminLTE.layout={activate:function(){var t=this;t.fix(),t.fixSidebar(),$("body, html, .wrapper").css("height","auto"),$(window,".wrapper").resize(function(){t.fix(),t.fixSidebar()})},fix:function(){$(".layout-boxed > .wrapper").css("overflow","hidden");var t=$(".main-footer").outerHeight()||0,e=$(".main-header").outerHeight()+t,i=$(window).height(),n=$(".sidebar").height()||0;if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",i-t);else{var r;i>=n?($(".content-wrapper, .right-side").css("min-height",i-e),r=i-e):($(".content-wrapper, .right-side").css("min-height",n),r=n);var s=$($.AdminLTE.options.controlSidebarOptions.selector);void 0!==s&&s.height()>r&&$(".content-wrapper, .right-side").css("min-height",s.height())}},fixSidebar:function(){if(!$("body").hasClass("fixed"))return void(void 0!==$.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"));void 0===$.fn.slimScroll&&window.console&&window.console.error("Error: the fixed layout requires the slimscroll plugin!"),$.AdminLTE.options.sidebarSlimScroll&&void 0!==$.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimScroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"}))}},$.AdminLTE.pushMenu={activate:function(t){var e=$.AdminLTE.options.screenSizes;$(document).on("click",t,function(t){t.preventDefault(),$(window).width()>e.sm-1?$("body").hasClass("sidebar-collapse")?$("body").removeClass("sidebar-collapse").trigger("expanded.pushMenu"):$("body").addClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open").removeClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").addClass("sidebar-open").trigger("expanded.pushMenu")}),$(".content-wrapper").click(function(){$(window).width()<=e.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var t=this,e=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>e&&t.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>e&&t.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(t){var e=this,i=$.AdminLTE.options.animationSpeed;$(document).off("click",t+" li a").on("click",t+" li a",function(t){var n=$(this),r=n.next();if(r.is(".treeview-menu")&&r.is(":visible")&&!$("body").hasClass("sidebar-collapse"))r.slideUp(i,function(){r.removeClass("menu-open")}),r.parent("li").removeClass("active");else if(r.is(".treeview-menu")&&!r.is(":visible")){var s=n.parents("ul").first(),o=s.find("ul:visible").slideUp(i);o.removeClass("menu-open");var a=n.parent("li");r.slideDown(i,function(){r.addClass("menu-open"),s.find("li.active").removeClass("active"),a.addClass("active"),e.layout.fix()})}r.is(".treeview-menu")&&t.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var t=this,e=$.AdminLTE.options.controlSidebarOptions,i=$(e.selector);$(e.toggleBtnSelector).on("click",function(n){n.preventDefault(),i.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?t.close(i,e.slide):t.open(i,e.slide)});var n=$(".control-sidebar-bg");t._fix(n),$("body").hasClass("fixed")?t._fixForFixed(i):$(".content-wrapper, .right-side").height()<i.height()&&t._fixForContent(i)},open:function(t,e){e?t.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(t,e){e?t.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(t){var e=this;if($("body").hasClass("layout-boxed")){if(t.css("position","absolute"),t.height($(".wrapper").height()),e.hasBindedResize)return;$(window).resize(function(){e._fix(t)}),e.hasBindedResize=!0}else t.css({position:"fixed",height:"auto"})},_fixForFixed:function(t){t.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(t){$(".content-wrapper, .right-side").css("min-height",t.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(t){var e=this;t||(t=document),$(t).on("click",e.selectors.collapse,function(t){t.preventDefault(),e.collapse($(this))}),$(t).on("click",e.selectors.remove,function(t){t.preventDefault(),e.remove($(this))})},collapse:function(t){var e=this,i=t.parents(".box").first(),n=i.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");i.hasClass("collapsed-box")?(t.children(":first").removeClass(e.icons.open).addClass(e.icons.collapse),n.slideDown(e.animationSpeed,function(){i.removeClass("collapsed-box")})):(t.children(":first").removeClass(e.icons.collapse).addClass(e.icons.open),n.slideUp(e.animationSpeed,function(){i.addClass("collapsed-box")}))},remove:function(t){t.parents(".box").first().slideUp(this.animationSpeed)}}}if(function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e,i){e=e||ot;var n,r=e.createElement("script");if(r.text=t,i)for(n in wt)i[n]&&(r[n]=i[n]);e.head.appendChild(r).parentNode.removeChild(r)}function n(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?dt[ft.call(t)]||"object":typeof t}function r(t){var e=!!t&&"length"in t&&t.length,i=n(t);return!yt(t)&&!bt(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function s(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function o(t,e,i){return yt(e)?xt.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?xt.grep(t,function(t){return t===e!==i}):"string"!=typeof e?xt.grep(t,function(t){return ut.call(e,t)>-1!==i}):xt.filter(e,t,i)}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return xt.each(t.match(Mt)||[],function(t,i){e[i]=!0}),e}function h(t){return t}function c(t){throw t}function u(t,e,i,n){var r;try{t&&yt(r=t.promise)?r.call(t).done(e).fail(i):t&&yt(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}function d(){ot.removeEventListener("DOMContentLoaded",d),t.removeEventListener("load",d),xt.ready()}function f(t,e){return e.toUpperCase()}function p(t){return t.replace(jt,"ms-").replace(Lt,f)}function m(){this.expando=xt.expando+m.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Bt.test(t)?JSON.parse(t):t)}function v(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Ft,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=g(i)}catch(t){}Wt.set(t,e,i)}else i=void 0;return i}function y(t,e,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return xt.css(t,e,"")},l=a(),h=i&&i[3]||(xt.cssNumber[e]?"":"px"),c=(xt.cssNumber[e]||"px"!==h&&+l)&&Yt.exec(xt.css(t,e));if(c&&c[3]!==h){for(l/=2,h=h||c[3],c=+l||1;o--;)xt.style(t,e,c+h),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),c/=s;c*=2,xt.style(t,e,c+h),i=i||[]}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=r)),r}function b(t){var e,i=t.ownerDocument,n=t.nodeName,r=Gt[n];return r||(e=i.body.appendChild(i.createElement(n)),r=xt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Gt[n]=r,r)}function w(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)n=t[s],n.style&&(i=n.style.display,e?("none"===i&&(r[s]=qt.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&$t(n)&&(r[s]=b(n))):"none"!==i&&(r[s]="none",qt.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}function x(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&s(t,e)?xt.merge([t],i):i}function _(t,e){for(var i=0,n=t.length;i<n;i++)qt.set(t[i],"globalEval",!e||qt.get(e[i],"globalEval"))}function C(t,e,i,r,s){for(var o,a,l,h,c,u,d=e.createDocumentFragment(),f=[],p=0,m=t.length;p<m;p++)if((o=t[p])||0===o)if("object"===n(o))xt.merge(f,o.nodeType?[o]:o);else if(Zt.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(Kt.exec(o)||["",""])[1].toLowerCase(),h=Jt[l]||Jt._default,a.innerHTML=h[1]+xt.htmlPrefilter(o)+h[2],u=h[0];u--;)a=a.lastChild;xt.merge(f,a.childNodes),a=d.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(r&&xt.inArray(o,r)>-1)s&&s.push(o);else if(c=xt.contains(o.ownerDocument,o),a=x(d.appendChild(o),"script"),c&&_(a),i)for(u=0;o=a[u++];)Qt.test(o.type||"")&&i.push(o);return d}function k(){return!0}function S(){return!1}function T(){try{return ot.activeElement}catch(t){}}function A(t,e,i,n,r,s){var o,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)A(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=S;else if(!r)return t;return 1===s&&(o=r,r=function(t){return xt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=xt.guid++)),t.each(function(){xt.event.add(this,e,r,n,i)})}function D(t,e){return s(t,"table")&&s(11!==e.nodeType?e:e.firstChild,"tr")?xt(t).children("tbody")[0]||t:t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function N(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function I(t,e){var i,n,r,s,o,a,l,h;if(1===e.nodeType){if(qt.hasData(t)&&(s=qt.access(t),o=qt.set(e,s),h=s.events)){delete o.handle,o.events={};for(r in h)for(i=0,n=h[r].length;i<n;i++)xt.event.add(e,r,h[r][i])}Wt.hasData(t)&&(a=Wt.access(t),l=xt.extend({},a),Wt.set(e,l))}}function M(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Xt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function O(t,e,n,r){e=ht.apply([],e);var s,o,a,l,h,c,u=0,d=t.length,f=d-1,p=e[0],m=yt(p);if(m||d>1&&"string"==typeof p&&!vt.checkClone&&oe.test(p))return t.each(function(i){var s=t.eq(i);m&&(e[0]=p.call(this,i,s.html())),O(s,e,n,r)});if(d&&(s=C(e,t[0].ownerDocument,!1,t,r),o=s.firstChild,1===s.childNodes.length&&(s=o),o||r)){for(a=xt.map(x(s,"script"),E),l=a.length;u<d;u++)h=s,u!==f&&(h=xt.clone(h,!0,!0),l&&xt.merge(a,x(h,"script"))),n.call(t[u],h,u);if(l)for(c=a[a.length-1].ownerDocument,xt.map(a,N),u=0;u<l;u++)h=a[u],Qt.test(h.type||"")&&!qt.access(h,"globalEval")&&xt.contains(c,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?xt._evalUrl&&xt._evalUrl(h.src):i(h.textContent.replace(ae,""),c,h))}return t}function P(t,e,i){for(var n,r=e?xt.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||xt.cleanData(x(n)),n.parentNode&&(i&&xt.contains(n.ownerDocument,n)&&_(x(n,"script")),n.parentNode.removeChild(n));return t}function R(t,e,i){var n,r,s,o,a=t.style;return i=i||he(t),i&&(o=i.getPropertyValue(e)||i[e],""!==o||xt.contains(t.ownerDocument,t)||(o=xt.style(t,e)),!vt.pixelBoxStyles()&&le.test(o)&&ce.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function j(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in ge)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=me.length;i--;)if((t=me[i]+e)in ge)return t}function H(t){var e=xt.cssProps[t];return e||(e=xt.cssProps[t]=L(t)||t),e}function q(t,e,i){var n=Yt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function W(t,e,i,n,r,s){var o="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=xt.css(t,i+Ut[o],!0,r)),n?("content"===i&&(l-=xt.css(t,"padding"+Ut[o],!0,r)),"margin"!==i&&(l-=xt.css(t,"border"+Ut[o]+"Width",!0,r))):(l+=xt.css(t,"padding"+Ut[o],!0,r),"padding"!==i?l+=xt.css(t,"border"+Ut[o]+"Width",!0,r):a+=xt.css(t,"border"+Ut[o]+"Width",!0,r));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))),l}function B(t,e,i){var n=he(t),r=R(t,e,n),s="border-box"===xt.css(t,"boxSizing",!1,n),o=s;if(le.test(r)){if(!i)return r;r="auto"}return o=o&&(vt.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===xt.css(t,"display",!1,n))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],o=!0),(r=parseFloat(r)||0)+W(t,e,i||(s?"border":"content"),o,n,r)+"px"}function F(t,e,i,n,r){return new F.prototype.init(t,e,i,n,r)}function z(){ye&&(!1===ot.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(z):t.setTimeout(z,xt.fx.interval),xt.fx.tick())}function Y(){return t.setTimeout(function(){ve=void 0}),ve=Date.now()}function U(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=Ut[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function $(t,e,i){for(var n,r=(X.tweeners[e]||[]).concat(X.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function V(t,e,i){var n,r,s,o,a,l,h,c,u="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&$t(t),g=qt.get(t,"fxshow");i.queue||(o=xt._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,xt.queue(t,"fx").length||o.empty.fire()})}));for(n in e)if(r=e[n],be.test(r)){if(delete e[n],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;m=!0}f[n]=g&&g[n]||xt.style(t,n)}if((l=!xt.isEmptyObject(e))||!xt.isEmptyObject(f)){u&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],h=g&&g.display,null==h&&(h=qt.get(t,"display")),c=xt.css(t,"display"),"none"===c&&(h?c=h:(w([t],!0),h=t.style.display||h,c=xt.css(t,"display"),w([t]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===xt.css(t,"float")&&(l||(d.done(function(){p.display=h}),null==h&&(c=p.display,h="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in f)l||(g?"hidden"in g&&(m=g.hidden):g=qt.access(t,"fxshow",{display:h}),s&&(g.hidden=!m),m&&w([t],!0),d.done(function(){m||w([t]),qt.remove(t,"fxshow");for(n in f)xt.style(t,n,f[n])})),l=$(m?g[n]:0,n,d),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}}function G(t,e){var i,n,r,s,o;for(i in t)if(n=p(i),r=e[n],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=xt.cssHooks[n])&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=r)}else e[n]=r}function X(t,e,i){var n,r,s=0,o=X.prefilters.length,a=xt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ve||Y(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,s=1-n,o=0,l=h.tweens.length;o<l;o++)h.tweens[o].run(s);return a.notifyWith(t,[h,s,i]),s<1&&l?i:(l||a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:xt.extend({},e),opts:xt.extend(!0,{specialEasing:{},easing:xt.easing._default},i),originalProperties:e,originalOptions:i,startTime:ve||Y(),duration:i.duration,tweens:[],createTween:function(e,i){var n=xt.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)h.tweens[i].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),c=h.props;for(G(c,h.opts.specialEasing);s<o;s++)if(n=X.prefilters[s].call(h,t,c,h.opts))return yt(n.stop)&&(xt._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return xt.map(c,$,h),yt(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),xt.fx.timer(xt.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}function K(t){return(t.match(Mt)||[]).join(" ")}function Q(t){return t.getAttribute&&t.getAttribute("class")||""}function J(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Mt)||[]:[]}function Z(t,e,i,r){var s;if(Array.isArray(e))xt.each(e,function(e,n){i||Ie.test(t)?r(t,n):Z(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,i,r)});else if(i||"object"!==n(e))r(t,e);else for(s in e)Z(t+"["+s+"]",e[s],i,r)}function tt(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(Mt)||[];if(yt(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function et(t,e,i,n){function r(a){var l;return s[a]=!0,xt.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||o||s[h]?o?!(l=h):void 0:(e.dataTypes.unshift(h),r(h),!1)}),l}var s={},o=t===ze;return r(e.dataTypes[0])||!s["*"]&&r("*")}function it(t,e){var i,n,r=xt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&xt.extend(!0,t,n),t}function nt(t,e,i){for(var n,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}function rt(t,e,i,n){var r,s,o,a,l,h={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=h[l+" "+s]||h["* "+s]))for(r in h)if(a=r.split(" "),a[1]===s&&(o=h[l+" "+a[0]]||h["* "+a[0]])){!0===o?o=h[r]:!0!==h[r]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}var st=[],ot=t.document,at=Object.getPrototypeOf,lt=st.slice,ht=st.concat,ct=st.push,ut=st.indexOf,dt={},ft=dt.toString,pt=dt.hasOwnProperty,mt=pt.toString,gt=mt.call(Object),vt={},yt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},bt=function(t){return null!=t&&t===t.window},wt={type:!0,src:!0,noModule:!0},xt=function(t,e){return new xt.fn.init(t,e)},_t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;xt.fn=xt.prototype={jquery:"3.3.1",constructor:xt,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=xt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return xt.each(this,t)},map:function(t){return this.pushStack(xt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:st.sort,splice:st.splice},xt.extend=xt.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[a]||{},a++),"object"==typeof o||yt(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],n=t[e],o!==n&&(h&&n&&(xt.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,s=i&&Array.isArray(i)?i:[]):s=i&&xt.isPlainObject(i)?i:{},o[e]=xt.extend(h,s,n)):void 0!==n&&(o[e]=n));return o},xt.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ft.call(t))&&(!(e=at(t))||"function"==typeof(i=pt.call(e,"constructor")&&e.constructor)&&mt.call(i)===gt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){i(t)},each:function(t,e){var i,n=0;if(r(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(_t,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(r(Object(t))?xt.merge(i,"string"==typeof t?[t]:t):ct.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:ut.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,o=!i;r<s;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var n,s,o=0,a=[];if(r(t))for(n=t.length;o<n;o++)null!=(s=e(t[o],o,i))&&a.push(s);else for(o in t)null!=(s=e(t[o],o,i))&&a.push(s);return ht.apply([],a)},guid:1,support:vt}),"function"==typeof Symbol&&(xt.fn[Symbol.iterator]=st[Symbol.iterator]),xt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){dt["[object "+e+"]"]=e.toLowerCase()});var Ct=function(t){function e(t,e,i,n){var r,s,o,a,l,c,d,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:q)!==I&&N(e),e=e||I,O)){if(11!==p&&(l=mt.exec(t)))if(r=l[1]){if(9===p){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(f&&(o=f.getElementById(r))&&L(e,o)&&o.id===r)return i.push(o),i}else{if(l[2])return K.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return K.apply(i,e.getElementsByClassName(r)),i}if(w.qsa&&!Y[t+" "]&&(!P||!P.test(t))){if(1!==p)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,wt):e.setAttribute("id",a=H),c=k(t),s=c.length;s--;)c[s]="#"+a+" "+u(c[s]);d=c.join(","),f=gt.test(t)&&h(e.parentNode)||e}if(d)try{return K.apply(i,f.querySelectorAll(d)),i}catch(t){}finally{a===H&&e.removeAttribute("id")}}}return T(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function r(t){var e=I.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&_t(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=B++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,l){var h,c,u,d=[W,a];if(l){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(u=e[H]||(e[H]={}),c=u[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((h=c[s])&&h[0]===W&&h[1]===a)return d[2]=h[2];if(c[s]=d,d[2]=t(e,i,l))return!0}return!1}}function f(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var r=0,s=i.length;r<s;r++)e(t,i[r],n);return n}function m(t,e,i,n,r){for(var s,o=[],a=0,l=t.length,h=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),h&&e.push(a)));return o}function g(t,e,i,r,s,o){return r&&!r[H]&&(r=g(r)),s&&!s[H]&&(s=g(s,o)),n(function(n,o,a,l){var h,c,u,d=[],f=[],g=o.length,v=n||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:m(v,d,t,a,l),b=i?s||(n?t:g||r)?[]:o:y;if(i&&i(y,b,a,l),r)for(h=m(b,f),r(h,[],a,l),c=h.length;c--;)(u=h[c])&&(b[f[c]]=!(y[f[c]]=u));if(n){if(s||t){if(s){for(h=[],c=b.length;c--;)(u=b[c])&&h.push(y[c]=u);s(null,b=[],h,l)}for(c=b.length;c--;)(u=b[c])&&(h=s?J(n,u):d[c])>-1&&(n[h]=!(o[h]=u))}}else b=m(b===o?b.splice(g,b.length):b),s?s(null,o,b,l):K.apply(o,b)})}function v(t){for(var e,i,n,r=t.length,s=x.relative[t[0].type],o=s||x.relative[" "],a=s?1:0,l=d(function(t){return t===e},o,!0),h=d(function(t){return J(e,t)>-1},o,!0),c=[function(t,i,n){var r=!s&&(n||i!==A)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,r}];a<r;a++)if(i=x.relative[t[a].type])c=[d(f(c),i)];else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[H]){for(n=++a;n<r&&!x.relative[t[n].type];n++);return g(a>1&&f(c),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),i,a<n&&v(t.slice(a,n)),n<r&&v(t=t.slice(n)),n<r&&u(t))}c.push(i)}return f(c)}function y(t,i){var r=i.length>0,s=t.length>0,o=function(n,o,a,l,h){var c,u,d,f=0,p="0",g=n&&[],v=[],y=A,b=n||s&&x.find.TAG("*",h),w=W+=null==y?1:Math.random()||.1,_=b.length;for(h&&(A=o===I||o||h);p!==_&&null!=(c=b[p]);p++){if(s&&c){for(u=0,o||c.ownerDocument===I||(N(c),a=!O);d=t[u++];)if(d(c,o||I,a)){l.push(c);break}h&&(W=w)}r&&((c=!d&&c)&&f--,n&&g.push(c))}if(f+=p,r&&p!==f){for(u=0;d=i[u++];)d(g,v,o,a);if(n){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=G.call(l));v=m(v)}K.apply(l,v),h&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return h&&(W=w,A=y),g};return r?n(o):o}var b,w,x,_,C,k,S,T,A,D,E,N,I,M,O,P,R,j,L,H="sizzle"+1*new Date,q=t.document,W=0,B=0,F=i(),z=i(),Y=i(),U=function(t,e){return t===e&&(E=!0),0},$={}.hasOwnProperty,V=[],G=V.pop,X=V.push,K=V.push,Q=V.slice,J=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ht=new RegExp(nt),ct=new RegExp("^"+et+"$"),ut={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},xt=function(){N()},_t=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{K.apply(V=Q.call(q.childNodes),q.childNodes),V[q.childNodes.length].nodeType}catch(t){K={apply:V.length?function(t,e){X.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,M=I.documentElement,O=!C(I),q!==I&&(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=pt.test(I.getElementsByClassName),w.getById=r(function(t){return M.appendChild(t).id=H,!I.getElementsByName||!I.getElementsByName(H).length}),w.getById?(x.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i=e.getElementById(t);return i?[i]:[]}}):(x.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),x.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},x.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&O)return e.getElementsByClassName(t)},R=[],P=[],(w.qsa=pt.test(I.querySelectorAll))&&(r(function(t){M.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+H+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||P.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=I.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),M.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=pt.test(j=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){w.disconnectedMatch=j.call(t,"*"),j.call(t,"[s!='']:x"),R.push("!=",nt)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),e=pt.test(M.compareDocumentPosition),L=e||pt.test(M.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return E=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===I||t.ownerDocument===q&&L(q,t)?-1:e===I||e.ownerDocument===q&&L(q,e)?1:D?J(D,t)-J(D,e):0:4&i?-1:1)}:function(t,e){
if(t===e)return E=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!r||!s)return t===I?-1:e===I?1:r?-1:s?1:D?J(D,t)-J(D,e):0;if(r===s)return o(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===q?-1:l[n]===q?1:0},I):I},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==I&&N(t),i=i.replace(lt,"='$1']"),w.matchesSelector&&O&&!Y[i+" "]&&(!R||!R.test(i))&&(!P||!P.test(i)))try{var n=j.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&N(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&N(t);var i=x.attrHandle[e.toLowerCase()],n=i&&$.call(x.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0!==n?n:w.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(bt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(E=!w.detectDuplicates,D=!w.sortStable&&t.slice(0),t.sort(U),E){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return D=null,t},_=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=_(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ut.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=k(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var s=e.attr(r,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var h,c,u,d,f,p,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(s){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(d=g,u=d[H]||(d[H]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),h=c[t]||[],f=h[0]===W&&h[1],b=f&&h[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[W,f,b];break}}else if(y&&(d=e,u=d[H]||(d[H]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),h=c[t]||[],f=h[0]===W&&h[1],b=f),!1===b)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(u=d[H]||(d[H]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),c[t]=[W,b]),d!==e)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,i){var r,s=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[H]?s(i):s.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=s(t,i),o=r.length;o--;)n=J(t,r[o]),t[n]=!(e[n]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:n(function(t){var e=[],i=[],r=S(t.replace(st,"$1"));return r[H]?n(function(t,e,i,n){for(var s,o=r(t,null,n,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,r(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,yt).toLowerCase(),function(e){var i;do{if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[i<0?i+e:i]}),even:l(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(b);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,k=e.tokenize=function(t,i){var n,r,s,o,a,l,h,c=z[t+" "];if(c)return i?0:c.slice(0);for(a=t,l=[],h=x.preFilter;a;){n&&!(r=ot.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=at.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(st," ")}),a=a.slice(n.length));for(o in x.filter)!(r=ut[o].exec(a))||h[o]&&!(r=h[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):z(t,l).slice(0)},S=e.compile=function(t,e){var i,n=[],r=[],s=Y[t+" "];if(!s){for(e||(e=k(t)),i=e.length;i--;)s=v(e[i]),s[H]?n.push(s):r.push(s);s=Y(t,y(r,n)),s.selector=t}return s},T=e.select=function(t,e,i,n){var r,s,o,a,l,c="function"==typeof t&&t,d=!n&&k(t=c.selector||t);if(i=i||[],1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&9===e.nodeType&&O&&x.relative[s[1].type]){if(!(e=(x.find.ID(o.matches[0].replace(vt,yt),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=ut.needsContext.test(t)?0:s.length;r--&&(o=s[r],!x.relative[a=o.type]);)if((l=x.find[a])&&(n=l(o.matches[0].replace(vt,yt),gt.test(s[0].type)&&h(e.parentNode)||e))){if(s.splice(r,1),!(t=n.length&&u(s)))return K.apply(i,n),i;break}}return(c||S(t,d))(n,e,!O,i,!e||gt.test(t)&&h(e.parentNode)||e),i},w.sortStable=H.split("").sort(U).join("")===H,w.detectDuplicates=!!E,N(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(I.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(Z,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);xt.find=Ct,xt.expr=Ct.selectors,xt.expr[":"]=xt.expr.pseudos,xt.uniqueSort=xt.unique=Ct.uniqueSort,xt.text=Ct.getText,xt.isXMLDoc=Ct.isXML,xt.contains=Ct.contains,xt.escapeSelector=Ct.escape;var kt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&xt(t).is(i))break;n.push(t)}return n},St=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},Tt=xt.expr.match.needsContext,At=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;xt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?xt.find.matchesSelector(n,t)?[n]:[]:xt.find.matches(t,xt.grep(e,function(t){return 1===t.nodeType}))},xt.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(xt(t).filter(function(){for(e=0;e<n;e++)if(xt.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)xt.find(t,r[e],i);return n>1?xt.uniqueSort(i):i},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&Tt.test(t)?xt(t):t||[],!1).length}});var Dt,Et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(xt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||Dt,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Et.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof xt?e[0]:e,xt.merge(this,xt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ot,!0)),At.test(n[1])&&xt.isPlainObject(e))for(n in e)yt(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=ot.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt(t)?void 0!==i.ready?i.ready(t):t(xt):xt.makeArray(t,this)}).prototype=xt.fn,Dt=xt(ot);var Nt=/^(?:parents|prev(?:Until|All))/,It={children:!0,contents:!0,next:!0,prev:!0};xt.fn.extend({has:function(t){var e=xt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(xt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&xt(t);if(!Tt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&xt.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?xt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?ut.call(xt(t),this[0]):ut.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(xt.uniqueSort(xt.merge(this.get(),xt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),xt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return kt(t,"parentNode")},parentsUntil:function(t,e,i){return kt(t,"parentNode",i)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return kt(t,"nextSibling")},prevAll:function(t){return kt(t,"previousSibling")},nextUntil:function(t,e,i){return kt(t,"nextSibling",i)},prevUntil:function(t,e,i){return kt(t,"previousSibling",i)},siblings:function(t){return St((t.parentNode||{}).firstChild,t)},children:function(t){return St(t.firstChild)},contents:function(t){return s(t,"iframe")?t.contentDocument:(s(t,"template")&&(t=t.content||t),xt.merge([],t.childNodes))}},function(t,e){xt.fn[t]=function(i,n){var r=xt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=xt.filter(n,r)),this.length>1&&(It[t]||xt.uniqueSort(r),Nt.test(t)&&r.reverse()),this.pushStack(r)}});var Mt=/[^\x20\t\r\n\f]+/g;xt.Callbacks=function(t){t="string"==typeof t?l(t):xt.extend({},t);var e,i,r,s,o=[],a=[],h=-1,c=function(){for(s=s||t.once,r=e=!0;a.length;h=-1)for(i=a.shift();++h<o.length;)!1===o[h].apply(i[0],i[1])&&t.stopOnFalse&&(h=o.length,i=!1);t.memory||(i=!1),e=!1,s&&(o=i?[]:"")},u={add:function(){return o&&(i&&!e&&(h=o.length-1,a.push(i)),function e(i){xt.each(i,function(i,r){yt(r)?t.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==n(r)&&e(r)})}(arguments),i&&!e&&c()),this},remove:function(){return xt.each(arguments,function(t,e){for(var i;(i=xt.inArray(e,o,i))>-1;)o.splice(i,1),i<=h&&h--}),this},has:function(t){return t?xt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=a=[],i||e||(o=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},xt.extend({Deferred:function(e){var i=[["notify","progress",xt.Callbacks("memory"),xt.Callbacks("memory"),2],["resolve","done",xt.Callbacks("once memory"),xt.Callbacks("once memory"),0,"resolved"],["reject","fail",xt.Callbacks("once memory"),xt.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return xt.Deferred(function(e){xt.each(i,function(i,n){var r=yt(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=r&&r.apply(this,arguments);t&&yt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){function s(e,i,n,r){return function(){var a=this,l=arguments,u=function(){var t,u;if(!(e<o)){if((t=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");u=t&&("object"==typeof t||"function"==typeof t)&&t.then,yt(u)?r?u.call(t,s(o,i,h,r),s(o,i,c,r)):(o++,u.call(t,s(o,i,h,r),s(o,i,c,r),s(o,i,h,i.notifyWith))):(n!==h&&(a=void 0,l=[t]),(r||i.resolveWith)(a,l))}},d=r?u:function(){try{u()}catch(t){xt.Deferred.exceptionHook&&xt.Deferred.exceptionHook(t,d.stackTrace),e+1>=o&&(n!==c&&(a=void 0,l=[t]),i.rejectWith(a,l))}};e?d():(xt.Deferred.getStackHook&&(d.stackTrace=xt.Deferred.getStackHook()),t.setTimeout(d))}}var o=0;return xt.Deferred(function(t){i[0][3].add(s(0,t,yt(r)?r:h,t.notifyWith)),i[1][3].add(s(0,t,yt(e)?e:h)),i[2][3].add(s(0,t,yt(n)?n:c))}).promise()},promise:function(t){return null!=t?xt.extend(t,r):r}},s={};return xt.each(i,function(t,e){var o=e[2],a=e[5];r[e[1]]=o.add,a&&o.add(function(){n=a},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=lt.call(arguments),s=xt.Deferred(),o=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?lt.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(u(t,s.done(o(i)).resolve,s.reject,!e),"pending"===s.state()||yt(r[i]&&r[i].then)))return s.then();for(;i--;)u(r[i],o(i),s.reject);return s.promise()}});var Ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xt.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Ot.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},xt.readyException=function(e){t.setTimeout(function(){throw e})};var Pt=xt.Deferred();xt.fn.ready=function(t){return Pt.then(t).catch(function(t){xt.readyException(t)}),this},xt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--xt.readyWait:xt.isReady)||(xt.isReady=!0,!0!==t&&--xt.readyWait>0||Pt.resolveWith(ot,[xt]))}}),xt.ready.then=Pt.then,"complete"===ot.readyState||"loading"!==ot.readyState&&!ot.documentElement.doScroll?t.setTimeout(xt.ready):(ot.addEventListener("DOMContentLoaded",d),t.addEventListener("load",d));var Rt=function(t,e,i,r,s,o,a){var l=0,h=t.length,c=null==i;if("object"===n(i)){s=!0;for(l in i)Rt(t,e,l,i[l],!0,o,a)}else if(void 0!==r&&(s=!0,yt(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,i){return c.call(xt(t),i)})),e))for(;l<h;l++)e(t[l],i,a?r:r.call(t[l],l,e(t[l],i)));return s?t:c?e.call(t):h?e(t[0],i):o},jt=/^-ms-/,Lt=/-([a-z])/g,Ht=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ht(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[p(e)]=i;else for(n in e)r[p(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(p):(e=p(e),e=e in n?[e]:e.match(Mt)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||xt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!xt.isEmptyObject(e)}};var qt=new m,Wt=new m,Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/[A-Z]/g;xt.extend({hasData:function(t){return Wt.hasData(t)||qt.hasData(t)},data:function(t,e,i){return Wt.access(t,e,i)},removeData:function(t,e){Wt.remove(t,e)},_data:function(t,e,i){return qt.access(t,e,i)},_removeData:function(t,e){qt.remove(t,e)}}),xt.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=Wt.get(s),1===s.nodeType&&!qt.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=p(n.slice(5)),v(s,n,r[n])));qt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Wt.set(this,t)}):Rt(this,function(e){var i;if(s&&void 0===e){if(void 0!==(i=Wt.get(s,t)))return i;if(void 0!==(i=v(s,t)))return i}else this.each(function(){Wt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Wt.remove(this,t)})}}),xt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=qt.get(t,e),i&&(!n||Array.isArray(i)?n=qt.access(t,e,xt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=xt.queue(t,e),n=i.length,r=i.shift(),s=xt._queueHooks(t,e),o=function(){xt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return qt.get(t,i)||qt.access(t,i,{empty:xt.Callbacks("once memory").add(function(){qt.remove(t,[e+"queue",i])})})}}),xt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?xt.queue(this[0],t):void 0===e?this:this.each(function(){var i=xt.queue(this,t,e);xt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&xt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){xt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=xt.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=qt.get(s[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Yt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),Ut=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&xt.contains(t.ownerDocument,t)&&"none"===xt.css(t,"display")},Vt=function(t,e,i,n){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return r},Gt={};xt.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?xt(this).show():xt(this).hide()})}});var Xt=/^(?:checkbox|radio)$/i,Kt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i,Jt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td;var Zt=/<|&#?\w+;/;!function(){var t=ot.createDocumentFragment(),e=t.appendChild(ot.createElement("div")),i=ot.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),vt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var te=ot.documentElement,ee=/^key/,ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ne=/^([^.]*)(?:\.(.+)|)/;xt.event={global:{},add:function(t,e,i,n,r){var s,o,a,l,h,c,u,d,f,p,m,g=qt.get(t);if(g)for(i.handler&&(s=i,i=s.handler,r=s.selector),r&&xt.find.matchesSelector(te,r),i.guid||(i.guid=xt.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(e){return void 0!==xt&&xt.event.triggered!==e.type?xt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Mt)||[""],h=e.length;h--;)a=ne.exec(e[h])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(u=xt.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=xt.event.special[f]||{},c=xt.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&xt.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=l[f])||(d=l[f]=[],d.delegateCount=0,u.setup&&!1!==u.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(f,o)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),xt.event.global[f]=!0)},remove:function(t,e,i,n,r){var s,o,a,l,h,c,u,d,f,p,m,g=qt.hasData(t)&&qt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(Mt)||[""],h=e.length;h--;)if(a=ne.exec(e[h])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(u=xt.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)c=d[s],!r&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(t,c));o&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,p,g.handle)||xt.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)xt.event.remove(t,f+e[h],i,n,!0);xt.isEmptyObject(l)&&qt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=xt.event.fix(t),l=new Array(arguments.length),h=(qt.get(this,"events")||{})[a.type]||[],c=xt.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(o=xt.event.handlers.call(this,a,h),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(n=((xt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o,a=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(s=[],o={},i=0;i<l;i++)n=e[i],r=n.selector+" ",void 0===o[r]&&(o[r]=n.needsContext?xt(r,this).index(h)>-1:xt.find(r,this,null,[h]).length),o[r]&&s.push(n);s.length&&a.push({elem:h,handlers:s})}return h=this,l<e.length&&a.push({elem:h,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(xt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[xt.expando]?t:new xt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&s(this,"input"))return this.click(),!1},_default:function(t){return s(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},xt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},xt.Event=function(t,e){if(!(this instanceof xt.Event))return new xt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?k:S,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&xt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[xt.expando]=!0},xt.Event.prototype={constructor:xt.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=k,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=k,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=k,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},xt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ee.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ie.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},xt.event.addProp),xt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){xt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===n||xt.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),xt.fn.extend({on:function(t,e,i,n){return A(this,t,e,i,n)},one:function(t,e,i,n){return A(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,xt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=S),this.each(function(){xt.event.remove(this,t,i,e)})}});var re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,se=/<script|<style|<link/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xt.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,i){var n,r,s,o,a=t.cloneNode(!0),l=xt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||xt.isXMLDoc(t)))for(o=x(a),s=x(t),n=0,r=s.length;n<r;n++)M(s[n],o[n]);if(e)if(i)for(s=s||x(t),o=o||x(a),n=0,r=s.length;n<r;n++)I(s[n],o[n]);else I(t,a);return o=x(a,"script"),o.length>0&&_(o,!l&&x(t,"script")),a},cleanData:function(t){for(var e,i,n,r=xt.event.special,s=0;void 0!==(i=t[s]);s++)if(Ht(i)){if(e=i[qt.expando]){if(e.events)for(n in e.events)r[n]?xt.event.remove(i,n):xt.removeEvent(i,n,e.handle);i[qt.expando]=void 0}i[Wt.expando]&&(i[Wt.expando]=void 0)}}}),xt.fn.extend({detach:function(t){return P(this,t,!0)},remove:function(t){return P(this,t)},text:function(t){return Rt(this,function(t){return void 0===t?xt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){D(this,t).appendChild(t)}})},prepend:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=D(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(xt.cleanData(x(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return xt.clone(this,t,e)})},html:function(t){return Rt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!se.test(t)&&!Jt[(Kt.exec(t)||["",""])[1].toLowerCase()]){t=xt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(xt.cleanData(x(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return O(this,arguments,function(e){var i=this.parentNode;xt.inArray(this,t)<0&&(xt.cleanData(x(this)),i&&i.replaceChild(e,this))},t)}}),xt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){xt.fn[t]=function(t){for(var i,n=[],r=xt(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),xt(r[o])[e](i),ct.apply(n,i.get());return this.pushStack(n)}});var le=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),he=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},ce=new RegExp(Ut.join("|"),"i");!function(){function e(){if(h){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",te.appendChild(l).appendChild(h);var e=t.getComputedStyle(h);n="1%"!==e.top,a=12===i(e.marginLeft),h.style.right="60%",o=36===i(e.right),r=36===i(e.width),h.style.position="absolute",s=36===h.offsetWidth||"absolute",te.removeChild(l),h=null}}function i(t){return Math.round(parseFloat(t))}var n,r,s,o,a,l=ot.createElement("div"),h=ot.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===h.style.backgroundClip,xt.extend(vt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),s}}))}();var ue=/^(none|table(?!-c[ea]).+)/,de=/^--/,fe={position:"absolute",visibility:"hidden",
display:"block"},pe={letterSpacing:"0",fontWeight:"400"},me=["Webkit","Moz","ms"],ge=ot.createElement("div").style;xt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=R(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=p(e),l=de.test(e),h=t.style;if(l||(e=H(a)),o=xt.cssHooks[e]||xt.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:h[e];s=typeof i,"string"===s&&(r=Yt.exec(i))&&r[1]&&(i=y(t,e,r),s="number"),null!=i&&i===i&&("number"===s&&(i+=r&&r[3]||(xt.cssNumber[a]?"":"px")),vt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,n){var r,s,o,a=p(e);return de.test(e)||(e=H(a)),o=xt.cssHooks[e]||xt.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=R(t,e,n)),"normal"===r&&e in pe&&(r=pe[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),xt.each(["height","width"],function(t,e){xt.cssHooks[e]={get:function(t,i,n){if(i)return!ue.test(xt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?B(t,e,n):Vt(t,fe,function(){return B(t,e,n)})},set:function(t,i,n){var r,s=he(t),o="border-box"===xt.css(t,"boxSizing",!1,s),a=n&&W(t,e,n,o,s);return o&&vt.scrollboxSize()===s.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-W(t,e,"border",!1,s)-.5)),a&&(r=Yt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=xt.css(t,e)),q(t,i,a)}}}),xt.cssHooks.marginLeft=j(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(R(t,"marginLeft"))||t.getBoundingClientRect().left-Vt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),xt.each({margin:"",padding:"",border:"Width"},function(t,e){xt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Ut[n]+e]=s[n]||s[n-2]||s[0];return r}},"margin"!==t&&(xt.cssHooks[t+e].set=q)}),xt.fn.extend({css:function(t,e){return Rt(this,function(t,e,i){var n,r,s={},o=0;if(Array.isArray(e)){for(n=he(t),r=e.length;o<r;o++)s[e[o]]=xt.css(t,e[o],!1,n);return s}return void 0!==i?xt.style(t,e,i):xt.css(t,e)},t,e,arguments.length>1)}}),xt.Tween=F,F.prototype={constructor:F,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||xt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(xt.cssNumber[i]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,i=F.propHooks[this.prop];return this.options.duration?this.pos=e=xt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=xt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){xt.fx.step[t.prop]?xt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[xt.cssProps[t.prop]]&&!xt.cssHooks[t.prop]?t.elem[t.prop]=t.now:xt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},xt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},xt.fx=F.prototype.init,xt.fx.step={};var ve,ye,be=/^(?:toggle|show|hide)$/,we=/queueHooks$/;xt.Animation=xt.extend(X,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return y(i.elem,t,Yt.exec(e),i),i}]},tweener:function(t,e){yt(t)?(e=t,t=["*"]):t=t.match(Mt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],X.tweeners[i]=X.tweeners[i]||[],X.tweeners[i].unshift(e)},prefilters:[V],prefilter:function(t,e){e?X.prefilters.unshift(t):X.prefilters.push(t)}}),xt.speed=function(t,e,i){var n=t&&"object"==typeof t?xt.extend({},t):{complete:i||!i&&e||yt(t)&&t,duration:t,easing:i&&e||e&&!yt(e)&&e};return xt.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in xt.fx.speeds?n.duration=xt.fx.speeds[n.duration]:n.duration=xt.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){yt(n.old)&&n.old.call(this),n.queue&&xt.dequeue(this,n.queue)},n},xt.fn.extend({fadeTo:function(t,e,i,n){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=xt.isEmptyObject(t),s=xt.speed(e,i,n),o=function(){var e=X(this,xt.extend({},t),s);(r||qt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=xt.timers,o=qt.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&we.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||xt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=qt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=xt.timers,o=n?n.length:0;for(i.finish=!0,xt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),xt.each(["toggle","show","hide"],function(t,e){var i=xt.fn[e];xt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(U(e,!0),t,n,r)}}),xt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){xt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),xt.timers=[],xt.fx.tick=function(){var t,e=0,i=xt.timers;for(ve=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||xt.fx.stop(),ve=void 0},xt.fx.timer=function(t){xt.timers.push(t),xt.fx.start()},xt.fx.interval=13,xt.fx.start=function(){ye||(ye=!0,z())},xt.fx.stop=function(){ye=null},xt.fx.speeds={slow:600,fast:200,_default:400},xt.fn.delay=function(e,i){return e=xt.fx?xt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=ot.createElement("input"),e=ot.createElement("select"),i=e.appendChild(ot.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=i.selected,t=ot.createElement("input"),t.value="t",t.type="radio",vt.radioValue="t"===t.value}();var xe,_e=xt.expr.attrHandle;xt.fn.extend({attr:function(t,e){return Rt(this,xt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){xt.removeAttr(this,t)})}}),xt.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?xt.prop(t,e,i):(1===s&&xt.isXMLDoc(t)||(r=xt.attrHooks[e.toLowerCase()]||(xt.expr.match.bool.test(e)?xe:void 0)),void 0!==i?null===i?void xt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=xt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&s(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Mt);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),xe={set:function(t,e,i){return!1===e?xt.removeAttr(t,i):t.setAttribute(i,i),i}},xt.each(xt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=_e[e]||xt.find.attr;_e[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=_e[o],_e[o]=r,r=null!=i(t,e,n)?o:null,_e[o]=s),r}});var Ce=/^(?:input|select|textarea|button)$/i,ke=/^(?:a|area)$/i;xt.fn.extend({prop:function(t,e){return Rt(this,xt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[xt.propFix[t]||t]})}}),xt.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&xt.isXMLDoc(t)||(e=xt.propFix[e]||e,r=xt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=xt.find.attr(t,"tabindex");return e?parseInt(e,10):Ce.test(t.nodeName)||ke.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(xt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),xt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xt.propFix[this.toLowerCase()]=this}),xt.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,l=0;if(yt(t))return this.each(function(e){xt(this).addClass(t.call(this,e,Q(this)))});if(e=J(t),e.length)for(;i=this[l++];)if(r=Q(i),n=1===i.nodeType&&" "+K(r)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=K(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,l=0;if(yt(t))return this.each(function(e){xt(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr("class","");if(e=J(t),e.length)for(;i=this[l++];)if(r=Q(i),n=1===i.nodeType&&" "+K(r)+" "){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=K(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):yt(t)?this.each(function(i){xt(this).toggleClass(t.call(this,i,Q(this),e),e)}):this.each(function(){var e,r,s,o;if(n)for(r=0,s=xt(this),o=J(t);e=o[r++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==i||(e=Q(this),e&&qt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":qt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+K(Q(i))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;xt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=yt(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,xt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=xt.map(r,function(t){return null==t?"":t+""})),(e=xt.valHooks[this.type]||xt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=xt.valHooks[r.type]||xt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Se,""):null==i?"":i)}}}),xt.extend({valHooks:{option:{get:function(t){var e=xt.find.attr(t,"value");return null!=e?e:K(xt.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,a="select-one"===t.type,l=a?null:[],h=a?o+1:r.length;for(n=o<0?h:a?o:0;n<h;n++)if(i=r[n],(i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!s(i.parentNode,"optgroup"))){if(e=xt(i).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var i,n,r=t.options,s=xt.makeArray(e),o=r.length;o--;)n=r[o],(n.selected=xt.inArray(xt.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),xt.each(["radio","checkbox"],function(){xt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=xt.inArray(xt(t).val(),e)>-1}},vt.checkOn||(xt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),vt.focusin="onfocusin"in t;var Te=/^(?:focusinfocus|focusoutblur)$/,Ae=function(t){t.stopPropagation()};xt.extend(xt.event,{trigger:function(e,i,n,r){var s,o,a,l,h,c,u,d,f=[n||ot],p=pt.call(e,"type")?e.type:e,m=pt.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=n=n||ot,3!==n.nodeType&&8!==n.nodeType&&!Te.test(p+xt.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),h=p.indexOf(":")<0&&"on"+p,e=e[xt.expando]?e:new xt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:xt.makeArray(i,[e]),u=xt.event.special[p]||{},r||!u.trigger||!1!==u.trigger.apply(n,i))){if(!r&&!u.noBubble&&!bt(n)){for(l=u.delegateType||p,Te.test(l+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(n.ownerDocument||ot)&&f.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=f[s++])&&!e.isPropagationStopped();)d=o,e.type=s>1?l:u.bindType||p,c=(qt.get(o,"events")||{})[e.type]&&qt.get(o,"handle"),c&&c.apply(o,i),(c=h&&o[h])&&c.apply&&Ht(o)&&(e.result=c.apply(o,i),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),i)||!Ht(n)||h&&yt(n[p])&&!bt(n)&&(a=n[h],a&&(n[h]=null),xt.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Ae),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Ae),xt.event.triggered=void 0,a&&(n[h]=a)),e.result}},simulate:function(t,e,i){var n=xt.extend(new xt.Event,i,{type:t,isSimulated:!0});xt.event.trigger(n,null,e)}}),xt.fn.extend({trigger:function(t,e){return this.each(function(){xt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return xt.event.trigger(t,e,i,!0)}}),vt.focusin||xt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){xt.event.simulate(e,t.target,xt.event.fix(t))};xt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=qt.access(n,e);r||n.addEventListener(t,i,!0),qt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=qt.access(n,e)-1;r?qt.access(n,e,r):(n.removeEventListener(t,i,!0),qt.remove(n,e))}}});var De=t.location,Ee=Date.now(),Ne=/\?/;xt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||xt.error("Invalid XML: "+e),i};var Ie=/\[\]$/,Me=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;xt.param=function(t,e){var i,n=[],r=function(t,e){var i=yt(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!xt.isPlainObject(t))xt.each(t,function(){r(this.name,this.value)});else for(i in t)Z(i,t[i],e,r);return n.join("&")},xt.fn.extend({serialize:function(){return xt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=xt.prop(this,"elements");return t?xt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!xt(this).is(":disabled")&&Pe.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!Xt.test(t))}).map(function(t,e){var i=xt(this).val();return null==i?null:Array.isArray(i)?xt.map(i,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:i.replace(Me,"\r\n")}}).get()}});var Re=/%20/g,je=/#.*$/,Le=/([?&])_=[^&]*/,He=/^(.*?):[ \t]*([^\r\n]*)$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,We=/^(?:GET|HEAD)$/,Be=/^\/\//,Fe={},ze={},Ye="*/".concat("*"),Ue=ot.createElement("a");Ue.href=De.href,xt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De.href,type:"GET",isLocal:qe.test(De.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?it(it(t,xt.ajaxSettings),e):it(xt.ajaxSettings,t)},ajaxPrefilter:tt(Fe),ajaxTransport:tt(ze),ajax:function(e,i){function n(e,i,n,a){var h,d,f,w,x,_=i;c||(c=!0,l&&t.clearTimeout(l),r=void 0,o=a||"",C.readyState=e>0?4:0,h=e>=200&&e<300||304===e,n&&(w=nt(p,C,n)),w=rt(p,w,C,h),h?(p.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(xt.lastModified[s]=x),(x=C.getResponseHeader("etag"))&&(xt.etag[s]=x)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=w.state,d=w.data,f=w.error,h=!f)):(f=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(i||_)+"",h?v.resolveWith(m,[d,_,C]):v.rejectWith(m,[C,_,f]),C.statusCode(b),b=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[C,p,h?d:f]),y.fireWith(m,[C,_]),u&&(g.trigger("ajaxComplete",[C,p]),--xt.active||xt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,s,o,a,l,h,c,u,d,f,p=xt.ajaxSetup({},i),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?xt(m):xt.event,v=xt.Deferred(),y=xt.Callbacks("once memory"),b=p.statusCode||{},w={},x={},_="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=He.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return r&&r.abort(e),n(0,e),this}};if(v.promise(C),p.url=((e||p.url||De.href)+"").replace(Be,De.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Mt)||[""],null==p.crossDomain){h=ot.createElement("a");try{h.href=p.url,h.href=h.href,p.crossDomain=Ue.protocol+"//"+Ue.host!=h.protocol+"//"+h.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=xt.param(p.data,p.traditional)),et(Fe,p,i,C),c)return C;u=xt.event&&p.global,u&&0==xt.active++&&xt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!We.test(p.type),s=p.url.replace(je,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Re,"+")):(f=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(Ne.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(Le,"$1"),f=(Ne.test(s)?"&":"?")+"_="+Ee+++f),p.url=s+f),p.ifModified&&(xt.lastModified[s]&&C.setRequestHeader("If-Modified-Since",xt.lastModified[s]),xt.etag[s]&&C.setRequestHeader("If-None-Match",xt.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ye+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,C,p)||c))return C.abort();if(_="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=et(ze,p,i,C)){if(C.readyState=1,u&&g.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,r.send(w,n)}catch(t){if(c)throw t;n(-1,t)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return xt.get(t,e,i,"json")},getScript:function(t,e){return xt.get(t,void 0,e,"script")}}),xt.each(["get","post"],function(t,e){xt[e]=function(t,i,n,r){return yt(i)&&(r=r||n,n=i,i=void 0),xt.ajax(xt.extend({url:t,type:e,dataType:r,data:i,success:n},xt.isPlainObject(t)&&t))}}),xt._evalUrl=function(t){return xt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},xt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt(t)&&(t=t.call(this[0])),e=xt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt(t)?this.each(function(e){xt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=xt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt(t);return this.each(function(i){xt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){xt(this).replaceWith(this.childNodes)}),this}}),xt.expr.pseudos.hidden=function(t){return!xt.expr.pseudos.visible(t)},xt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},xt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},Ve=xt.ajaxSettings.xhr();vt.cors=!!Ve&&"withCredentials"in Ve,vt.ajax=Ve=!!Ve,xt.ajaxTransport(function(e){var i,n;if(vt.cors||Ve&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s($e[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),xt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),xt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return xt.globalEval(t),t}}}),xt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),xt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=xt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),ot.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ge=[],Xe=/(=)\?(?=&|$)|\?\?/;xt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||xt.expando+"_"+Ee++;return this[t]=!0,t}}),xt.ajaxPrefilter("json jsonp",function(e,i,n){var r,s,o,a=!1!==e.jsonp&&(Xe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=yt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xe,"$1"+r):!1!==e.jsonp&&(e.url+=(Ne.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||xt.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},n.always(function(){void 0===s?xt(t).removeProp(r):t[r]=s,e[r]&&(e.jsonpCallback=i.jsonpCallback,Ge.push(r)),o&&yt(s)&&s(o[0]),o=s=void 0}),"script"}),vt.createHTMLDocument=function(){var t=ot.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),xt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,s;return e||(vt.createHTMLDocument?(e=ot.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=ot.location.href,e.head.appendChild(n)):e=ot),r=At.exec(t),s=!i&&[],r?[e.createElement(r[1])]:(r=C([t],e,s),s&&s.length&&xt(s).remove(),xt.merge([],r.childNodes))},xt.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return a>-1&&(n=K(t.slice(a)),t=t.slice(0,a)),yt(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&xt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?xt("<div>").append(xt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},xt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){xt.fn[e]=function(t){return this.on(e,t)}}),xt.expr.pseudos.animated=function(t){return xt.grep(xt.timers,function(e){return t===e.elem}).length},xt.offset={setOffset:function(t,e,i){var n,r,s,o,a,l,h,c=xt.css(t,"position"),u=xt(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),s=xt.css(t,"top"),l=xt.css(t,"left"),h=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,h?(n=u.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),yt(e)&&(e=e.call(t,i,xt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+o),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},xt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){xt.offset.setOffset(this,t,e)});var e,i,n=this[0];if(n)return n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===xt.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===xt.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&(r=xt(t).offset(),r.top+=xt.css(t,"borderTopWidth",!0),r.left+=xt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-xt.css(n,"marginTop",!0),left:e.left-r.left-xt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===xt.css(t,"position");)t=t.offsetParent;return t||te})}}),xt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;xt.fn[t]=function(n){return Rt(this,function(t,n,r){var s;if(bt(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r},t,n,arguments.length)}}),xt.each(["top","left"],function(t,e){xt.cssHooks[e]=j(vt.pixelPosition,function(t,i){if(i)return i=R(t,e),le.test(i)?xt(t).position()[e]+"px":i})}),xt.each({Height:"height",Width:"width"},function(t,e){xt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){xt.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return Rt(this,function(e,i,r){var s;return bt(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?xt.css(e,i,a):xt.style(e,i,r,a)},e,o?r:void 0,o)}})}),xt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){xt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),xt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),xt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),xt.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),yt(t))return n=lt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(lt.call(arguments)))},r.guid=t.guid=t.guid||xt.guid++,r},xt.holdReady=function(t){t?xt.readyWait++:xt.ready(!0)},xt.isArray=Array.isArray,xt.parseJSON=JSON.parse,xt.nodeName=s,xt.isFunction=yt,xt.isWindow=bt,xt.camelCase=p,xt.type=n,xt.now=Date.now,xt.isNumeric=function(t){var e=xt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return xt});var Ke=t.jQuery,Qe=t.$;return xt.noConflict=function(e){return t.$===xt&&(t.$=Qe),e&&t.jQuery===xt&&(t.jQuery=Ke),xt},e||(t.jQuery=t.$=xt),xt}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var r,s,o,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,s=r.name,!(!e.href||!s||"map"!==r.nodeName.toLowerCase())&&(!!(o=t("img[usemap='#"+s+"']")[0])&&i(o))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function n(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){
t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}function l(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(i,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,s){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(s,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(s,n(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(i=r.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var r,s=t.ui[e].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<s.length;r++)t.options[s[r][0]]&&s[r][1].apply(t.element,i)}};var h=0,c=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,s;for(s=0;null!=(r=i[s]);s++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,s,o,a,l={},h=e.split(".")[0];return e=e.split(".")[1],r=h+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[h]=t[h]||{},s=t[h][e],o=t[h][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,s,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){if(!t.isFunction(n))return void(l[e]=n);l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=s,e}}()}),o.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||e:e},l,{constructor:o,namespace:h,widgetName:e,widgetFullName:r}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,r=c.call(arguments,1),s=0,o=r.length;s<o;s++)for(i in r[s])n=r[s][i],r[s].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,o=c.call(arguments,1),a=this;return r=!s&&o.length?t.widget.extend.apply(null,[r].concat(o)):r,s?this.each(function(){var i,s=t.data(this,n);return"instance"===r?(a=s,!1):s?t.isFunction(s[r])&&"_"!==r.charAt(0)?(i=s[r].apply(s,o),i!==s&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))}),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,s,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(r=o[e]=t.widget.extend({},this.options[e]),s=0;s<n.length-1;s++)r[n[s]]=r[n[s]]||{},r=r[n[s]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var r,s=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,o){function a(){if(e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?s[o]:o).apply(s,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+s.eventNamespace,c=l[2];c?r.delegate(c,h,a):i.bind(h,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,s,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?!0===r||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),o&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}});var u=(t.widget,!1);t(document).mouseup(function(){u=!1});t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!u){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),u=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):e.which?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),u=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function e(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,s,o=Math.max,a=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,f=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return t("body").append(n),e=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||r?i.width():i.outerWidth(),height:n||r?i.height():i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=t.extend({},r);var f,m,g,v,y,b,w=t(r.of),x=t.position.getWithinInfo(r.within),_=t.position.getScrollInfo(x),C=(r.collision||"flip").split(" "),k={};return b=n(w),w[0].preventDefault&&(r.at="left top"),m=b.width,g=b.height,v=b.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=u.exec(i[0]),e=u.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],r[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===r.at[0]?y.left+=m:"center"===r.at[0]&&(y.left+=m/2),"bottom"===r.at[1]?y.top+=g:"center"===r.at[1]&&(y.top+=g/2),f=e(k.at,m,g),y.left+=f[0],y.top+=f[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),p=i(this,"marginLeft"),b=i(this,"marginTop"),S=u+p+i(this,"marginRight")+_.width,T=d+b+i(this,"marginBottom")+_.height,A=t.extend({},y),D=e(k.my,c.outerWidth(),c.outerHeight());"right"===r.my[0]?A.left-=u:"center"===r.my[0]&&(A.left-=u/2),"bottom"===r.my[1]?A.top-=d:"center"===r.my[1]&&(A.top-=d/2),A.left+=D[0],A.top+=D[1],s||(A.left=l(A.left),A.top=l(A.top)),n={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[C[e]]&&t.ui.position[C[e]][i](A,{targetWidth:m,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:S,collisionHeight:T,offset:[f[0]+D[0],f[1]+D[1]],my:r.my,at:r.at,within:x,elem:c})}),r.using&&(h=function(t){var e=v.left-A.left,i=e+m-u,n=v.top-A.top,s=n+g-d,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:A.left,top:A.top,width:u,height:d},horizontal:i<0?"left":e>0?"right":"center",vertical:s<0?"top":n>0?"bottom":"middle"};m<u&&a(e+i)<m&&(l.horizontal="center"),g<d&&a(n+s)<g&&(l.vertical="middle"),o(a(e),a(i))>o(a(n),a(s))?l.important="horizontal":l.important="vertical",r.using.call(this,t,l)}),c.offset(t.extend(A,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,h=a+e.collisionWidth-s-r;e.collisionWidth>s?l>0&&h<=0?(i=t.left+l+e.collisionWidth-s-r,t.left+=l-i):t.left=h>0&&l<=0?r:l>h?r+s-e.collisionWidth:r:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,h=a+e.collisionHeight-s-r;e.collisionHeight>s?l>0&&h<=0?(i=t.top+l+e.collisionHeight-s-r,t.top+=l-i):t.top=h>0&&l<=0?r:l>h?r+s-e.collisionHeight:r:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,s=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((i=t.left+d+f+p+e.collisionWidth-o-s)<0||i<a(c))&&(t.left+=d+f+p):u>0&&((n=t.left-e.collisionPosition.marginLeft+d+f+p-l)>0||a(n)<u)&&(t.left+=d+f+p)},top:function(t,e){var i,n,r=e.within,s=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d="top"===e.my[1],f=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];c<0?(n=t.top+f+p+m+e.collisionHeight-o-s,t.top+f+p+m>c&&(n<0||n<a(c))&&(t.top+=f+p+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+f+p+m-l,t.top+f+p+m>u&&(i>0||a(i)<u)&&(t.top+=f+p+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,o,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(l),i=a||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=t(l).offset().left,s=r>10&&r<11,e.innerHTML="",i.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){if("active"===t)return void this._activate(e);"event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),s=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(t(e.target).attr("tabIndex",-1),t(s).attr("tabIndex",0),s.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),r=n.uniqueId().attr("id");e.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=r.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),s=r[0]===n[0],o=s&&i.collapsible,a=o?t():r.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:o?t():r,newPanel:a};e.preventDefault(),s&&!i.collapsible||!1===this._trigger("beforeActivate",e,h)||(i.active=!o&&this.headers.index(r),this.active=s?t():r,this._toggle(h),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,i){var n,r,s,o=this,a=0,l=t.length&&(!e.length||t.index()<e.index()),h=this.options.animate||{},c=l&&h.down||h,u=function(){o._toggleComplete(i)};return"number"==typeof c&&(s=c),"string"==typeof c&&(r=c),r=r||c.easing||h.easing,s=s||c.duration||h.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:s,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:s,easing:r,complete:u,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?a+=i.now:"content"!==o.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,s,r,u):t.animate(this.showProps,s,r,u)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,s,o,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",s=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),s===r?o=!0:s=r+s,a=new RegExp("^"+i(s),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return a.test(t(this).text())}),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(e.keyCode),a=new RegExp("^"+i(s),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return a.test(t(this).text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,n=this,r=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),n=t("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),e=s.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),
i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,s,o,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(s+r):r+a>o&&this.activeMenu.scrollTop(s+r-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}});t.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),s="textarea"===r,o="input"===r;this.isMultiLine=!!s||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var s=t.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case s.UP:e=!0,this._keyEvent("previous",r);break;case s.DOWN:e=!0,this._keyEvent("next",r);break;case s.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){var n,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(n=i.item.attr("aria-label")||r.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),--this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var d,f=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var i=e.name,n=e.form,r=t([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,r=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];g(n).not(n).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),d=this,e.document.one("mouseup",function(){d=null})}).bind("mouseup"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(i.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(p),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.11.1"}});var v;t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,s;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),r),s.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,s):r&&this._inlineDatepicker(e,s)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,s,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(r=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,s=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;r<t.length;r++)t[r].length>i&&(i=t[r].length,n=r);return n},s.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,s){var o,l,h,c,u,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,h/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,s,o,l,h=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null;r=i||{},"string"==typeof i&&(r={},r[i]=n),h&&(this._curInst===h&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(h.settings.minDate=this._formatDate(h,o)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,s),this._updateAlternate(h),this._updateDatepicker(h))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,s=t.datepicker._getInst(e.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),r[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,r[0]),i=t.datepicker._get(s,"onSelect"),i?(n=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,r,s,o,l,h,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),s=r?r.apply(e,[e,i]):{},!1!==s&&(a(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),c):i.dpDiv[h||"show"](h?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&o.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),
i.top-=Math.min(i.top,i.top+s>h&&h>s?Math.abs(s+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,s,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),r=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,r):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),s=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),s=this._getInst(r[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(r)},_selectDay:function(e,i,n,r){var s,o=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=t("a",r).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),s=this._getInst(r[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(s).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var r,s,o,a,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,w=function(t){var i=r+1<e.length&&e.charAt(r+1)===t;return i&&r++,i},x=function(t){var e=w(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?n:1,s=new RegExp("^\\d{"+r+","+n+"}"),o=i.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},_=function(e,n,r){var s=-1,o=t.map(w(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return s=e[0],l+=n.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||w("'")?C():b=!1;else switch(e.charAt(r)){case"d":v=x("d");break;case"D":_("D",u,d);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=_("M",f,p);break;case"y":m=x("y");break;case"@":a=new Date(x("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((x("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=c?0:-100)),y>-1)for(g=1,v=y;;){if(s=this._getDaysInMonth(m,g-1),v<=s)break;g++,v-=s}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),r,s);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),o,a);break;case"y":u+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),s=r,o=this._getFormatConfig(t);try{s=this.parseDate(i,n,o)||r}catch(t){n=e?"":n}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=n?s.getDate():0,t.currentMonth=n?s.getMonth():0,t.currentYear=n?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),s=n.getMonth(),o=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,s))}l=a.exec(i)}return new Date(r,s,o)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return r=r&&"Invalid Date"===r.toString()?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,s=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),r===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,s,o,a,l,h,c,u,d,f,p,m,g,v,y,b,w,x,_,C,k,S,T,A,D,E,N,I,M,O,P,R,j,L,H,q,W=new Date,B=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),F=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),$=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==$[0]||1!==$[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-$[0]*$[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-G,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+i+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Z+G,1)),this._getFormatConfig(t)):r,s=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+r+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+r+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:B,o=U?this.formatDate(o,a,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(F?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(F?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",_=0;_<$[0];_++){for(C="",this.maxRows=4,k=0;k<$[1];k++){if(S=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),T=" ui-corner-all",A="",X){if(A+="<div class='ui-datepicker-group",$[1]>1)switch(k){case 0:A+=" ui-datepicker-group-first",T=" ui-corner-"+(F?"right":"left");break;case $[1]-1:A+=" ui-datepicker-group-last",T=" ui-corner-"+(F?"left":"right");break;default:A+=" ui-datepicker-group-middle",T=""}A+="'>"}for(A+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===_?F?s:n:"")+(/all|right/.test(T)&&0===_?F?n:s:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,_>0||k>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)E=(x+c)%7,D+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[E]+"'>"+f[E]+"</span></th>";for(A+=D+"</tr></thead><tbody>",N=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,N)),I=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,M=Math.ceil((I+N)/7),O=X&&this.maxRows>M?this.maxRows:M,this.maxRows=O,P=this._daylightSavingAdjust(new Date(tt,Z,1-I)),R=0;R<O;R++){for(A+="<tr>",j=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",x=0;x<7;x++)L=g?g.apply(t.input?t.input[0]:null,[P]):[!0,""],H=P.getMonth()!==Z,q=H&&!y||!L[0]||Q&&P<Q||J&&P>J,j+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(P.getTime()===S.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===P.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(q?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+L[1]+(P.getTime()===K.getTime()?" "+this._currentClass:"")+(P.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(q?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":q?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===B.getTime()?" ui-state-highlight":"")+(P.getTime()===K.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);A+=j+"</tr>"}Z++,Z>11&&(Z=0,tt++),A+="</tbody></table>"+(X?"</div>"+($[0]>0&&k===$[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=A}w+=C}return w+=h,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,n,r,s,o,a){var l,h,c,u,d,f,p,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!g)w+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=r&&r.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!h||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},p=f(u[0]),m=Math.max(p,f(u[1]||"")),p=n?Math.max(p,n.getFullYear()):p,m=r?Math.min(m,r.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!s&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),r=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,s)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&e<i?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(e<0?e:r[0]*r[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),o=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||e.getTime()>=r.getTime())&&(!s||e.getTime()<=s.getTime())&&(!o||e.getFullYear()>=o)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.1";t.datepicker;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.document[0],n=this.options;try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(t){}return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===n.iframeFix?"iframe":n.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,s=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),void((n=i[0])&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=n.options,s=t.extend({},i,{item:n.element});n.sortables=[],t(r.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,
"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,i,n){var r=this;t.each(n.sortables,function(){var s=!1,o=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),s=n.options;r.css("cursor")&&(s._cursor=r.css("cursor")),r.css("cursor",s.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),s=n.options;r.css("opacity")&&(s._opacity=r.css("opacity")),r.css("opacity",s.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,s=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity?o.scrollTop=s=o.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?s=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(s=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?s=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(s=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==s&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var r,s,o,a,l,h,c,u,d,f,p=n.options,m=p.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left,h=l+n.snapElements[d].width,c=n.snapElements[d].top,u=c+n.snapElements[d].height,v<l-m||g>h+m||b<c-m||y>u+m||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(c-b)<=m,s=Math.abs(u-y)<=m,o=Math.abs(l-v)<=m,a=Math.abs(h-g)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top-n.margins.top),s&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top-n.margins.top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left-n.margins.left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left)),f=r||s||o||a,"outer"!==p.snapMode&&(r=Math.abs(c-y)<=m,s=Math.abs(u-b)<=m,o=Math.abs(l-g)<=m,a=Math.abs(h-v)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top-n.margins.top),s&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top-n.margins.top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left-n.margins.left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[d].snapping&&(r||s||o||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=r||s||o||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,s=n.options,o=t.makeArray(t(s.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(r=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),s=n.options;r.css("zIndex")&&(s._zIndex=r.css("zIndex")),r.css("zIndex",s.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i,n,r,s,o=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),s="ui-resizable-"+n,r=t("<div class='ui-resizable-handle "+s+"'></div>"),r.css({zIndex:a.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(e){var i,n,r,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,s),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=t(s.containment).scrollLeft()||0,n+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,s=this.axis,o=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[s];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,s,o,a,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,s=n?0:c.sizeDiff.width,o={width:c.helper.width()-s,height:c.helper.height()-r},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(o,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),s&&h&&(t.left=a-e.minWidth),n&&h&&(t.left=a-e.maxWidth),o&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(r[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,s,o,a,l=t(this).resizable("instance"),h=l.options,c=l.element,u=h.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(d,"left")?d.scrollWidth:s,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:n.left,top:n.top,width:o,height:a}))},resize:function(e){var i,n,r,s,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,h=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=a.helper?l.left:0),h.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),r&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,s=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,h=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,s=n.originalSize,o=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(e,n){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),s={},o=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(r[e]||0)+(a[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,s=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,h=l[0]||1,c=l[1]||1,u=Math.round((r.width-s.width)/h)*h,d=Math.round((r.height-s.height)/c)*c,f=s.width+u,p=s.height+d,m=n.maxWidth&&n.maxWidth<f,g=n.maxHeight&&n.maxHeight<p,v=n.minWidth&&n.minWidth>f,y=n.minHeight&&n.minHeight>p;n.grid=l,v&&(f+=h),y&&(p+=c),m&&(f-=h),g&&(p-=c),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=o.top-d):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=o.left-u):((p-c<=0||f-h<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),p-c>0?(i.size.height=p,i.position.top=o.top-d):(p=c-e.height,i.size.height=p,i.position.top=o.top+s.height-p),f-h>0?(i.size.width=f,i.position.left=o.left-u):(f=c-e.height,i.size.width=f,i.position.left=o.left+s.width-f))}});t.ui.resizable,t.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),s=Math.max.apply(null,r);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length)return void this.uiDialog.removeClass("ui-dialog-buttons");t.each(i,function(i,n){var r,s;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(e.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(s).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,s){var o=s.offset.left-i.document.scrollLeft(),a=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},
t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(s))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,s=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,s){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var i,n,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=r.is(":data(ui-draggable)"),i&&!e&&r.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=r.is(":data(ui-resizable)"),n&&!e&&r.resizable("destroy"),n&&"string"==typeof e&&r.resizable("option","handles",e),n||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,r){if(!i.offset)return!1;var s=(e.positionAbs||e.position.absolute).left,o=(e.positionAbs||e.position.absolute).top,a=s+e.helperProportions.width,l=o+e.helperProportions.height,h=i.offset.left,c=i.offset.top,u=h+i.proportions().width,d=c+i.proportions().height;switch(n){case"fit":return h<=s&&a<=u&&c<=o&&l<=d;case"intersect":return h<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&c<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,c,i.proportions().height)&&t(r.pageX,h,i.proportions().width);case"touch":return(o>=c&&o<=d||l>=c&&l<=d||o<c&&l>d)&&(s>=h&&s<=u||a>=h&&a<=u||s<h&&a>u);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,s=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===s[n].element[0]){s[n].proportions().height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===o&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,s,o=t.ui.intersect(e,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),s.length&&(n=t(s[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};var y=(t.ui.droppable,t);t.effects={effect:{}},function(t,e){function i(t,e,i){var n=c[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=l(),n=i._rgba=[];return e=e.toLowerCase(),f(a,function(t,r){var s,o=r.re.exec(e),a=o&&r.parse(o),l=r.space||"rgba";if(a)return s=i[l](a),i[h[l].cache]=s[h[l].cache],n=i._rgba=s._rgba,!1}),n.length?("0,0,0,0"===n.join()&&t.extend(n,s.transparent),i):s[e]}function r(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var s,o=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=l.support={},d=t("<p>")[0],f=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(e,r,o,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(r),r=void 0);var c=this,u=t.type(e),d=this._rgba=[];return void 0!==r&&(e=[e,r,o,a],u="array"),"string"===u?this.parse(n(e)||s._default):"array"===u?(f(h.rgba.props,function(t,n){d[n.idx]=i(e[n.idx],n)}),this):"object"===u?(e instanceof l?f(h,function(t,i){e[i.cache]&&(c[i.cache]=e[i.cache].slice())}):f(h,function(n,r){var s=r.cache;f(r.props,function(t,n){if(!c[s]&&r.to){if("alpha"===t||null==e[t])return;c[s]=r.to(c._rgba)}c[s][n.idx]=i(e[t],n,!0)}),c[s]&&t.inArray(null,c[s].slice(0,3))<0&&(c[s][3]=1,r.from&&(c._rgba=r.from(c[s])))}),this):void 0},is:function(t){var e=l(t),i=!0,n=this;return f(h,function(t,r){var s,o=e[r.cache];return o&&(s=n[r.cache]||r.to&&r.to(n._rgba)||[],f(r.props,function(t,e){if(null!=o[e.idx])return i=o[e.idx]===s[e.idx]})),i}),i},_space:function(){var t=[],e=this;return f(h,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=l(t),r=n._space(),s=h[r],o=0===this.alpha()?l("transparent"):this,a=o[s.cache]||s.to(o._rgba),u=a.slice();return n=n[s.cache],f(s.props,function(t,r){var s=r.idx,o=a[s],l=n[s],h=c[r.type]||{};null!==l&&(null===o?u[s]=l:(h.mod&&(l-o>h.mod/2?o+=h.mod:o-l>h.mod/2&&(o-=h.mod)),u[s]=i((l-o)*e+o,r)))}),this[r](u)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=l(e)._rgba;return l(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,s=t[2]/255,o=t[3],a=Math.max(n,r,s),l=Math.min(n,r,s),h=a-l,c=a+l,u=.5*c;return e=l===a?0:n===a?60*(r-s)/h+360:r===a?60*(s-n)/h+120:60*(n-r)/h+240,i=0===h?0:u<=.5?h/c:h/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],s=t[3],o=n<=.5?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*r(a,o,e+1/3)),Math.round(255*r(a,o,e)),Math.round(255*r(a,o,e-1/3)),s]},f(h,function(e,n){var r=n.props,s=n.cache,a=n.to,h=n.from;l.fn[e]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),void 0===e)return this[s].slice();var n,o=t.type(e),c="array"===o||"object"===o?e:arguments,u=this[s].slice();return f(r,function(t,e){var n=c["object"===o?t:e.idx];null==n&&(n=u[e.idx]),u[e.idx]=i(n,e)}),h?(n=l(h(u)),n[s]=u,n):l(u)},f(r,function(i,n){l.fn[i]||(l.fn[i]=function(r){var s,a=t.type(r),l="alpha"===i?this._hsla?"hsla":"rgba":e,h=this[l](),c=h[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(s=o.exec(r))&&(r=c+parseFloat(s[2])*("+"===s[1]?1:-1)),h[n.idx]=r,this[l](h)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,r){var s,o,a="";if("transparent"!==r&&("string"!==t.type(r)||(s=n(r)))){if(r=l(s||r),!u.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&o&&o.style;)try{a=t.css(o,"backgroundColor"),o=o.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},s=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function e(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(s[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(s[i]=r[i]);return s}function i(e,i){var n,s,o={};for(n in i)s=i[n],e[n]!==s&&(r[n]||!t.fx.step[n]&&isNaN(parseFloat(s))||(o[n]=s));return o}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(y.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,s,o,a){var l=t.speed(s,o,a);return this.queue(function(){var s,o=t(this),a=o.attr("class")||"",h=l.children?o.find("*").addBack():o;h=h.map(function(){return{el:t(this),start:e(this)}}),s=function(){t.each(n,function(t,e){r[e]&&o[e+"Class"](r[e])})},s(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",a),h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,h.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,s){return n?t.effects.animateClass.call(this,{add:i},n,r,s):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,s){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,s):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,s,o){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,s,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,s)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,s){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,s)}})}(),function(){function e(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.1",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data("ui-effects-"+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;n<e.length;n++)null!==e[n]&&(i=t.data("ui-effects-"+e[n]),void 0===i&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},s=document.activeElement;try{s.id}catch(t){s=document.body}return e.wrap(n),(e[0]===s||t.contains(e[0],s))&&t(s).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var s=e.cssUnit(i);s[0]>0&&(r[i]=s[0]*n+s[1])}),r}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(s)&&s.call(r[0]),t.isFunction(e)&&e()}var r=t(this),s=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):o.call(r[0],n,i)}var n=e.apply(this,arguments),r=n.mode,s=n.queue,o=t.effects.effect[n.effect];return t.fx.off||!o?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):!1===s?this.each(i):this.queue(s||"fx",i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})}();t.effects,t.effects.effect.blind=function(e,i){var n,r,s,o=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(o,e.mode||"hide"),u=e.direction||"up",d=a.test(u),f=d?"height":"width",p=d?"top":"left",m=l.test(u),g={},v="show"===c;o.parent().is(".ui-effects-wrapper")?t.effects.save(o.parent(),h):t.effects.save(o,h),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),r=n[f](),s=parseFloat(n.css(p))||0,g[f]=v?r:0,m||(o.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[p]=v?s:r+s),v&&(n.css(f,0),m||n.css(p,s+r)),n.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&o.hide(),t.effects.restore(o,h),t.effects.removeWrapper(o),i()}})},t.effects.effect.bounce=function(e,i){var n,r,s,o=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"effect"),h="hide"===l,c="show"===l,u=e.direction||"up",d=e.distance,f=e.times||5,p=2*f+(c||h?1:0),m=e.duration/p,g=e.easing,v="up"===u||"down"===u?"top":"left",y="up"===u||"left"===u,b=o.queue(),w=b.length;for((c||h)&&a.push("opacity"),t.effects.save(o,a),o.show(),t.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),c&&(s={opacity:1},s[v]=0,o.css("opacity",0).css(v,y?2*-d:2*d).animate(s,m,g)),h&&(d/=Math.pow(2,f-1)),s={},s[v]=0,n=0;n<f;n++)r={},r[v]=(y?"-=":"+=")+d,o.animate(r,m,g).animate(s,m,g),d=h?2*d:d/2;h&&(r={opacity:0},r[v]=(y?"-=":"+=")+d,o.animate(r,m,g)),o.queue(function(){h&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),o.dequeue()},t.effects.effect.clip=function(e,i){var n,r,s,o=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",f=u?"top":"left",p={};t.effects.save(o,a),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),r="IMG"===o[0].tagName?n:o,s=r[d](),h&&(r.css(d,0),r.css(f,s/2)),p[d]=h?s:0,p[f]=h?0:s/2,r.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()}})},t.effects.effect.drop=function(e,i){var n,r=t(this),s=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(r,e.mode||"hide"),a="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",u={opacity:a?1:0};t.effects.save(r,s),r.show(),t.effects.createWrapper(r),n=e.distance||r["top"===h?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(h,"pos"===c?-n:n),u[h]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,r.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),i()}})},t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===u*d&&r()}function r(){f.css({visibility:"visible"}),t(b).remove(),m||f.hide(),i()}var s,o,a,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,f=t(this),p=t.effects.setMode(f,e.mode||"hide"),m="show"===p,g=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/d),y=Math.ceil(f.outerHeight()/u),b=[];for(s=0;s<u;s++)for(l=g.top+s*y,c=s-(u-1)/2,o=0;o<d;o++)a=g.left+o*v,h=o-(d-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?h*v:0),top:l+(m?c*y:0),opacity:m?0:1}).animate({left:a+(m?0:h*v),top:l+(m?0:c*y),opacity:m?1:0},e.duration||500,e.easing,n)},t.effects.effect.fade=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var n,r,s=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(s,e.mode||"hide"),l="show"===a,h="hide"===a,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,f=l!==d,p=f?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(s,o),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),r=f?[n.width(),n.height()]:[n.height(),n.width()],u&&(c=parseInt(u[1],10)/100*r[h?0:1]),l&&n.css(d?{height:0,width:c}:{height:c,width:0}),g[p[0]]=l?r[0]:c,v[p[1]]=l?r[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){h&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()})},t.effects.effect.highlight=function(e,i){var n=t(this),r=["backgroundImage","backgroundColor","opacity"],s=t.effects.setMode(n,e.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===s&&(o.opacity=0),t.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&n.hide(),t.effects.restore(n,r),i()}})},t.effects.effect.size=function(e,i){var n,r,s,o=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=t.effects.setMode(o,e.mode||"effect"),p=e.restore||"effect"!==f,m=e.scale||"both",g=e.origin||["middle","center"],v=o.css("position"),y=p?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===f?(o.from=e.to||b,o.to=e.from||n):(o.from=e.from||("show"===f?b:n),o.to=e.to||("hide"===f?b:n)),s={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},"box"!==m&&"both"!==m||(s.from.y!==s.to.y&&(y=y.concat(u),o.from=t.effects.setTransition(o,u,s.from.y,o.from),o.to=t.effects.setTransition(o,u,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(d),o.from=t.effects.setTransition(o,d,s.from.x,o.from),o.to=t.effects.setTransition(o,d,s.to.x,o.to))),"content"!==m&&"both"!==m||s.from.y!==s.to.y&&(y=y.concat(c).concat(h),o.from=t.effects.setTransition(o,c,s.from.y,o.from),o.to=t.effects.setTransition(o,c,s.to.y,o.to)),t.effects.save(o,y),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(r=t.effects.getBaseline(g,n),o.from.top=(n.outerHeight-o.outerHeight())*r.y,o.from.left=(n.outerWidth-o.outerWidth())*r.x,o.to.top=(n.outerHeight-o.to.outerHeight)*r.y,o.to.left=(n.outerWidth-o.to.outerWidth)*r.x),o.css(o.from),"content"!==m&&"both"!==m||(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),h=a.concat(u).concat(d),o.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&t.effects.save(i,h),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=t.effects.setTransition(i,u,s.from.y,i.from),i.to=t.effects.setTransition(i,u,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=t.effects.setTransition(i,d,s.from.x,i.from),i.to=t.effects.setTransition(i,d,s.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){p&&t.effects.restore(i,h)})})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===f&&o.hide(),t.effects.restore(o,y),p||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var n=parseInt(i,10),r=t?o.to.left:o.to.top;return"auto"===i?r+"px":n+r+"px"})})),t.effects.removeWrapper(o),i()}})},t.effects.effect.scale=function(e,i){var n=t(this),r=t.extend(!0,{},e),s=t.effects.setMode(n,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===s?0:100),a=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==a?o/100:1,x:"vertical"!==a?o/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==s&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:h),r.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},
r.fade&&("show"===s&&(r.from.opacity=0,r.to.opacity=1),"hide"===s&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},t.effects.effect.puff=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"hide"),s="hide"===r,o=parseInt(e.percent,10)||150,a=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:s?o:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.pulsate=function(e,i){var n,r=t(this),s=t.effects.setMode(r,e.mode||"show"),o="show"===s,a="hide"===s,l=o||"hide"===s,h=2*(e.times||5)+(l?1:0),c=e.duration/h,u=0,d=r.queue(),f=d.length;for(!o&&r.is(":visible")||(r.css("opacity",0).show(),u=1),n=1;n<h;n++)r.animate({opacity:u},c,e.easing),u=1-u;r.animate({opacity:u},c,e.easing),r.queue(function(){a&&r.hide(),i()}),f>1&&d.splice.apply(d,[1,0].concat(d.splice(f,h+1))),r.dequeue()},t.effects.effect.shake=function(e,i){var n,r=t(this),s=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,u=Math.round(e.duration/c),d="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,p={},m={},g={},v=r.queue(),y=v.length;for(t.effects.save(r,s),r.show(),t.effects.createWrapper(r),p[d]=(f?"-=":"+=")+l,m[d]=(f?"+=":"-=")+2*l,g[d]=(f?"-=":"+=")+2*l,r.animate(p,u,e.easing),n=1;n<h;n++)r.animate(m,u,e.easing).animate(g,u,e.easing);r.animate(m,u,e.easing).animate(p,u/2,e.easing).queue(function(){"hide"===o&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()},t.effects.effect.slide=function(e,i){var n,r=t(this),s=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(r,e.mode||"show"),a="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(r,s),r.show(),n=e.distance||r["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(h,c?isNaN(n)?"-"+n:-n:n),u[h]=(a?c?"+=":"-=":c?"-=":"+=")+n,r.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),i()}})},t.effects.effect.transfer=function(e,i){var n=t(this),r=t(e.to),s="fixed"===r.css("position"),o=t("body"),a=s?o.scrollTop():0,l=s?o.scrollLeft():0,h=r.offset(),c={top:h.top-a,left:h.left-l,height:r.innerHeight(),width:r.innerWidth()},u=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-a,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})},t.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");if(r)return n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,s=this.opos[0],o=this.opos[1],a=e.pageX,l=e.pageY;return s>a&&(i=a,a=s,s=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:s,top:o,width:a-s,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?h=!(i.left>a||i.right<s||i.top>l||i.bottom<o):"fit"===r.tolerance&&(h=i.left>s&&i.right<a&&i.top>o&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,i=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(i,s){s.optgroup!==r&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(e),r=s.optgroup),n._renderItemData(e,s)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(t){t.preventDefault()},click:"_toggle",keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,n){var r=t(n),s=r.parent("optgroup");i.push({element:r,index:e,value:r.attr("value"),label:r.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||r.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)s.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=r.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,s,o,a,l,h=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-h.values(e));(r>i||r===i&&(e===h._lastChangedValue||h.values(e)===c.min))&&(r=i,s=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-s.width()/2,top:e.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,s;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,s;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,s=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),!1!==s&&this.values(e,i))):i!==this.value()&&!1!==(s=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,s,o=this.options.range,a=this.options,l=this,h=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),s=this._valueMax(),i=s!==r?(n-r)/(s-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var i,n,r,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,s)))return}switch(r=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-r)}this._slide(e,s,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,s.widgetName+"-item")===s)return n=t(this),!1}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var r,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,s,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),
e.pageX-t(document).scrollLeft()<o.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],(s=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||n+h>a&&n+h<l,d="y"===this.options.axis||e+c>s&&e+c<o,f=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!n&&(this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,s,o,a=[],l=[],h=this._connectWith();if(h&&e)for(n=h.length-1;n>=0;n--)for(s=t(h[n]),r=s.length-1;r>=0;r--)(o=t.data(s[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,s,o,a,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=t(d[i]),n=r.length-1;n>=0;n--)(s=t.data(r[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&(u.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(o=u[i][1],a=u[i][0],n=0,h=a.length;n<h;n++)l=t(a[n]),l.data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,n,r,s,o,a,l,h,c,u,d=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,s=null,c=d.floating||this._isFloating(this.currentItem),o=c?"left":"top",a=c?"width":"height",u=c?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],h=!1,e[u]-l>this.items[n][a]/2&&(h=!0),Math.abs(e[u]-l)<r&&(r=Math.abs(e[u]-l),s=this.items[n],this.direction=h?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,s=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<r.length;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;n<r.length;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var r=i.attr(n);void 0!==r&&r.length&&(e[n]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:l(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:l(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:l(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:l(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());l(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;e=e.cloneNode(!1),i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,r){if(t(r).attr("aria-controls")===n)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){for(var n=this.tabs.length-1;-1!==t.inArray(function(){return e>n&&(e=0),e<0&&(e=n),e}(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var r,s,o,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),h=l.attr("aria-controls");e._isLocal(n)?(r=n.hash,o=r.substring(1),s=e.element.find(e._sanitizeSelector(r))):(o=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+o,s=e.element.find(r),s.length||(s=e._createPanel(o),s.insertAfter(e.panels[i-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":o,"aria-labelledby":a}),s.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)!0===e||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),
this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),s=r.closest("li"),o=s[0]===n[0],a=o&&i.collapsible,l=a?t():this._getPanelForTab(s),h=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:h,newTab:a?t():s,newPanel:l};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,c)||(i.active=!a&&this.tabs.index(s),this.active=o?t():s,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),e),this._toggle(e,c))},_toggle:function(e,i){function n(){s.running=!1,s._trigger("activate",e,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,n):(o.show(),n())}var s=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),s=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),a={tab:r,panel:o};this._isLocal(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){o.html(t),n._trigger("load",i,a)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href"),beforeSend:function(e,s){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:s},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;if("disabled"===e)return this[i?"_disable":"_enable"](),void(this.options[e]=i);this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)})},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,s=e?e.type:null;if("string"==typeof n)return this._open(e,t,n);(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&r._delay(function(){e&&(e.type=s),this._open(e,t,i)})}))&&this._open(e,t,i)},_open:function(e,i,n){function r(t){h.of=t,s.is(":hidden")||s.position(h)}var s,o,a,l,h=t.extend({},this.options.position);if(n){if(s=this._find(i),s.length)return void s.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:i},this.options.position)),this.hiding=!1,this.closing=!1,s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(h.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s}),o={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}},i[0]!==this.element[0]&&(o.remove=function(){this._removeTooltip(s)}),e&&"mouseover"!==e.type||(o.mouseleave="close"),e&&"focusin"!==e.type||(o.focusout="close"),this._on(!0,i,o)}},close:function(e){var i=this,n=t(e?e.currentTarget:this.element),r=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),this.hiding=!0,r.stop(!0),this._hide(r,this.options.hide,function(){i._removeTooltip(t(this)),this.hiding=!1,this.closing=!1}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:r}),this.hiding||(this.closing=!1))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]=e,i},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n[0],e.close(r,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){o.detach().trigger("closed.bs.alert").remove()}var r=t(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t("#"===s?[]:s);e&&e.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.button"),s="object"==typeof e&&e;r||n.data("bs.button",r=new i(this,s)),"toggle"==e?r.toggle():e&&r.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",s=n.data();e+="Text",null==s.resetText&&n.data("resetText",n[r]()),setTimeout(t.proxy(function(){n[r](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o="string"==typeof e?e:s.slide;r||n.data("bs.carousel",r=new i(this,s)),"number"==typeof e?r.to(e):o?r[o]():s.interval&&r.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n="prev"==t?-1:1,r=(i+n)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),s=n||this.getItemForDirection(e,r),o=this.interval,a="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],c=t.Event("slide.bs.carousel",{relatedTarget:h,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(s)]);u&&u.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:h,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,r.addClass(a),s.addClass(a),r.one("bsTransitionEnd",function(){s.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var r=function(i){var n,r=t(this),s=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=t.extend({},s.data(),r.data()),a=r.attr("data-slide-to");a&&(o.interval=!1),e.call(s,o),a&&s.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),r||i.data("bs.collapse",r=new n(this,s)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"))&&e.transitioning)){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),e||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var r=t(n);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=t(this);r.attr("data-target")||n.preventDefault();var s=e(r),o=s.data("bs.collapse"),a=o?"toggle":r.data();i.call(s,a)})}(jQuery),function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(r).remove(),t(s).each(function(){var n=t(this),r=e(n),s={relatedTarget:this};r.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(r[0],i.target)||(r.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var r=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var s=e(r),o=s.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(s.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=e(n),o=r.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&r.find(s).trigger("focus"),n.trigger("click");var a=r.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){var l=a.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<a.length-1&&l++,~l||(l=0),a.eq(l).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,n){return this.each(function(){var r=t(this),s=r.data("bs.modal"),o=t.extend({},i.DEFAULTS,r.data(),"object"==typeof e&&e);s||r.data("bs.modal",s=new i(this,o)),"string"==typeof e?s[e](n):o.show&&s.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),r=n.attr("href"),s=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(s,o,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),s="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||n.data("bs.tooltip",r=new i(this,s)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),
e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var r=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(a);h&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=s[0].offsetWidth,d=s[0].offsetHeight;if(h){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+d>p.bottom?"top":"top"==a&&c.top-d<p.top?"bottom":"right"==a&&c.right+u>p.width?"left":"left"==a&&c.left-u<p.left?"right":a,s.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,c,u,d);this.applyPlacement(m,a);var g=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),r=n[0].offsetWidth,s=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,h=n[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var c=this.getViewportAdjustedDelta(i,e,l,h);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(i),d=u?2*c.left-r+l:2*c.top-s+h,f=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][f],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=r.hoverState&&s.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,s=t(this.$tip),o=t.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var s=window.SVGElement&&i instanceof window.SVGElement,o=n?{top:0,left:0}:s?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,l,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-o.scroll,l=e.top+s-o.scroll+n;a<o.top?r.top=o.top-a:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var h=e.left-s,c=e.left+s+i;h<o.left?r.left=o.left-h:c>o.right&&(r.left=o.left+o.width-c)}return r},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.popover"),s="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||n.data("bs.popover",r=new i(this,s)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),s="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,s)),"string"==typeof i&&r[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),s=/^#./.test(r)&&t(r);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return o!=(t=s[s.length-1])&&this.activate(t);if(o&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)o!=s[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof e&&r[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(s),e.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(e,n,r){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=n.find("> .active"),a=r&&t.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var r=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.affix"),s="object"==typeof e&&e;r||n.data("bs.affix",r=new i(this,s)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var r=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=s.top)&&"bottom":!(r+o<=t-n)&&"bottom";var a=null==this.affixed,l=a?r:s.top,h=a?o:e;return null!=i&&r<=i?"top":null!=n&&l+h>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,r=n.top,s=n.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(s=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var a=this.getState(o,e,r,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-e-s})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Raphael=e():t.Raphael=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,r;n=[i(1),i(3),i(4)],void 0!==(r=function(t){return t}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;n=[i(2)],void 0!==(r=function(t){function e(i){if(e.is(i,"function"))return b?i():t.on("raphael.DOMload",i);if(e.is(i,U))return e._engine.create[D](e,i.splice(0,3+e.is(i[0],Y))).add(i);var n=Array.prototype.slice.call(arguments,0);if(e.is(n[n.length-1],"function")){var r=n.pop();return b?r.call(e._engine.create[D](e,n)):t.on("raphael.DOMload",function(){r.call(e._engine.create[D](e,n))})}return e._engine.create[D](e,arguments)}function i(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[k](n)&&(e[n]=i(t[n]));return e}function n(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function r(t,e,i){function r(){var s=Array.prototype.slice.call(arguments,0),o=s.join("␀"),a=r.cache=r.cache||{},l=r.count=r.count||[];return a[k](o)?(n(l,o),i?i(a[o]):a[o]):(l.length>=1e3&&delete a[l.shift()],l.push(o),a[o]=t[D](e,s),i?i(a[o]):a[o])}return r}function s(){return this.hex}function o(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?s[3]={x:+t[0],y:+t[1]}:r-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function a(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function l(t,e,i,n,r,s,o,l,h){null==h&&(h=1),h=h>1?1:h<0?0:h;for(var c=h/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,p=0;p<12;p++){var m=c*u[p]+c,g=a(m,t,i,r,o),v=a(m,e,n,s,l),y=g*g+v*v;f+=d[p]*H.sqrt(y)}return c*f}function h(t,e,i,n,r,s,o,a,h){if(!(h<0||l(t,e,i,n,r,s,o,a)<h)){var c,u=.5,d=1-u;for(c=l(t,e,i,n,r,s,o,a,d);B(c-h)>.01;)u/=2,d+=(c<h?1:-1)*u,c=l(t,e,i,n,r,s,o,a,d);return d}}function c(t,e,i,n,r,s,o,a){if(!(q(t,i)<W(r,o)||W(t,i)>q(r,o)||q(e,n)<W(s,a)||W(e,n)>q(s,a))){var l=(t*n-e*i)*(r-o)-(t-i)*(r*a-s*o),h=(t*n-e*i)*(s-a)-(e-n)*(r*a-s*o),c=(t-i)*(s-a)-(e-n)*(r-o);if(c){var u=l/c,d=h/c,f=+u.toFixed(2),p=+d.toFixed(2);if(!(f<+W(t,i).toFixed(2)||f>+q(t,i).toFixed(2)||f<+W(r,o).toFixed(2)||f>+q(r,o).toFixed(2)||p<+W(e,n).toFixed(2)||p>+q(e,n).toFixed(2)||p<+W(s,a).toFixed(2)||p>+q(s,a).toFixed(2)))return{x:u,y:d}}}}function u(t,i,n){var r=e.bezierBBox(t),s=e.bezierBBox(i);if(!e.isBBoxIntersect(r,s))return n?0:[];for(var o=l.apply(0,t),a=l.apply(0,i),h=q(~~(o/5),1),u=q(~~(a/5),1),d=[],f=[],p={},m=n?0:[],g=0;g<h+1;g++){var v=e.findDotsAtSegment.apply(e,t.concat(g/h));d.push({x:v.x,y:v.y,t:g/h})}for(g=0;g<u+1;g++)v=e.findDotsAtSegment.apply(e,i.concat(g/u)),f.push({x:v.x,y:v.y,t:g/u});for(g=0;g<h;g++)for(var y=0;y<u;y++){var b=d[g],w=d[g+1],x=f[y],_=f[y+1],C=B(w.x-b.x)<.001?"y":"x",k=B(_.x-x.x)<.001?"y":"x",S=c(b.x,b.y,w.x,w.y,x.x,x.y,_.x,_.y);if(S){if(p[S.x.toFixed(4)]==S.y.toFixed(4))continue;p[S.x.toFixed(4)]=S.y.toFixed(4);var T=b.t+B((S[C]-b[C])/(w[C]-b[C]))*(w.t-b.t),A=x.t+B((S[k]-x[k])/(_[k]-x[k]))*(_.t-x.t);T>=0&&T<=1.001&&A>=0&&A<=1.001&&(n?m++:m.push({x:S.x,y:S.y,t1:W(T,1),t2:W(A,1)}))}}return m}function d(t,i,n){t=e._path2curve(t),i=e._path2curve(i);for(var r,s,o,a,l,h,c,d,f,p,m=n?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"==y[0])r=l=y[1],s=h=y[2];else{"C"==y[0]?(f=[r,s].concat(y.slice(1)),r=f[6],s=f[7]):(f=[r,s,r,s,l,h,l,h],r=l,s=h);for(var b=0,w=i.length;b<w;b++){var x=i[b];if("M"==x[0])o=c=x[1],a=d=x[2];else{"C"==x[0]?(p=[o,a].concat(x.slice(1)),o=p[6],a=p[7]):(p=[o,a,o,a,c,d,c,d],o=c,a=d);var _=u(f,p,n);if(n)m+=_;else{for(var C=0,k=_.length;C<k;C++)_[C].segment1=g,_[C].segment2=b,_[C].bez1=f,_[C].bez2=p;m=m.concat(_)}}}}}return m}function f(t,e,i,n,r,s){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+M+this.y+M+this.width+" × "+this.height}function m(t,e,i,n,r,s){function o(t){return((c*t+h)*t+l)*t}function a(t,e){var i,n,r,s,a,u;for(r=t,u=0;u<8;u++){if(s=o(r)-t,B(s)<e)return r;if(a=(3*c*r+2*h)*r+l,B(a)<1e-6)break;r-=s/a}if(i=0,n=1,(r=t)<i)return i;if(r>n)return n;for(;i<n;){if(s=o(r),B(s-t)<e)return r;t>s?i=r:n=r,r=(n-i)/2+i}return r}var l=3*e,h=3*(n-e)-l,c=1-l-h,u=3*i,d=3*(r-i)-u,f=1-u-d;return function(t,e){var i=a(t,e);return((f*i+d)*i+u)*i}(t,1/(200*s))}function g(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[k](r)&&(n[Q(r)]=t[r],i.push(Q(r)));i.sort(ht)}this.anim=n,this.top=i[i.length-1],this.percents=i}function v(i,n,r,s,o,a){r=Q(r);var l,h,c,u,d,p,g=i.ms,v={},y={},b={};if(s)for(_=0,C=re.length;_<C;_++){var w=re[_];if(w.el.id==n.id&&w.anim==i){w.percent!=r?(re.splice(_,1),c=1):h=w,n.attr(w.totalOrigin);break}}else s=+y;for(var _=0,C=i.percents.length;_<C;_++){if(i.percents[_]==r||i.percents[_]>s*i.top){r=i.percents[_],d=i.percents[_-1]||0,g=g/i.top*(r-d),u=i.percents[_+1],l=i.anim[r];break}s&&n.attr(i.anim[i.percents[_]])}if(l){if(h)h.initstatus=s,h.start=new Date-h.ms*s;else{for(var S in l)if(l[k](S)&&(et[k](S)||n.paper.customAttributes[k](S)))switch(v[S]=n.attr(S),null==v[S]&&(v[S]=tt[S]),y[S]=l[S],et[S]){case Y:b[S]=(y[S]-v[S])/g;break;case"colour":v[S]=e.getRGB(v[S]);var T=e.getRGB(y[S]);b[S]={r:(T.r-v[S].r)/g,g:(T.g-v[S].g)/g,b:(T.b-v[S].b)/g};break;case"path":var A=Ot(v[S],y[S]),D=A[1];for(v[S]=A[0],b[S]=[],_=0,C=v[S].length;_<C;_++){b[S][_]=[0];for(var N=1,I=v[S][_].length;N<I;N++)b[S][_][N]=(D[_][N]-v[S][_][N])/g}break;case"transform":var M=n._,R=Ht(M[S],y[S]);if(R)for(v[S]=R.from,y[S]=R.to,b[S]=[],b[S].real=!0,_=0,C=v[S].length;_<C;_++)for(b[S][_]=[v[S][_][0]],N=1,I=v[S][_].length;N<I;N++)b[S][_][N]=(y[S][_][N]-v[S][_][N])/g;else{var j=n.matrix||new f,L={_:{transform:M.transform},getBBox:function(){return n.getBBox(1)}};v[S]=[j.a,j.b,j.c,j.d,j.e,j.f],jt(L,y[S]),y[S]=L._.transform,b[S]=[(L.matrix.a-j.a)/g,(L.matrix.b-j.b)/g,(L.matrix.c-j.c)/g,(L.matrix.d-j.d)/g,(L.matrix.e-j.e)/g,(L.matrix.f-j.f)/g]}break;case"csv":var H=O(l[S])[P](x),q=O(v[S])[P](x);if("clip-rect"==S)for(v[S]=q,b[S]=[],_=q.length;_--;)b[S][_]=(H[_]-v[S][_])/g;y[S]=H;break;default:for(H=[][E](l[S]),q=[][E](v[S]),b[S]=[],_=n.paper.customAttributes[S].length;_--;)b[S][_]=((H[_]||0)-(q[_]||0))/g}var W=l.easing,B=e.easing_formulas[W];if(!B)if((B=O(W).match(X))&&5==B.length){var F=B;B=function(t){return m(t,+F[1],+F[2],+F[3],+F[4],g)}}else B=ct;if(p=l.start||i.start||+new Date,w={anim:i,percent:r,timestamp:p,start:p+(i.del||0),status:0,initstatus:s||0,stop:!1,ms:g,easing:B,from:v,diff:b,to:y,el:n,callback:l.callback,prev:d,next:u,repeat:a||i.times,origin:n.attr(),totalOrigin:o},re.push(w),s&&!h&&!c&&(w.stop=!0,w.start=new Date-g*s,1==re.length))return oe();c&&(w.start=new Date-w.ms*s),1==re.length&&se(oe)}t("raphael.anim.start."+n.id,n,i)}}function y(t){for(var e=0;e<re.length;e++)re[e].el.paper==t&&re.splice(e--,1)}e.version="2.2.0",e.eve=t;var b,w,x=/[, ]+/,_={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,k="hasOwnProperty",S={doc:document,win:window},T={was:Object.prototype[k].call(S.win,"Raphael"),is:S.win.Raphael},A=function(){this.ca=this.customAttributes={}},D="apply",E="concat",N="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,I="",M=" ",O=String,P="split",R="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[P](M),j={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},L=O.prototype.toLowerCase,H=Math,q=H.max,W=H.min,B=H.abs,F=H.pow,z=H.PI,Y="number",U="array",$=Object.prototype.toString,V=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),G={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=H.round,Q=parseFloat,J=parseInt,Z=O.prototype.toUpperCase,tt=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},et=e._availableAnimAttrs={blur:Y,"clip-rect":"csv",cx:Y,cy:Y,fill:"colour","fill-opacity":Y,"font-size":Y,height:Y,opacity:Y,path:"path",r:Y,rx:Y,ry:Y,stroke:"colour","stroke-opacity":Y,"stroke-width":Y,transform:"transform",width:Y,x:Y,y:Y},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,nt={hs:1,rg:1},rt=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,at=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ht=function(t,e){return Q(t)-Q(e)},ct=function(t){return t},ut=e._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},dt=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},ft=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ut(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ut(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ut(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ut(e.x,e.y,e.width,e.height)}},pt=e.mapPath=function(t,e){if(!e)return t;var i,n,r,s,o,a,l;for(t=Ot(t),r=0,o=t.length;r<o;r++)for(l=t[r],s=1,a=l.length;s<a;s+=2)i=e.x(l[s],l[s+1]),n=e.y(l[s],l[s+1]),l[s]=i,l[s+1]=n;return t};if(e._g=S,e.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var mt,gt=S.doc.createElement("div");if(gt.innerHTML='<v:shape adj="1"/>',mt=gt.firstChild,mt.style.behavior="url(#default#VML)",!mt||"object"!=typeof mt.adj)return e.type=I;gt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=A,e.fn=w=A.prototype=e.prototype,e._id=0,e.is=function(t,e){return e=L.call(e),"finite"==e?!G[k](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||$.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,i,n,r,s,o){if(null==s){var a=t-n,l=i-r;return a||l?(180+180*H.atan2(-l,-a)/z+360)%360:0}return e.angle(t,i,s,o)-e.angle(n,r,s,o)},e.rad=function(t){return t%360*z/180},e.deg=function(t){return Math.round(180*t/z%360*1e3)/1e3},e.snapTo=function(t,i,n){if(n=e.is(n,"finite")?n:10,e.is(t,U)){for(var r=t.length;r--;)if(B(t[r]-i)<=n)return t[r]}else{t=+t;var s=i%t;if(s<n)return i-s;if(s>t-n)return i-s+t}return i};e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*H.random()|0;return("x"==t?e:3&e|8).toString(16)});e.setWindow=function(i){t("raphael.setWindow",e,S.win,i),S.win=i,S.doc=S.win.document,e._engine.initWin&&e._engine.initWin(S.win)};var vt=function(t){if(e.vml){var i,n=/^\s+|\s+$/g;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),i=s.body}catch(t){i=createPopup().document.body}var o=i.createTextRange();vt=r(function(t){try{i.style.color=O(t).replace(n,I);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var a=S.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",S.doc.body.appendChild(a),vt=r(function(t){return a.style.color=t,S.doc.defaultView.getComputedStyle(a,I).getPropertyValue("color")})}return vt(t)},yt=function(){return"hsb("+[this.h,this.s,this.b]+")"},bt=function(){return"hsl("+[this.h,this.s,this.l]+")"},wt=function(){return this.hex},xt=function(t,i,n){if(null==i&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,i=t.g,t=t.r),null==i&&e.is(t,"string")){var r=e.getRGB(t);t=r.r,i=r.g,n=r.b}return(t>1||i>1||n>1)&&(t/=255,i/=255,n/=255),[t,i,n]},_t=function(t,i,n,r){t*=255,i*=255,n*=255;var s={r:t,g:i,b:n,hex:e.rgb(t,i,n),toString:wt};return e.is(r,"finite")&&(s.opacity=r),s};e.color=function(t){var i;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(i=e.hsb2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(i=e.hsl2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(i=e.rgb2hsl(t),t.h=i.h,t.s=i.s,t.l=i.l,i=e.rgb2hsb(t),t.v=i.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=wt,t},e.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=t.o,t=t.h),t*=360;var r,s,o,a,l;return t=t%360/60,l=i*e,a=l*(1-B(t%2-1)),r=s=o=i-l,t=~~t,r+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t],_t(r,s,o,n)},e.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var r,s,o,a,l;return t=t%360/60,l=2*e*(i<.5?i:1-i),a=l*(1-B(t%2-1)),r=s=o=i-l/2,t=~~t,r+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],o+=[0,0,a,l,l,a][t],_t(r,s,o,n)},e.rgb2hsb=function(t,e,i){i=xt(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,o;return s=q(t,e,i),o=s-W(t,e,i),n=0==o?null:s==t?(e-i)/o:s==e?(i-t)/o+2:(t-e)/o+4,n=(n+360)%6*60/360,r=0==o?0:o/s,{h:n,s:r,b:s,toString:yt}},e.rgb2hsl=function(t,e,i){i=xt(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,o,a,l;return o=q(t,e,i),a=W(t,e,i),l=o-a,n=0==l?null:o==t?(e-i)/l:o==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,s=(o+a)/2,r=0==l?0:s<.5?l/(2*s):l/(2-2*s),{h:n,s:r,l:s,toString:bt}},e._path2string=function(){return this.join(",").replace(rt,"$1")};e._preload=function(t,e){var i=S.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),
this.onload=null,S.doc.body.removeChild(this)},i.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(i),i.src=t};e.getRGB=r(function(t){if(!t||(t=O(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:s};!(nt[k](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=vt(t));var i,n,r,o,a,l,h=t.match(V);return h?(h[2]&&(r=J(h[2].substring(5),16),n=J(h[2].substring(3,5),16),i=J(h[2].substring(1,3),16)),h[3]&&(r=J((a=h[3].charAt(3))+a,16),n=J((a=h[3].charAt(2))+a,16),i=J((a=h[3].charAt(1))+a,16)),h[4]&&(l=h[4][P](it),i=Q(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Q(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(o=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100)),h[5]?(l=h[5][P](it),i=Q(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Q(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(i/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(o=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),e.hsb2rgb(i,n,r,o)):h[6]?(l=h[6][P](it),i=Q(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Q(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(i/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(o=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),e.hsl2rgb(i,n,r,o)):(h={r:i,g:n,b:r,toString:s},h.hex="#"+(16777216|r|n<<8|i<<16).toString(16).slice(1),e.is(o,"finite")&&(h.opacity=o),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s}},e),e.hsb=r(function(t,i,n){return e.hsb2rgb(t,i,n).hex}),e.hsl=r(function(t,i,n){return e.hsl2rgb(t,i,n).hex}),e.rgb=r(function(t,e,i){function n(t){return t+.5|0}return"#"+(16777216|n(i)|n(e)<<8|n(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var i=Ct(t);if(i.arr)return St(i.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,U)&&e.is(t[0],U)&&(r=St(t)),r.length||O(t).replace(st,function(t,e,i){var s=[],o=e.toLowerCase();if(i.replace(at,function(t,e){e&&s.push(+e)}),"m"==o&&s.length>2&&(r.push([e][E](s.splice(0,2))),o="l",e="m"==e?"l":"L"),"r"==o)r.push([e][E](s));else for(;s.length>=n[o]&&(r.push([e][E](s.splice(0,n[o]))),n[o]););}),r.toString=e._path2string,i.arr=St(r),r},e.parseTransformString=r(function(t){if(!t)return null;var i=[];return e.is(t,U)&&e.is(t[0],U)&&(i=St(t)),i.length||O(t).replace(ot,function(t,e,n){var r=[];L.call(e);n.replace(at,function(t,e){e&&r.push(+e)}),i.push([e][E](r))}),i.toString=e._path2string,i});var Ct=function(t){var e=Ct.ps=Ct.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[k](i)&&i!=t&&!--e[i].sleep&&delete e[i]}),e[t]};e.findDotsAtSegment=function(t,e,i,n,r,s,o,a,l){var h=1-l,c=F(h,3),u=F(h,2),d=l*l,f=d*l,p=c*t+3*u*l*i+3*h*l*l*r+f*o,m=c*e+3*u*l*n+3*h*l*l*s+f*a,g=t+2*l*(i-t)+d*(r-2*i+t),v=e+2*l*(n-e)+d*(s-2*n+e),y=i+2*l*(r-i)+d*(o-2*r+i),b=n+2*l*(s-n)+d*(a-2*s+n),w=h*t+l*i,x=h*e+l*n,_=h*r+l*o,C=h*s+l*a,k=90-180*H.atan2(g-y,v-b)/z;return(g>y||v<b)&&(k+=180),{x:p,y:m,m:{x:g,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:_,y:C},alpha:k}},e.bezierBBox=function(t,i,n,r,s,o,a,l){e.is(t,"array")||(t=[t,i,n,r,s,o,a,l]);var h=Mt.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},e.isBBoxIntersect=function(t,i){var n=e.isPointInsideBBox;return n(i,t.x,t.y)||n(i,t.x2,t.y)||n(i,t.x,t.y2)||n(i,t.x2,t.y2)||n(t,i.x,i.y)||n(t,i.x2,i.y)||n(t,i.x,i.y2)||n(t,i.x2,i.y2)||(t.x<i.x2&&t.x>i.x||i.x<t.x2&&i.x>t.x)&&(t.y<i.y2&&t.y>i.y||i.y<t.y2&&i.y>t.y)},e.pathIntersection=function(t,e){return d(t,e)},e.pathIntersectionNumber=function(t,e){return d(t,e,1)},e.isPointInsidePath=function(t,i,n){var r=e.pathBBox(t);return e.isPointInsideBBox(r,i,n)&&d(t,[["M",i,n],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var kt=e.pathBBox=function(t){var e=Ct(t);if(e.bbox)return i(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Ot(t);for(var n,r=0,s=0,o=[],a=[],l=0,h=t.length;l<h;l++)if(n=t[l],"M"==n[0])r=n[1],s=n[2],o.push(r),a.push(s);else{var c=Mt(r,s,n[1],n[2],n[3],n[4],n[5],n[6]);o=o[E](c.min.x,c.max.x),a=a[E](c.min.y,c.max.y),r=n[5],s=n[6]}var u=W[D](0,o),d=W[D](0,a),f=q[D](0,o),p=q[D](0,a),m=f-u,g=p-d,v={x:u,y:d,x2:f,y2:p,width:m,height:g,cx:u+m/2,cy:d+g/2};return e.bbox=i(v),v},St=function(t){var n=i(t);return n.toString=e._path2string,n},Tt=e._pathToRelative=function(t){var i=Ct(t);if(i.rel)return St(i.rel);e.is(t,U)&&e.is(t&&t[0],U)||(t=e.parsePathString(t));var n=[],r=0,s=0,o=0,a=0,l=0;"M"==t[0][0]&&(r=t[0][1],s=t[0][2],o=r,a=s,l++,n.push(["M",r,s]));for(var h=l,c=t.length;h<c;h++){var u=n[h]=[],d=t[h];if(d[0]!=L.call(d[0]))switch(u[0]=L.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-r).toFixed(3),u[7]=+(d[7]-s).toFixed(3);break;case"v":u[1]=+(d[1]-s).toFixed(3);break;case"m":o=d[1],a=d[2];default:for(var f=1,p=d.length;f<p;f++)u[f]=+(d[f]-(f%2?r:s)).toFixed(3)}else{u=n[h]=[],"m"==d[0]&&(o=d[1]+r,a=d[2]+s);for(var m=0,g=d.length;m<g;m++)n[h][m]=d[m]}var v=n[h].length;switch(n[h][0]){case"z":r=o,s=a;break;case"h":r+=+n[h][v-1];break;case"v":s+=+n[h][v-1];break;default:r+=+n[h][v-2],s+=+n[h][v-1]}}return n.toString=e._path2string,i.rel=St(n),n},At=e._pathToAbsolute=function(t){var i=Ct(t);if(i.abs)return St(i.abs);if(e.is(t,U)&&e.is(t&&t[0],U)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],r=0,s=0,a=0,l=0,h=0;"M"==t[0][0]&&(r=+t[0][1],s=+t[0][2],a=r,l=s,h++,n[0]=["M",r,s]);for(var c,u,d=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),f=h,p=t.length;f<p;f++){if(n.push(c=[]),u=t[f],u[0]!=Z.call(u[0]))switch(c[0]=Z.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+r),c[7]=+(u[7]+s);break;case"V":c[1]=+u[1]+s;break;case"H":c[1]=+u[1]+r;break;case"R":for(var m=[r,s][E](u.slice(1)),g=2,v=m.length;g<v;g++)m[g]=+m[g]+r,m[++g]=+m[g]+s;n.pop(),n=n[E](o(m,d));break;case"M":a=+u[1]+r,l=+u[2]+s;default:for(g=1,v=u.length;g<v;g++)c[g]=+u[g]+(g%2?r:s)}else if("R"==u[0])m=[r,s][E](u.slice(1)),n.pop(),n=n[E](o(m,d)),c=["R"][E](u.slice(-2));else for(var y=0,b=u.length;y<b;y++)c[y]=u[y];switch(c[0]){case"Z":r=a,s=l;break;case"H":r=c[1];break;case"V":s=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];default:r=c[c.length-2],s=c[c.length-1]}}return n.toString=e._path2string,i.abs=St(n),n},Dt=function(t,e,i,n){return[t,e,i,n,i,n]},Et=function(t,e,i,n,r,s){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*s+2/3*n,r,s]},Nt=function(t,e,i,n,s,o,a,l,h,c){var u,d=120*z/180,f=z/180*(+s||0),p=[],m=r(function(t,e,i){return{x:t*H.cos(i)-e*H.sin(i),y:t*H.sin(i)+e*H.cos(i)}});if(c)k=c[0],S=c[1],_=c[2],C=c[3];else{u=m(t,e,-f),t=u.x,e=u.y,u=m(l,h,-f),l=u.x,h=u.y;var g=(H.cos(z/180*s),H.sin(z/180*s),(t-l)/2),v=(e-h)/2,y=g*g/(i*i)+v*v/(n*n);y>1&&(y=H.sqrt(y),i*=y,n*=y);var b=i*i,w=n*n,x=(o==a?-1:1)*H.sqrt(B((b*w-b*v*v-w*g*g)/(b*v*v+w*g*g))),_=x*i*v/n+(t+l)/2,C=x*-n*g/i+(e+h)/2,k=H.asin(((e-C)/n).toFixed(9)),S=H.asin(((h-C)/n).toFixed(9));k=t<_?z-k:k,S=l<_?z-S:S,k<0&&(k=2*z+k),S<0&&(S=2*z+S),a&&k>S&&(k-=2*z),!a&&S>k&&(S-=2*z)}var T=S-k;if(B(T)>d){var A=S,D=l,N=h;S=k+d*(a&&S>k?1:-1),l=_+i*H.cos(S),h=C+n*H.sin(S),p=Nt(l,h,i,n,s,0,a,D,N,[S,A,_,C])}T=S-k;var I=H.cos(k),M=H.sin(k),O=H.cos(S),R=H.sin(S),j=H.tan(T/4),L=4/3*i*j,q=4/3*n*j,W=[t,e],F=[t+L*M,e-q*I],Y=[l+L*R,h-q*O],U=[l,h];if(F[0]=2*W[0]-F[0],F[1]=2*W[1]-F[1],c)return[F,Y,U][E](p);p=[F,Y,U][E](p).join()[P](",");for(var $=[],V=0,G=p.length;V<G;V++)$[V]=V%2?m(p[V-1],p[V],f).y:m(p[V],p[V+1],f).x;return $},It=function(t,e,i,n,r,s,o,a,l){var h=1-l;return{x:F(h,3)*t+3*F(h,2)*l*i+3*h*l*l*r+F(l,3)*o,y:F(h,3)*e+3*F(h,2)*l*n+3*h*l*l*s+F(l,3)*a}},Mt=r(function(t,e,i,n,r,s,o,a){var l,h=r-2*i+t-(o-2*r+i),c=2*(i-t)-2*(r-i),u=t-i,d=(-c+H.sqrt(c*c-4*h*u))/2/h,f=(-c-H.sqrt(c*c-4*h*u))/2/h,p=[e,a],m=[t,o];return B(d)>"1e12"&&(d=.5),B(f)>"1e12"&&(f=.5),d>0&&d<1&&(l=It(t,e,i,n,r,s,o,a,d),m.push(l.x),p.push(l.y)),f>0&&f<1&&(l=It(t,e,i,n,r,s,o,a,f),m.push(l.x),p.push(l.y)),h=s-2*n+e-(a-2*s+n),c=2*(n-e)-2*(s-n),u=e-n,d=(-c+H.sqrt(c*c-4*h*u))/2/h,f=(-c-H.sqrt(c*c-4*h*u))/2/h,B(d)>"1e12"&&(d=.5),B(f)>"1e12"&&(f=.5),d>0&&d<1&&(l=It(t,e,i,n,r,s,o,a,d),m.push(l.x),p.push(l.y)),f>0&&f<1&&(l=It(t,e,i,n,r,s,o,a,f),m.push(l.x),p.push(l.y)),{min:{x:W[D](0,m),y:W[D](0,p)},max:{x:q[D](0,m),y:q[D](0,p)}}}),Ot=e._path2curve=r(function(t,e){var i=!e&&Ct(t);if(!e&&i.curve)return St(i.curve);for(var n=At(t),r=e&&At(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e,i){var n,r,s={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in s)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][E](Nt[D](0,[e.x,e.y][E](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r][E](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][E](Et(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][E](Et(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][E](Dt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][E](Dt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][E](Dt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][E](Dt(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)c[e]="A",r&&(u[e]="A"),t.splice(e++,0,["C"][E](i.splice(0,6)));t.splice(e,1),m=q(n.length,r&&r.length||0)}},h=function(t,e,i,s,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=t[o][1],i.y=t[o][2],m=q(n.length,r&&r.length||0))},c=[],u=[],d="",f="",p=0,m=q(n.length,r&&r.length||0);p<m;p++){n[p]&&(d=n[p][0]),"C"!=d&&(c[p]=d,p&&(f=c[p-1])),n[p]=a(n[p],s,f),"A"!=c[p]&&"C"==d&&(c[p]="C"),l(n,p),r&&(r[p]&&(d=r[p][0]),"C"!=d&&(u[p]=d,p&&(f=u[p-1])),r[p]=a(r[p],o,f),"A"!=u[p]&&"C"==d&&(u[p]="C"),l(r,p)),h(n,r,s,o,p),h(r,n,o,s,p);var g=n[p],v=r&&r[p],y=g.length,b=r&&v.length;s.x=g[y-2],s.y=g[y-1],s.bx=Q(g[y-4])||s.x,s.by=Q(g[y-3])||s.y,o.bx=r&&(Q(v[b-4])||o.x),o.by=r&&(Q(v[b-3])||o.y),o.x=r&&v[b-2],o.y=r&&v[b-1]}return r||(i.curve=St(n)),r?[n,r]:n},null,St),Pt=(e._parseDots=r(function(t){for(var i=[],n=0,r=t.length;n<r;n++){var s={},o=t[n].match(/^([^:]*):?([\d\.]*)/);if(s.color=e.getRGB(o[1]),s.color.error)return null;s.opacity=s.color.opacity,s.color=s.color.hex,o[2]&&(s.offset=o[2]+"%"),i.push(s)}for(n=1,r=i.length-1;n<r;n++)if(!i[n].offset){for(var a=Q(i[n-1].offset||0),l=0,h=n+1;h<r;h++)if(i[h].offset){l=i[h].offset;break}l||(l=100,h=r),l=Q(l);for(var c=(l-a)/(h-n+1);n<h;n++)a+=c,i[n].offset=a+"%"}return i}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Rt=(e._tofront=function(t,e){e.top!==t&&(Pt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Pt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,i){Pt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,i){Pt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var i=kt(t),n={_:{transform:I},getBBox:function(){return i}};return jt(n,e),n.matrix}),jt=(e.transformPath=function(t,e){return pt(t,Rt(t,e))},e._extractTransform=function(t,i){if(null==i)return t._.transform;i=O(i).replace(/\.{3}|\u2026/g,t._.transform||I);var n=e.parseTransformString(i),r=0,s=0,o=0,a=1,l=1,h=t._,c=new f;if(h.transform=n||[],n)for(var u=0,d=n.length;u<d;u++){var p,m,g,v,y,b=n[u],w=b.length,x=O(b[0]).toLowerCase(),_=b[0]!=x,C=_?c.invert():0;"t"==x&&3==w?_?(p=C.x(0,0),m=C.y(0,0),g=C.x(b[1],b[2]),v=C.y(b[1],b[2]),c.translate(g-p,v-m)):c.translate(b[1],b[2]):"r"==x?2==w?(y=y||t.getBBox(1),c.rotate(b[1],y.x+y.width/2,y.y+y.height/2),r+=b[1]):4==w&&(_?(g=C.x(b[2],b[3]),v=C.y(b[2],b[3]),c.rotate(b[1],g,v)):c.rotate(b[1],b[2],b[3]),r+=b[1]):"s"==x?2==w||3==w?(y=y||t.getBBox(1),c.scale(b[1],b[w-1],y.x+y.width/2,y.y+y.height/2),a*=b[1],l*=b[w-1]):5==w&&(_?(g=C.x(b[3],b[4]),v=C.y(b[3],b[4]),c.scale(b[1],b[2],g,v)):c.scale(b[1],b[2],b[3],b[4]),a*=b[1],l*=b[2]):"m"==x&&7==w&&c.add(b[1],b[2],b[3],b[4],b[5],b[6]),h.dirtyT=1,t.matrix=c}t.matrix=c,h.sx=a,h.sy=l,h.deg=r,h.dx=s=c.e,h.dy=o=c.f,1==a&&1==l&&!r&&h.bbox?(h.bbox.x+=+s,h.bbox.y+=+o):h.dirtyT=1}),Lt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Ht=e._equaliseTransform=function(t,i){i=O(i).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],i=e.parseTransformString(i)||[];for(var n,r,s,o,a=q(t.length,i.length),l=[],h=[],c=0;c<a;c++){if(s=t[c]||Lt(i[c]),o=i[c]||Lt(s),s[0]!=o[0]||"r"==s[0].toLowerCase()&&(s[2]!=o[2]||s[3]!=o[3])||"s"==s[0].toLowerCase()&&(s[3]!=o[3]||s[4]!=o[4]))return;for(l[c]=[],h[c]=[],n=0,r=q(s.length,o.length);n<r;n++)n in s&&(l[c][n]=s[n]),n in o&&(h[c][n]=o[n])}return{from:l,to:h}};e._getContainer=function(t,i,n,r){var s;if(null!=(s=null!=r||e.is(t,"object")?t:S.doc.getElementById(t)))return s.tagName?null==i?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:i,height:n}:{container:1,x:t,y:i,width:n,height:r}},e.pathToRelative=Tt,e._engine={},e.path2curve=Ot,e.matrix=function(t,e,i,n,r,s){return new f(t,e,i,n,r,s)},function(t){function i(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var e=H.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,i,n,r,s){var o,a,l,h,c=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,i,r],[e,n,s],[0,0,1]];for(t&&t instanceof f&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),o=0;o<3;o++)for(a=0;a<3;a++){for(h=0,l=0;l<3;l++)h+=u[o][l]*d[l][a];c[o][a]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,i,n){t=e.rad(t),i=i||0,n=n||0;var r=+H.cos(t).toFixed(9),s=+H.sin(t).toFixed(9);this.add(r,s,-s,r,i,n),this.add(1,0,0,1,-i,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[O.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=H.sqrt(i(r[0])),n(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=H.sqrt(i(r[1])),n(r[1]),t.shear/=t.scaley;var s=-r[0][1],o=r[1][1];return o<0?(t.rotate=e.deg(H.acos(o)),s<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(H.asin(s)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[P]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:I)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:I)+(e.rotate?"r"+[e.rotate,0,0]:I)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);for(var qt=function(){this.returnValue=!1},Wt=function(){return this.originalEvent.preventDefault()},Bt=function(){this.cancelBubble=!0},Ft=function(){return this.originalEvent.stopPropagation()},zt=function(t){var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,i=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Yt=function(){return S.doc.addEventListener?function(t,e,i,n){var r=function(t){var e=zt(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,r,!1),N&&j[e]){var s=function(e){for(var r=zt(e),s=e,o=0,a=e.targetTouches&&e.targetTouches.length;o<a;o++)if(e.targetTouches[o].target==t){e=e.targetTouches[o],e.originalEvent=s,e.preventDefault=Wt,e.stopPropagation=Ft;break}return i.call(n,e,r.x,r.y)};t.addEventListener(j[e],s,!1)}return function(){return t.removeEventListener(e,r,!1),N&&j[e]&&t.removeEventListener(j[e],s,!1),!0}}:S.doc.attachEvent?function(t,e,i,n){var r=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,r=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,s=t.clientX+r,o=t.clientY+e;return t.preventDefault=t.preventDefault||qt,t.stopPropagation=t.stopPropagation||Bt,i.call(n,t,s,o)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0}(),Ut=[],$t=function(e){for(var i,n=e.clientX,r=e.clientY,s=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,o=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=Ut.length;a--;){if(i=Ut[a],N&&e.touches){for(var l,h=e.touches.length;h--;)if(l=e.touches[h],l.identifier==i.el._drag.id){n=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,u=i.el.node,d=u.nextSibling,f=u.parentNode,p=u.style.display;S.win.opera&&f.removeChild(u),u.style.display="none",c=i.el.paper.getElementByPoint(n,r),u.style.display=p,S.win.opera&&(d?f.insertBefore(u,d):f.appendChild(u)),c&&t("raphael.drag.over."+i.el.id,i.el,c),n+=o,r+=s,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,r-i.el._drag.y,n,r,e)}},Vt=function(i){e.unmousemove($t).unmouseup(Vt);for(var n,r=Ut.length;r--;)n=Ut[r],n.el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,i);Ut=[]},Gt=e.el={},Xt=R.length;Xt--;)!function(t){e[t]=Gt[t]=function(i,n){return e.is(i,"function")&&(this.events=this.events||[],this.events.push({name:t,f:i,unbind:Yt(this.shape||this.node||S.doc,t,i,n||this)})),this},e["un"+t]=Gt["un"+t]=function(i){for(var n=this.events||[],r=n.length;r--;)n[r].name!=t||!e.is(i,"undefined")&&n[r].f!=i||(n[r].unbind(),n.splice(r,1),!n.length&&delete this.events);return this}}(R[Xt]);Gt.data=function(i,n){var r=lt[this.id]=lt[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(i,"object")){for(var s in i)i[k](s)&&this.data(s,i[s]);return this}return t("raphael.data.get."+this.id,this,r[i],i),r[i]}return r[i]=n,t("raphael.data.set."+this.id,this,n,i),this},Gt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Gt.getData=function(){return i(lt[this.id]||{})},Gt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Gt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Kt=[];Gt.drag=function(i,n,r,s,o,a){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,u=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,d=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;if(this._drag.id=l.identifier,N&&l.touches)for(var f,p=l.touches.length;p--;)if(f=l.touches[p],this._drag.id=f.identifier,f.identifier==this._drag.id){h=f.clientX,c=f.clientY;break}this._drag.x=h+d,this._drag.y=c+u,!Ut.length&&e.mousemove($t).mouseup(Vt),Ut.push({el:this,move_scope:s,start_scope:o,end_scope:a}),n&&t.on("raphael.drag.start."+this.id,n),i&&t.on("raphael.drag.move."+this.id,i),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,o||s||this,l.clientX+d,l.clientY+u,l)}return this._drag={},Kt.push({el:this,start:l}),this.mousedown(l),this},Gt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Gt.undrag=function(){for(var i=Kt.length;i--;)Kt[i].el==this&&(this.unmousedown(Kt[i].start),Kt.splice(i,1),t.unbind("raphael.drag.*."+this.id));!Kt.length&&e.unmousemove($t).unmouseup(Vt),Ut=[]},w.circle=function(t,i,n){var r=e._engine.circle(this,t||0,i||0,n||0);return this.__set__&&this.__set__.push(r),r},w.rect=function(t,i,n,r,s){var o=e._engine.rect(this,t||0,i||0,n||0,r||0,s||0);return this.__set__&&this.__set__.push(o),o},w.ellipse=function(t,i,n,r){var s=e._engine.ellipse(this,t||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(s),s},w.path=function(t){t&&!e.is(t,"string")&&!e.is(t[0],U)&&(t+=I);var i=e._engine.path(e.format[D](e,arguments),this);return this.__set__&&this.__set__.push(i),i},w.image=function(t,i,n,r,s){var o=e._engine.image(this,t||"about:blank",i||0,n||0,r||0,s||0);return this.__set__&&this.__set__.push(o),o},w.text=function(t,i,n){var r=e._engine.text(this,t||0,i||0,O(n));return this.__set__&&this.__set__.push(r),r},w.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var i=new le(t);return this.__set__&&this.__set__.push(i),i.paper=this,i.type="set",i},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},w.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},w.setSize=function(t,i){return e._engine.setSize.call(this,t,i)},w.setViewBox=function(t,i,n,r,s){return e._engine.setViewBox.call(this,t,i,n,r,s)},w.top=w.bottom=null,w.raphael=e;var Qt=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,s=r.clientTop||n.clientTop||0,o=r.clientLeft||n.clientLeft||0;return{y:e.top+(S.win.pageYOffset||r.scrollTop||n.scrollTop)-s,x:e.left+(S.win.pageXOffset||r.scrollLeft||n.scrollLeft)-o}};w.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=S.doc.elementFromPoint(t,e);if(S.win.opera&&"svg"==r.tagName){var s=Qt(n),o=n.createSVGRect();o.x=t-s.x,o.y=e-s.y,o.width=o.height=1;var a=n.getIntersectionList(o,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null},w.getElementsByBBox=function(t){var i=this.set();return this.forEach(function(n){e.isBBoxIntersect(n.getBBox(),t)&&i.push(n)}),i},w.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){for(var i=this.bottom;i;){if(!1===t.call(e,i))return this;i=i.next}return this},w.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Gt.isPointInside=function(t,i){var n=this.realPath=ft[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=e.transformPath(n,this.attr("transform"))),e.isPointInsidePath(n,t,i)},Gt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=ft[this.type](this),e.bboxwt=kt(this.realPath),e.bboxwt.toString=p,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=ft[this.type](this)),e.bbox=kt(pt(this.realPath,this.matrix)),e.bbox.toString=p,e.dirty=e.dirtyT=0),e.bbox)},Gt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Gt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),s=this.realPath||ft[this.type](this);s=this.matrix?pt(s,this.matrix):s;for(var o=1;o<i+1;o++)r.push(n.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*o).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Jt=function(t,i,n,r,s,o,a,c,u){return null==u?l(t,i,n,r,s,o,a,c):e.findDotsAtSegment(t,i,n,r,s,o,a,c,h(t,i,n,r,s,o,a,c,u))},Zt=function(t,i){return function(n,r,s){n=Ot(n);for(var o,a,l,h,c,u="",d={},f=0,p=0,m=n.length;p<m;p++){if(l=n[p],"M"==l[0])o=+l[1],a=+l[2];else{if(h=Jt(o,a,l[1],l[2],l[3],l[4],l[5],l[6]),f+h>r){if(i&&!d.start){if(c=Jt(o,a,l[1],l[2],l[3],l[4],l[5],l[6],r-f),u+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],s)return u;d.start=u,u=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),f+=h,o=+l[5],a=+l[6];continue}if(!t&&!i)return c=Jt(o,a,l[1],l[2],l[3],l[4],l[5],l[6],r-f),{x:c.x,y:c.y,alpha:c.alpha}}f+=h,o=+l[5],a=+l[6]}u+=l.shift()+l}return d.end=u,c=t?f:i?d:e.findDotsAtSegment(o,a,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},te=Zt(1),ee=Zt(),ie=Zt(0,1);e.getTotalLength=te,e.getPointAtLength=ee,e.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return ie(t,e).end;var n=ie(t,i,1);return e?ie(n,e).end:n},Gt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():te(t)},Gt.getPointAtLength=function(t){var e=this.getPath();if(e)return ee(e,t)},Gt.getPath=function(){var t,i=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return i&&(t=i(this)),t},Gt.getSubpath=function(t,i){var n=this.getPath();if(n)return e.getSubpath(n,t,i)};var ne=e.easing_formulas={linear:function(t){return t},"<":function(t){return F(t,1.7)},">":function(t){return F(t,.48)},"<>":function(t){var e=.48-t/1.04,i=H.sqrt(.1734+e*e),n=i-e,r=F(B(n),1/3)*(n<0?-1:1),s=-i-e,o=F(B(s),1/3)*(s<0?-1:1),a=r+o+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:F(2,-10*t)*H.sin(2*z*(t-.075)/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return t<1/n?e=i*t*t:t<2/n?(t-=1.5/n,e=i*t*t+.75):t<2.5/n?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};ne.easeIn=ne["ease-in"]=ne["<"],ne.easeOut=ne["ease-out"]=ne[">"],ne.easeInOut=ne["ease-in-out"]=ne["<>"],ne["back-in"]=ne.backIn,ne["back-out"]=ne.backOut;var re=[],se=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},oe=function(){for(var i=+new Date,n=0;n<re.length;n++){var r=re[n];if(!r.el.removed&&!r.paused){var s,o,a=i-r.start,l=r.ms,h=r.easing,c=r.from,u=r.diff,d=r.to,f=(r.t,r.el),p={},m={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&re.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(a<0))if(a<l){var g=h(a/l);for(var y in c)if(c[k](y)){switch(et[y]){case Y:s=+c[y]+g*l*u[y];break;case"colour":s="rgb("+[ae(K(c[y].r+g*l*u[y].r)),ae(K(c[y].g+g*l*u[y].g)),ae(K(c[y].b+g*l*u[y].b))].join(",")+")";break;case"path":s=[];for(var b=0,w=c[y].length;b<w;b++){s[b]=[c[y][b][0]];for(var x=1,_=c[y][b].length;x<_;x++)s[b][x]=+c[y][b][x]+g*l*u[y][b][x];s[b]=s[b].join(M)}s=s.join(M);break;case"transform":if(u[y].real)for(s=[],b=0,w=c[y].length;b<w;b++)for(s[b]=[c[y][b][0]],x=1,_=c[y][b].length;x<_;x++)s[b][x]=c[y][b][x]+g*l*u[y][b][x];else{var C=function(t){return+c[y][t]+g*l*u[y][t]};s=[["m",C(0),C(1),C(2),C(3),C(4),C(5)]]}break;case"csv":if("clip-rect"==y)for(s=[],b=4;b--;)s[b]=+c[y][b]+g*l*u[y][b];break;default:var S=[][E](c[y]);for(s=[],b=f.paper.customAttributes[y].length;b--;)s[b]=+S[b]+g*l*u[y][b]}p[y]=s}f.attr(p),function(e,i,n){setTimeout(function(){t("raphael.anim.frame."+e,i,n)})}(f.id,f,r.anim)}else{if(function(i,n,r){setTimeout(function(){t("raphael.anim.frame."+n.id,n,r),t("raphael.anim.finish."+n.id,n,r),e.is(i,"function")&&i.call(n)})}(r.callback,f,r.anim),f.attr(d),re.splice(n--,1),r.repeat>1&&!r.next){for(o in d)d[k](o)&&(m[o]=r.totalOrigin[o]);r.el.attr(m),v(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&v(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}re.length&&se(oe)},ae=function(t){return t>255?255:t<0?0:t};Gt.animateWith=function(t,i,n,r,s,o){var a=this;if(a.removed)return o&&o.call(a),a;var l=n instanceof g?n:e.animation(n,r,s,o);v(l,a,l.percents[0],null,a.attr());for(var h=0,c=re.length;h<c;h++)if(re[h].anim==i&&re[h].el==t){re[c-1].start=re[h].start;break}return a},Gt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},g.prototype.delay=function(t){var e=new g(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},g.prototype.repeat=function(t){var e=new g(this.anim,this.ms);return e.del=this.del,e.times=H.floor(q(t,0))||1,e},e.animation=function(t,i,n,r){if(t instanceof g)return t;!e.is(n,"function")&&n||(r=r||n||null,n=null),t=Object(t),i=+i||0;var s,o,a={};for(o in t)t[k](o)&&Q(o)!=o&&Q(o)+"%"!=o&&(s=!0,a[o]=t[o]);if(s)return n&&(a.easing=n),r&&(a.callback=r),new g({100:a},i);if(r){var l=0;for(var h in t){var c=J(h);t[k](h)&&c>l&&(l=c)}l+="%",!t[l].callback&&(t[l].callback=r)}return new g(t,i)},Gt.animate=function(t,i,n,r){var s=this;if(s.removed)return r&&r.call(s),s;var o=t instanceof g?t:e.animation(t,i,n,r);return v(o,s,o.percents[0],null,s.attr()),s},Gt.setTime=function(t,e){return t&&null!=e&&this.status(t,W(e,t.ms)/t.ms),this},Gt.status=function(t,e){var i,n,r=[],s=0;if(null!=e)return v(t,this,-1,W(e,1)),this;for(i=re.length;s<i;s++)if(n=re[s],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Gt.pause=function(e){for(var i=0;i<re.length;i++)re[i].el.id!=this.id||e&&re[i].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,re[i].anim)&&(re[i].paused=!0);return this},Gt.resume=function(e){for(var i=0;i<re.length;i++)if(re[i].el.id==this.id&&(!e||re[i].anim==e)){var n=re[i];!1!==t("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},Gt.stop=function(e){for(var i=0;i<re.length;i++)re[i].el.id!=this.id||e&&re[i].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,re[i].anim)&&re.splice(i--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),Gt.toString=function(){return"Raphaël’s object"};var le=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;e<i;e++)!t[e]||t[e].constructor!=Gt.constructor&&t[e].constructor!=le||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},he=le.prototype;he.push=function(){for(var t,e,i=0,n=arguments.length;i<n;i++)!(t=arguments[i])||t.constructor!=Gt.constructor&&t.constructor!=le||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},he.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},he.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(!1===t.call(e,this.items[i],i))return this;return this};for(var ce in Gt)Gt[k](ce)&&(he[ce]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][D](i,e)})}}(ce));return he.attr=function(t,i){
if(t&&e.is(t,U)&&e.is(t[0],"object"))for(var n=0,r=t.length;n<r;n++)this.items[n].attr(t[n]);else for(var s=0,o=this.items.length;s<o;s++)this.items[s].attr(t,i);return this},he.clear=function(){for(;this.length;)this.pop()},he.splice=function(t,e,i){t=t<0?q(this.length+t,0):t,e=q(0,W(this.length-t,e));var n,r=[],s=[],o=[];for(n=2;n<arguments.length;n++)o.push(arguments[n]);for(n=0;n<e;n++)s.push(this[t+n]);for(;n<this.length-t;n++)r.push(this[t+n]);var a=o.length;for(n=0;n<a+r.length;n++)this.items[t+n]=this[t+n]=n<a?o[n]:r[n-a];for(n=this.items.length=this.length-=e-a;this[n];)delete this[n++];return new le(s)},he.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t)return this.splice(e,1),!0},he.animate=function(t,i,n,r){(e.is(n,"function")||!n)&&(r=n||null);var s,o,a=this.items.length,l=a,h=this;if(!a)return this;r&&(o=function(){!--a&&r.call(h)}),n=e.is(n,"string")?n:o;var c=e.animation(t,i,n,o);for(s=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,c,c),this.items[l]&&!this.items[l].removed||a--;return this},he.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},he.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var s=this.items[r].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),n.push(s.y+s.height)}return t=W[D](0,t),e=W[D](0,e),i=q[D](0,i),n=q[D](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},he.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},he.toString=function(){return"Raphaël‘s set"},he.glow=function(t){var e=this.paper.set();return this.forEach(function(i,n){var r=i.glow(t);null!=r&&r.forEach(function(t,i){e.push(t)})}),e},he.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){if(n.isPointInside(t,e))return i=!0,!1}),i},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[k](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=J(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[k](r)){var s=t.glyphs[r];if(e.glyphs[r]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k)for(var o in s.k)s[k](o)&&(e.glyphs[r].k[o]=s.k[o])}}return t},w.getFont=function(t,i,n,r){if(r=r||"normal",n=n||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,e.fonts){var s=e.fonts[t];if(!s){var o=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,I)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[k](a)&&o.test(a)){s=e.fonts[a];break}}var l;if(s)for(var h=0,c=s.length;h<c&&(l=s[h],l.face["font-weight"]!=i||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=r);h++);return l}},w.print=function(t,i,n,r,s,o,a,l){o=o||"middle",a=q(W(a||0,1),-1),l=q(W(l||1,3),1);var h,c=O(n)[P](I),u=0,d=0,f=I;if(e.is(r,"string")&&(r=this.getFont(r)),r){h=(s||16)/r.face["units-per-em"];for(var p=r.face.bbox[P](x),m=+p[0],g=p[3]-p[1],v=0,y=+p[1]+("baseline"==o?g+ +r.face.descent:g/2),b=0,w=c.length;b<w;b++){if("\n"==c[b])u=0,C=0,d=0,v+=g*l;else{var _=d&&r.glyphs[c[b-1]]||{},C=r.glyphs[c[b]];u+=d?(_.w||r.w)+(_.k&&_.k[c[b]]||0)+r.w*a:0,d=1}C&&C.d&&(f+=e.transformPath(C.d,["t",u*h,v*h,"s",h,h,m,y,"t",(t-m)/h,(i-y)/h]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},w.add=function(t){if(e.is(t,"array"))for(var i,n=this.set(),r=0,s=t.length;r<s;r++)i=t[r]||{},_[k](i.type)&&n.push(this[i.type]().attr(i));return n},e.format=function(t,i){var n=e.is(i,U)?[0][E](i):arguments;return t&&e.is(t,"string")&&n.length-1&&(t=t.replace(C,function(t,e){return null==n[++e]?I:n[e]})),t||I},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;return i.replace(e,function(t,e,i,n,s){e=e||n,r&&(e in r&&(r=r[e]),"function"==typeof r&&s&&(r=r()))}),r=(null==r||r==n?t:r)+""};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),e.ninja=function(){if(T.was)S.win.Raphael=T.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=he,t.on("raphael.DOMload",function(){b=!0}),function(t,i,n){function r(){/in/.test(t.readyState)?setTimeout(r,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener("DOMContentLoaded",n=function(){t.removeEventListener("DOMContentLoaded",n,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document),e}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;!function(i){var s,o,a="hasOwnProperty",l=/[\.\/]/,h=/\s*,\s*/,c=function(t,e){return t-e},u={n:{}},d=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},f=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},p=Object.prototype.toString,m=String,g=Array.isArray||function(t){return t instanceof Array||"[object Array]"==p.call(t)};eve=function(t,e){var i,n=o,r=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),l=0,h=[],u={},p=[],m=s;p.firstDefined=d,p.lastDefined=f,s=t,o=0;for(var g=0,v=a.length;g<v;g++)"zIndex"in a[g]&&(h.push(a[g].zIndex),a[g].zIndex<0&&(u[a[g].zIndex]=a[g]));for(h.sort(c);h[l]<0;)if(i=u[h[l++]],p.push(i.apply(e,r)),o)return o=n,p;for(g=0;g<v;g++)if("zIndex"in(i=a[g]))if(i.zIndex==h[l]){if(p.push(i.apply(e,r)),o)break;do{if(l++,i=u[h[l]],i&&p.push(i.apply(e,r)),o)break}while(i)}else u[i.zIndex]=i;else if(p.push(i.apply(e,r)),o)break;return o=n,s=m,p},eve._events=u,eve.listeners=function(t){var e,i,n,r,s,o,a,h,c=g(t)?t:t.split(l),d=u,f=[d],p=[];for(r=0,s=c.length;r<s;r++){for(h=[],o=0,a=f.length;o<a;o++)for(d=f[o].n,i=[d[c[r]],d["*"]],n=2;n--;)(e=i[n])&&(h.push(e),p=p.concat(e.f||[]));f=h}return p},eve.separator=function(t){t?(t=m(t).replace(/(?=[\.\^\]\[\-])/g,"\\"),t="["+t+"]",l=new RegExp(t)):l=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var i=g(t)?g(t[0])?t:[t]:m(t).split(h),n=0,r=i.length;n<r;n++)!function(t){for(var i,n=g(t)?t:m(t).split(l),r=u,s=0,o=n.length;s<o;s++)r=r.n,r=r.hasOwnProperty(n[s])&&r[n[s]]||(r[n[s]]={n:{}});for(r.f=r.f||[],s=0,o=r.f.length;s<o;s++)if(r.f[s]==e){i=!0;break}!i&&r.f.push(e)}(i[n]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){o=1},eve.nt=function(t){var e=g(s)?s.join("."):s;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return g(s)?s:s.split(l)},eve.off=eve.unbind=function(t,e){if(!t)return void(eve._events=u={n:{}});var i=g(t)?g(t[0])?t:[t]:m(t).split(h);if(i.length>1)for(var n=0,r=i.length;n<r;n++)eve.off(i[n],e);else{i=g(t)?t:m(t).split(l);var s,o,c,n,r,d,f,p=[u];for(n=0,r=i.length;n<r;n++)for(d=0;d<p.length;d+=c.length-2){if(c=[d,1],s=p[d].n,"*"!=i[n])s[i[n]]&&c.push(s[i[n]]);else for(o in s)s[a](o)&&c.push(s[o]);p.splice.apply(p,c)}for(n=0,r=p.length;n<r;n++)for(s=p[n];s.n;){if(e){if(s.f){for(d=0,f=s.f.length;d<f;d++)if(s.f[d]==e){s.f.splice(d,1);break}!s.f.length&&delete s.f}for(o in s.n)if(s.n[a](o)&&s.n[o].f){var v=s.n[o].f;for(d=0,f=v.length;d<f;d++)if(v[d]==e){v.splice(d,1);break}!v.length&&delete s.n[o].f}}else{delete s.f;for(o in s.n)s.n[a](o)&&s.n[o].f&&delete s.n[o].f}s=s.n}}},eve.once=function(t,e){var i=function(){return eve.off(t,i),e.apply(this,arguments)};return eve.on(t,i)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},void 0!==t&&t.exports?t.exports=eve:(n=[],void 0!==(r=function(){return eve}.apply(e,n))&&(t.exports=r))}()},function(t,e,i){var n,r;n=[i(1)],void 0!==(r=function(t){if(!t||t.svg){var e="hasOwnProperty",i=String,n=parseFloat,r=parseInt,s=Math,o=s.max,a=s.abs,l=s.pow,h=/[, ]+/,c=t.eve,u="",d=" ",f="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var g=function(n,r){if(r){"string"==typeof n&&(n=g(n));for(var s in r)r[e](s)&&("xlink:"==s.substring(0,6)?n.setAttributeNS(f,s.substring(6),i(r[s])):n.setAttribute(s,i(r[s])))}else n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,r){var h="linear",c=e.id+r,d=.5,f=.5,p=e.node,m=e.paper,v=p.style,y=t._g.doc.getElementById(c);if(!y){if(r=i(r).replace(t._radial_gradient,function(t,e,i){if(h="radial",e&&i){d=n(e),f=n(i);var r=2*(f>.5)-1;l(d-.5,2)+l(f-.5,2)>.25&&(f=s.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=f&&(f=f.toFixed(5)-1e-5*r)}return u}),r=r.split(/\s*\-\s*/),"linear"==h){var w=r.shift();if(w=-n(w),isNaN(w))return null;var x=[0,0,s.cos(t.rad(w)),s.sin(t.rad(w))],_=1/(o(a(x[2]),a(x[3]))||1);x[2]*=_,x[3]*=_,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var C=t._parseDots(r);if(!C)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=g(h+"Gradient",{id:c}),e.gradient=y,g(y,"radial"==h?{fx:d,fy:f}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(y);for(var k=0,S=C.length;k<S;k++)y.appendChild(g("stop",{offset:C[k].offset?C[k].offset:k?"100%":"0%","stop-color":C[k].color||"#fff","stop-opacity":isFinite(C[k].opacity)?C[k].opacity:1}))}}return g(p,{fill:b(c),opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},y=function(){var t=document.documentMode;return t&&(9===t||10===t)},b=function(t){if(y())return"url('#"+t+"')";var e=document.location;return"url('"+e.protocol+"//"+e.host+e.pathname+e.search+"#"+t+"')"},w=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(n,r,s){if("path"==n.type){for(var o,a,l,h,c,d=i(r).toLowerCase().split("-"),f=n.paper,v=s?"end":"start",y=n.node,b=n.attrs,w=b["stroke-width"],x=d.length,_="classic",C=3,k=3,S=5;x--;)switch(d[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=d[x];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}if("open"==_?(C+=2,k+=2,S+=2,l=1,h=s?4:1,c={fill:"none",stroke:b.stroke}):(h=l=C/2,c={fill:b.stroke,stroke:"none"}),n._.arrows?s?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=_){var T="raphael-marker-"+_,A="raphael-marker-"+v+_+C+k+"-obj"+n.id;t._g.doc.getElementById(T)?m[T]++:(f.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:p[_],id:T})),m[T]=1);var D,E=t._g.doc.getElementById(A);E?(m[A]++,D=E.getElementsByTagName("use")[0]):(E=g(g("marker"),{id:A,markerHeight:k,markerWidth:C,orient:"auto",refX:h,refY:k/2}),D=g(g("use"),{"xlink:href":"#"+T,transform:(s?"rotate(180 "+C/2+" "+k/2+") ":u)+"scale("+C/S+","+k/S+")","stroke-width":(1/((C/S+k/S)/2)).toFixed(4)}),E.appendChild(D),f.defs.appendChild(E),m[A]=1),g(D,c);var N=l*("diamond"!=_&&"oval"!=_);s?(o=n._.arrows.startdx*w||0,a=t.getTotalLength(b.path)-N*w):(o=N*w,a=t.getTotalLength(b.path)-(n._.arrows.enddx*w||0)),c={},c["marker-"+v]="url(#"+A+")",(a||o)&&(c.d=t.getSubpath(b.path,o,a)),g(y,c),n._.arrows[v+"Path"]=T,n._.arrows[v+"Marker"]=A,n._.arrows[v+"dx"]=N,n._.arrows[v+"Type"]=_,n._.arrows[v+"String"]=r}else s?(o=n._.arrows.startdx*w||0,a=t.getTotalLength(b.path)-o):(o=0,a=t.getTotalLength(b.path)-(n._.arrows.enddx*w||0)),n._.arrows[v+"Path"]&&g(y,{d:t.getSubpath(b.path,o,a)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(c in m)if(m[e](c)&&!m[c]){var I=t._g.doc.getElementById(c);I&&I.parentNode.removeChild(I)}}},_={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},C=function(t,e,n){if(e=_[i(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",s={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,o=[],a=e.length;a--;)o[a]=e[a]*r+(a%2?1:-1)*s;g(t.node,{"stroke-dasharray":o.join(",")})}else g(t.node,{"stroke-dasharray":"none"})},k=function(n,s){var l=n.node,c=n.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var p in s)if(s[e](p)){if(!t._availableAttrs[e](p))continue;var m=s[p];switch(c[p]=m,p){case"blur":n.blur(m);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=m;else{y=g("title");var b=t._g.doc.createTextNode(m);y.appendChild(b),l.appendChild(y)}break;case"href":case"target":var _=l.parentNode;if("a"!=_.tagName.toLowerCase()){var k=g("a");_.insertBefore(k,l),k.appendChild(l),_=k}"target"==p?_.setAttributeNS(f,"show","blank"==m?"new":m):_.setAttributeNS(f,p,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":x(n,m);break;case"arrow-end":x(n,m,1);break;case"clip-rect":var T=i(m).split(h);if(4==T.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var A=g("clipPath"),D=g("rect");A.id=t.createUUID(),g(D,{x:T[0],y:T[1],width:T[2],height:T[3]}),A.appendChild(D),n.paper.defs.appendChild(A),g(l,{"clip-path":"url(#"+A.id+")"}),n.clip=D}if(!m){var E=l.getAttribute("clip-path");if(E){var N=t._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,u));N&&N.parentNode.removeChild(N),g(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(g(l,{d:m?c.path=t._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&x(n,n._.arrows.startString),"endString"in n._.arrows&&x(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,m),n._.dirty=1,!c.fx)break;p="x",m=c.x;case"x":c.fx&&(m=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==n.type)break;case"cx":l.setAttribute(p,m),n.pattern&&w(n),n._.dirty=1;break;case"height":if(l.setAttribute(p,m),n._.dirty=1,!c.fy)break;p="y",m=c.y;case"y":c.fy&&(m=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==n.type)break;case"cy":l.setAttribute(p,m),n.pattern&&w(n),n._.dirty=1;break;case"r":"rect"==n.type?g(l,{rx:m,ry:m}):l.setAttribute(p,m),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(f,"href",m);break;case"stroke-width":1==n._.sx&&1==n._.sy||(m/=o(a(n._.sx),a(n._.sy))||1),l.setAttribute(p,m),c["stroke-dasharray"]&&C(n,c["stroke-dasharray"],s),n._.arrows&&("startString"in n._.arrows&&x(n,n._.arrows.startString),"endString"in n._.arrows&&x(n,n._.arrows.endString,1));break;case"stroke-dasharray":C(n,m,s);break;case"fill":var I=i(m).match(t._ISURL);if(I){A=g("pattern");var M=g("image");A.id=t.createUUID(),g(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(M,{x:0,y:0,"xlink:href":I[1]}),A.appendChild(M),function(e){t._preload(I[1],function(){var t=this.offsetWidth,i=this.offsetHeight;g(e,{width:t,height:i}),g(M,{width:t,height:i})})}(A),n.paper.defs.appendChild(A),g(l,{fill:"url(#"+A.id+")"}),n.pattern=A,n.pattern&&w(n);break}var O=t.getRGB(m);if(O.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=i(m).charAt())&&v(n,m)){if("opacity"in c||"fill-opacity"in c){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(P){var R=P.getElementsByTagName("stop");g(R[R.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=m,c.fill="none";break}}else delete s.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(s.opacity,"undefined")&&g(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(s["fill-opacity"],"undefined")&&g(l,{"fill-opacity":c["fill-opacity"]});O[e]("opacity")&&g(l,{"fill-opacity":O.opacity>1?O.opacity/100:O.opacity});case"stroke":O=t.getRGB(m),l.setAttribute(p,O.hex),"stroke"==p&&O[e]("opacity")&&g(l,{"stroke-opacity":O.opacity>1?O.opacity/100:O.opacity}),"stroke"==p&&n._.arrows&&("startString"in n._.arrows&&x(n,n._.arrows.startString),"endString"in n._.arrows&&x(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=i(m).charAt())&&v(n,m);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(c.gradient){P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)),P&&(R=P.getElementsByTagName("stop"),g(R[R.length-1],{"stop-opacity":m}));break}default:"font-size"==p&&(m=r(m,10)+"px");var j=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[j]=m,n._.dirty=1,l.setAttribute(p,m)}}S(n,s),l.style.visibility=d},S=function(n,s){if("text"==n.type&&(s[e]("text")||s[e]("font")||s[e]("font-size")||s[e]("x")||s[e]("y"))){var o=n.attrs,a=n.node,l=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,u).getPropertyValue("font-size"),10):10;if(s[e]("text")){for(o.text=s.text;a.firstChild;)a.removeChild(a.firstChild);for(var h,c=i(s.text).split("\n"),d=[],f=0,p=c.length;f<p;f++)h=g("tspan"),f&&g(h,{dy:1.2*l,x:o.x}),h.appendChild(t._g.doc.createTextNode(c[f])),a.appendChild(h),d[f]=h}else for(d=a.getElementsByTagName("tspan"),f=0,p=d.length;f<p;f++)f?g(d[f],{dy:1.2*l,x:o.x}):g(d[0],{dy:0});g(a,{x:o.x,y:o.y}),n._.dirty=1;var m=n._getBBox(),v=o.y-(m.y+m.height/2);v&&t.is(v,"finite")&&g(d[0],{dy:v})}},T=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},A=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=function(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}(),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},D=t.el;A.prototype=D,D.constructor=A,t._engine.path=function(t,e){var i=g("path");e.canvas&&e.canvas.appendChild(i);var n=new A(i,e);return n.type="path",k(n,{fill:"none",stroke:"#000",path:t}),n},D.rotate=function(t,e,r){if(this.removed)return this;if(t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var s=this.getBBox(1);e=s.x+s.width/2,r=s.y+s.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},D.scale=function(t,e,r,s){if(this.removed)return this;if(t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2]),s=n(t[3])),t=n(t[0]),null==e&&(e=t),null==s&&(r=s),null==r||null==s)var o=this.getBBox(1);return r=null==r?o.x+o.width/2:r,s=null==s?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",t,e,r,s]])),this},D.translate=function(t,e){return this.removed?this:(t=i(t).split(h),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},D.transform=function(i){var n=this._;if(null==i)return n.transform;if(t._extractTransform(this,i),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&w(this),this.node&&g(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},D.hide=function(){return this.removed||(this.node.style.display="none"),this},D.show=function(){return this.removed||(this.node.style.display=""),this},D.remove=function(){var e=T(this.node);if(!this.removed&&e.parentNode){var i=this.paper;i.__set__&&i.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&i.defs.removeChild(this.gradient),t._tear(this,i),e.parentNode.removeChild(e),this.removeData();for(var n in this)this[n]="function"==typeof this[n]?t._removedFactory(n):null;this.removed=!0}},D._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,i=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(i=!0,e.display="");var n={};try{n=this.node.getBBox()}catch(t){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{n=n||{},i&&(e.display="none")}return t&&this.hide(),n},D.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var s in this.attrs)this.attrs[e](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var o=i.split(h),a={},l=0,u=o.length;l<u;l++)i=o[l],i in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return u-1?a:a[o[0]]}if(null==n&&t.is(i,"array")){for(a={},l=0,u=i.length;l<u;l++)a[i[l]]=this.attr(i[l]);return a}if(null!=n){var d={};d[i]=n}else null!=i&&t.is(i,"object")&&(d=i);for(var f in d)c("raphael.attr."+f+"."+this.id,this,d[f]);for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&d[e](f)&&t.is(this.paper.customAttributes[f],"function")){var p=this.paper.customAttributes[f].apply(this,[].concat(d[f]));this.attrs[f]=d[f];for(var m in p)p[e](m)&&(d[m]=p[m])}return k(this,d),this},D.toFront=function(){if(this.removed)return this;var e=T(this.node);e.parentNode.appendChild(e);var i=this.paper;return i.top!=this&&t._tofront(this,i),this},D.toBack=function(){if(this.removed)return this;var e=T(this.node),i=e.parentNode;i.insertBefore(e,i.firstChild),t._toback(this,this.paper);this.paper;return this},D.insertAfter=function(e){if(this.removed||!e)return this;var i=T(this.node),n=T(e.node||e[e.length-1].node);return n.nextSibling?n.parentNode.insertBefore(i,n.nextSibling):n.parentNode.appendChild(i),t._insertafter(this,e,this.paper),this},D.insertBefore=function(e){if(this.removed||!e)return this;var i=T(this.node),n=T(e.node||e[0].node);return n.parentNode.insertBefore(i,n),t._insertbefore(this,e,this.paper),this},D.blur=function(e){var i=this;if(0!=+e){var n=g("filter"),r=g("feGaussianBlur");i.attrs.blur=e,n.id=t.createUUID(),g(r,{stdDeviation:+e||1.5}),n.appendChild(r),i.paper.defs.appendChild(n),i._blur=n,g(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter");return i},t._engine.circle=function(t,e,i,n){var r=g("circle");t.canvas&&t.canvas.appendChild(r);var s=new A(r,t);return s.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},s.type="circle",g(r,s.attrs),s},t._engine.rect=function(t,e,i,n,r,s){var o=g("rect");t.canvas&&t.canvas.appendChild(o);var a=new A(o,t);return a.attrs={x:e,y:i,width:n,height:r,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},a.type="rect",g(o,a.attrs),a},t._engine.ellipse=function(t,e,i,n,r){var s=g("ellipse");t.canvas&&t.canvas.appendChild(s);var o=new A(s,t);return o.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},o.type="ellipse",g(s,o.attrs),o},t._engine.image=function(t,e,i,n,r,s){var o=g("image");g(o,{x:i,y:n,width:r,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(f,"href",e),t.canvas&&t.canvas.appendChild(o);var a=new A(o,t);return a.attrs={x:i,y:n,width:r,height:s,src:e},a.type="image",a},t._engine.text=function(e,i,n,r){var s=g("text");e.canvas&&e.canvas.appendChild(s);var o=new A(s,e);return o.attrs={x:i,y:n,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},o.type="text",k(o,o.attrs),o},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,n=e.x,r=e.y,s=e.width,o=e.height;if(!i)throw new Error("SVG container not found.");var a,l=g("svg"),h="overflow:hidden;";return n=n||0,r=r||0,s=s||512,o=o||342,g(l,{height:o,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==i?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+r+"px",t._g.doc.body.appendChild(l),a=1):(l.style.cssText=h+"position:relative",i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l)),i=new t._Paper,i.width=s,i.height=o,i.canvas=l,i.clear(),i._left=i._top=0,a&&(i.renderfix=function(){}),i.renderfix(),i},t._engine.setViewBox=function(t,e,i,n,r){c("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var s,a,l=this.getSize(),h=o(i/l.width,n/l.height),u=this.top,f=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(h=1),delete this._vbSize,s="0 0 "+this.width+d+this.height):(this._vbSize=h,s=t+d+e+d+i+d+n),g(this.canvas,{viewBox:s,preserveAspectRatio:f});h&&u;)a="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":a}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[t,e,i,n,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(i){t=e.createSVGMatrix()}var n=-t.e%1,r=-t.f%1;(n||r)&&(n&&(this._left=(this._left+n)%1,i.left=this._left+"px"),r&&(this._top=(this._top+r)%1,i.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},t.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var E=t.st;for(var N in D)D[e](N)&&!E[e](N)&&(E[N]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(N))}}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;n=[i(1)],void 0!==(r=function(t){if(!t||t.vml){var e="hasOwnProperty",i=String,n=parseFloat,r=Math,s=r.round,o=r.max,a=r.min,l=r.abs,h=/[, ]+/,c=t.eve,u=" ",d="",f={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,b={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(e){var n=/[ahqstv]/gi,r=t._pathToAbsolute;if(i(e).match(n)&&(r=t._path2curve),n=/[clmz]/g,r==t._pathToAbsolute&&!i(e).match(n)){var o=i(e).replace(p,function(t,e,i){var n=[],r="m"==e.toLowerCase(),o=f[e];return i.replace(g,function(t){r&&2==n.length&&(o+=n+f["m"==e?"l":"L"],n=[]),n.push(s(t*y))}),o+n});return o}var a,l,h=r(e);o=[];for(var c=0,m=h.length;c<m;c++){a=h[c],l=h[c][0].toLowerCase(),"z"==l&&(l="x");for(var v=1,b=a.length;v<b;v++)l+=s(a[v]*y)+(v!=b-1?",":d);o.push(l)}return o.join(u)},_=function(e,i,n){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(i,n),dy:r.y(i,n)}},C=function(t,e,i,n,r,s){var o=t._,a=t.matrix,h=o.fillpos,c=t.node,d=c.style,f=1,p="",m=y/e,g=y/i;if(d.visibility="hidden",e&&i){if(c.coordsize=l(m)+u+l(g),d.rotation=s*(e*i<0?-1:1),s){var v=_(s,n,r);n=v.dx,r=v.dy}if(e<0&&(p+="x"),i<0&&(p+=" y")&&(f=-1),d.flip=p,c.coordorigin=n*-m+u+r*-g,h||o.fillsize){var b=c.getElementsByTagName("fill");b=b&&b[0],c.removeChild(b),h&&(v=_(s,a.x(h[0],h[1]),a.y(h[0],h[1])),b.position=v.dx*f+u+v.dy*f),o.fillsize&&(b.size=o.fillsize[0]*l(e)+u+o.fillsize[1]*l(i)),c.appendChild(b)}d.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var k=function(t,e,n){for(var r=i(e).toLowerCase().split("-"),s=n?"end":"start",o=r.length,a="classic",l="medium",h="medium";o--;)switch(r[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[o];break;case"wide":case"narrow":h=r[o];break;case"long":case"short":l=r[o]}var c=t.node.getElementsByTagName("stroke")[0];c[s+"arrow"]=a,c[s+"arrowlength"]=l,c[s+"arrowwidth"]=h},S=function(r,l){r.attrs=r.attrs||{};var c=r.node,f=r.attrs,p=c.style,m=b[r.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),g=w[r.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),v=r;for(var _ in l)l[e](_)&&(f[_]=l[_]);if(m&&(f.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(p.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||m)&&(c.path=x(~i(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[f.x,f.y],r._.fillsize=[f.width,f.height],C(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),g){var S=+f.cx,A=+f.cy,D=+f.rx||+f.r||0,N=+f.ry||+f.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((S-D)*y),s((A-N)*y),s((S+D)*y),s((A+N)*y),s(S*y)),r._.dirty=1}if("clip-rect"in l){var I=i(l["clip-rect"]).split(h);if(4==I.length){I[2]=+I[2]+ +I[0],I[3]=+I[3]+ +I[1];var M=c.clipRect||t._g.doc.createElement("div"),O=M.style;O.clip=t.format("rect({1}px {2}px {3}px {0}px)",I),c.clipRect||(O.position="absolute",O.top=0,O.left=0,O.width=r.paper.width+"px",O.height=r.paper.height+"px",c.parentNode.insertBefore(M,c),M.appendChild(c),c.clipRect=M)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(r.textpath){var P=r.textpath.style;l.font&&(P.font=l.font),l["font-family"]&&(P.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(P.fontSize=l["font-size"]),l["font-weight"]&&(P.fontWeight=l["font-weight"]),l["font-style"]&&(P.fontStyle=l["font-style"])}if("arrow-start"in l&&k(v,l["arrow-start"]),"arrow-end"in l&&k(v,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var R=c.getElementsByTagName("fill");if(R=R&&R[0],!R&&(R=E("fill")),"image"==r.type&&l.src&&(R.src=l.src),l.fill&&(R.on=!0),null!=R.on&&"none"!=l.fill&&null!==l.fill||(R.on=!1),R.on&&l.fill){var j=i(l.fill).match(t._ISURL);if(j){R.parentNode==c&&c.removeChild(R),R.rotate=!0,R.src=j[1],R.type="tile";var L=r.getBBox(1);R.position=L.x+u+L.y,r._.fillpos=[L.x,L.y],t._preload(j[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else R.color=t.getRGB(l.fill).hex,R.src=d,R.type="solid",t.getRGB(l.fill).error&&(v.type in{circle:1,ellipse:1}||"r"!=i(l.fill).charAt())&&T(v,l.fill,R)&&(f.fill="none",f.gradient=l.fill,R.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var H=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);H=a(o(H,0),1),R.opacity=H,R.src&&(R.color="none")}c.appendChild(R);var q=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],W=!1;!q&&(W=q=E("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(q.on=!0),("none"==l.stroke||null===l.stroke||null==q.on||0==l.stroke||0==l["stroke-width"])&&(q.on=!1);var B=t.getRGB(l.stroke);q.on&&l.stroke&&(q.color=B.hex),H=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+B.o+1||2)-1);var F=.75*(n(l["stroke-width"])||1);if(H=a(o(H,0),1),null==l["stroke-width"]&&(F=f["stroke-width"]),l["stroke-width"]&&(q.weight=F),F&&F<1&&(H*=F)&&(q.weight=1),q.opacity=H,l["stroke-linejoin"]&&(q.joinstyle=l["stroke-linejoin"]||"miter"),q.miterlimit=l["stroke-miterlimit"]||8,
l["stroke-linecap"]&&(q.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var z={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};q.dashstyle=z[e](l["stroke-dasharray"])?z[l["stroke-dasharray"]]:d}W&&c.appendChild(q)}if("text"==v.type){v.paper.canvas.style.display=d;var Y=v.paper.span,U=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);p=Y.style,f.font&&(p.font=f.font),f["font-family"]&&(p.fontFamily=f["font-family"]),f["font-weight"]&&(p.fontWeight=f["font-weight"]),f["font-style"]&&(p.fontStyle=f["font-style"]),U=n(f["font-size"]||U&&U[0])||10,p.fontSize=100*U+"px",v.textpath.string&&(Y.innerHTML=i(v.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var $=Y.getBoundingClientRect();v.W=f.w=($.right-$.left)/100,v.H=f.h=($.bottom-$.top)/100,v.X=f.x,v.Y=f.y+v.H/2,("x"in l||"y"in l)&&(v.path.v=t.format("m{0},{1}l{2},{1}",s(f.x*y),s(f.y*y),s(f.x*y)+1));for(var V=["x","y","text","font","font-family","font-weight","font-style","font-size"],G=0,X=V.length;G<X;G++)if(V[G]in l){v._.dirty=1;break}switch(f["text-anchor"]){case"start":v.textpath.style["v-text-align"]="left",v.bbx=v.W/2;break;case"end":v.textpath.style["v-text-align"]="right",v.bbx=-v.W/2;break;default:v.textpath.style["v-text-align"]="center",v.bbx=0}v.textpath.style["v-text-kern"]=!0}},T=function(e,s,o){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),l="linear",h=".5 .5";if(e.attrs.gradient=s,s=i(s).replace(t._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),a(e-.5,2)+a(i-.5,2)>.25&&(i=r.sqrt(.25-a(e-.5,2))*(2*(i>.5)-1)+.5),h=e+u+i),d}),s=s.split(/\s*\-\s*/),"linear"==l){var c=s.shift();if(c=-n(c),isNaN(c))return null}var f=t._parseDots(s);if(!f)return null;if(e=e.shape||e.node,f.length){e.removeChild(o),o.on=!0,o.method="none",o.color=f[0].color,o.color2=f[f.length-1].color;for(var p=[],m=0,g=f.length;m<g;m++)f[m].offset&&p.push(f[m].offset+u+f[m].color);o.colors=p.length?p.join():"0% "+o.color,"radial"==l?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=h,o.angle=0):(o.type="gradient",o.angle=(270-c)%360),e.appendChild(o)}return 1},A=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},D=t.el;A.prototype=D,D.constructor=A,D.transform=function(e){if(null==e)return this._.transform;var n,r=this.paper._viewBoxShift,s=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d;r&&(n=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,s+e);var o,a=this.matrix.clone(),l=this.skew,h=this.node,c=~i(this.attrs.fill).indexOf("-"),f=!i(this.attrs.fill).indexOf("url(");if(a.translate(1,1),f||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",o=a.split(),c&&o.noRotation||!o.isSimple){h.style.filter=a.toFilter();var p=this.getBBox(),m=this.getBBox(1),g=p.x-m.x,v=p.y-m.y;h.coordorigin=g*-y+u+v*-y,C(this,1,1,g,v,0)}else h.style.filter=d,C(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate);else h.style.filter=d,l.matrix=i(a),l.offset=a.offset();return null!==n&&(this._.transform=n,t._extractTransform(this,n)),this},D.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if(t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var s=this.getBBox(1);e=s.x+s.width/2,r=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},D.translate=function(t,e){return this.removed?this:(t=i(t).split(h),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},D.scale=function(t,e,r,s){if(this.removed)return this;if(t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2]),s=n(t[3]),isNaN(r)&&(r=null),isNaN(s)&&(s=null)),t=n(t[0]),null==e&&(e=t),null==s&&(r=s),null==r||null==s)var o=this.getBBox(1);return r=null==r?o.x+o.width/2:r,s=null==s?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",t,e,r,s]])),this._.dirtyT=1,this},D.hide=function(){return!this.removed&&(this.node.style.display="none"),this},D.show=function(){return!this.removed&&(this.node.style.display=d),this},D.auxGetBBox=t.el.getBBox,D.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},i=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=i,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=i,e.width=t.width*i,e.height=t.height*i,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},D._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},D.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},D.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var s in this.attrs)this.attrs[e](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var o=i.split(h),a={},l=0,u=o.length;l<u;l++)i=o[l],i in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return u-1?a:a[o[0]]}if(this.attrs&&null==n&&t.is(i,"array")){for(a={},l=0,u=i.length;l<u;l++)a[i[l]]=this.attr(i[l]);return a}var d;null!=n&&(d={},d[i]=n),null==n&&t.is(i,"object")&&(d=i);for(var f in d)c("raphael.attr."+f+"."+this.id,this,d[f]);if(d){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&d[e](f)&&t.is(this.paper.customAttributes[f],"function")){var p=this.paper.customAttributes[f].apply(this,[].concat(d[f]));this.attrs[f]=d[f];for(var m in p)p[e](m)&&(d[m]=p[m])}d.text&&"text"==this.type&&(this.textpath.string=d.text),S(this,d)}return this},D.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},D.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},D.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},D.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},D.blur=function(e){var i=this.node.runtimeStyle,n=i.filter;return n=n.replace(m,d),0!=+e?(this.attrs.blur=e,i.filter=n+u+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",s(+e||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var i=E("shape");i.style.cssText=v,i.coordsize=y+u+y,i.coordorigin=e.coordorigin;var n=new A(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=d,S(n,r),e.canvas&&e.canvas.appendChild(i);var s=E("skew");return s.on=!0,i.appendChild(s),n.skew=s,n.transform(d),n},t._engine.rect=function(e,i,n,r,s,o){var a=t._rectPath(i,n,r,s,o),l=e.path(a),h=l.attrs;return l.X=h.x=i,l.Y=h.y=n,l.W=h.width=r,l.H=h.height=s,h.r=o,h.path=a,l.type="rect",l},t._engine.ellipse=function(t,e,i,n,r){var s=t.path();s.attrs;return s.X=e-n,s.Y=i-r,s.W=2*n,s.H=2*r,s.type="ellipse",S(s,{cx:e,cy:i,rx:n,ry:r}),s},t._engine.circle=function(t,e,i,n){var r=t.path();r.attrs;return r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",S(r,{cx:e,cy:i,r:n}),r},t._engine.image=function(e,i,n,r,s,o){var a=t._rectPath(n,r,s,o),l=e.path(a).attr({stroke:"none"}),h=l.attrs,c=l.node,u=c.getElementsByTagName("fill")[0];return h.src=i,l.X=h.x=n,l.Y=h.y=r,l.W=h.width=s,l.H=h.height=o,h.path=a,l.type="image",u.parentNode==c&&c.removeChild(u),u.rotate=!0,u.src=i,u.type="tile",l._.fillpos=[n,r],l._.fillsize=[s,o],c.appendChild(u),C(l,1,1,0,0,0),l},t._engine.text=function(e,n,r,o){var a=E("shape"),l=E("path"),h=E("textpath");n=n||0,r=r||0,o=o||"",l.v=t.format("m{0},{1}l{2},{1}",s(n*y),s(r*y),s(n*y)+1),l.textpathok=!0,h.string=i(o),h.on=!0,a.style.cssText=v,a.coordsize=y+u+y,a.coordorigin="0 0";var c=new A(a,e),f={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:o};c.shape=a,c.path=l,c.textpath=h,c.type="text",c.attrs.text=i(o),c.attrs.x=n,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,S(c,f),a.appendChild(h),a.appendChild(l),e.canvas.appendChild(a);var p=E("skew");return p.on=!0,a.appendChild(p),c.skew=p,c.transform(d),c},t._engine.setSize=function(e,i){var n=this.canvas.style;return this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),n.width=e,n.height=i,n.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,i,n,r,s){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,n,r,s]);var o,a,l=this.getSize(),h=l.width,c=l.height;return s&&(o=c/r,a=h/n,n*o<h&&(e-=(h-n*o)/2/o),r*a<c&&(i-=(c-r*a)/2/a)),this._viewBox=[e,i,n,r,!!s],this._viewBoxShift={dx:-e,dy:-i,scale:l},this.forEach(function(t){t.transform("...")}),this};var E;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),E=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){E=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,n=e.height,r=e.width,s=e.x,o=e.y;if(!i)throw new Error("VML container not found.");var a=new t._Paper,l=a.canvas=t._g.doc.createElement("div"),h=l.style;return s=s||0,o=o||0,r=r||512,n=n||342,a.width=r,a.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),a.coordsize=216e5+u+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==i?(t._g.doc.body.appendChild(l),h.left=s+"px",h.top=o+"px",h.position="absolute"):i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var N=t.st;for(var I in D)D[e](I)&&!N[e](I)&&(N[I]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(I))}}.apply(e,n))&&(t.exports=r)}])}),function(){var t,e,i,n,r=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};e=window.Morris={},t=jQuery,e.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,i,n,s,o,a;if(i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[i]){for(o=this.handlers[i],a=[],n=0,s=o.length;n<s;n++)e=o[n],a.push(e.apply(null,t));return a}},t}(),e.commas=function(t){var e,i,n,r;return null!=t?(n=t<0?"-":"",e=Math.abs(t),i=Math.floor(e).toFixed(0),n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,","),r=e.toString(),r.length>i.length&&(n+=r.slice(i.length)),n):"-"},e.pad2=function(t){return(t<10?"0":"")+t},e.Grid=function(i){function n(e){this.resizeHandler=s(this.resizeHandler,this);var i=this;if("string"==typeof e.element?this.el=t(document.getElementById(e.element)):this.el=t(e.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=t.extend({},this.gridDefaults,this.defaults||{},e),"string"==typeof this.options.units&&(this.options.postUnits=e.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,n,r,s,o;return n=i.el.offset(),o=t.pageX-n.left,i.selectFrom?(e=i.data[i.hitTest(Math.min(o,i.selectFrom))]._x,r=i.data[i.hitTest(Math.max(o,i.selectFrom))]._x,s=r-e,i.selectionRect.attr({x:e,width:s})):i.fire("hovermove",o,t.pageY-n.top)}),this.el.bind("mouseleave",function(t){return i.selectFrom&&(i.selectionRect.hide(),i.selectFrom=null),i.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,n;return n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=i.el.offset(),i.fire("hovermove",n.pageX-e.left,n.pageY-e.top)}),this.el.bind("click",function(t){var e;return e=i.el.offset(),i.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=i.el.offset(),i.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=i.el.offset(),i.endRange(t.pageX-e.left),i.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&t(window).bind("resize",function(t){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return a(n,i),n.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},n.prototype.setData=function(t,i){var n,r,s,o,a,l,h,c,u,d,f,p,m,g,v;return null==i&&(i=!0),this.options.data=t,null==t||0===t.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(p=this.cumulative?0:null,m=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),o=Math.max.apply(Math,this.options.goals),m=null!=m?Math.min(m,a):a,p=null!=p?Math.max(p,o):o),this.data=function(){var i,n,o;for(o=[],s=i=0,n=t.length;i<n;s=++i)h=t[s],l={src:h},l.label=h[this.options.xkey],this.options.parseTime?(l.x=e.parseDate(l.label),this.options.dateFormat?l.label=this.options.dateFormat(l.x):"number"==typeof l.label&&(l.label=new Date(l.label).toString())):(l.x=s,this.options.xLabelFormat&&(l.label=this.options.xLabelFormat(l))),u=0,l.y=function(){var t,e,i,n;for(i=this.options.ykeys,n=[],r=t=0,e=i.length;t<e;r=++t)f=i[r],g=h[f],"string"==typeof g&&(g=parseFloat(g)),null!=g&&"number"!=typeof g&&(g=null),null!=g&&(this.cumulative?u+=g:null!=p?(p=Math.max(g,p),m=Math.min(g,m)):p=m=g),this.cumulative&&null!=u&&(p=Math.max(u,p),m=Math.min(u,m)),n.push(g);return n}.call(this),o.push(l);return o}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.options.parseTime?this.events=function(){var t,i,r,s;for(r=this.options.events,s=[],t=0,i=r.length;t<i;t++)n=r[t],s.push(e.parseDate(n));return s}.call(this):this.events=this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",m),this.ymax=this.yboundary("max",p),this.ymin===this.ymax&&(m&&(this.ymin-=1),this.ymax+=1),!0!==(v=this.options.axes)&&"both"!==v&&"y"!==v&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(c=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,i;for(i=[],d=t=this.ymin,e=this.ymax;c>0?t<=e:t>=e;d=t+=c)i.push(d);return i}.call(this))),this.dirty=!0,i?this.redraw():void 0)},n.prototype.yboundary=function(t,e){var i,n;return i=this.options["y"+t],"string"==typeof i?"auto"===i.slice(0,4)?i.length>5?(n=parseInt(i.slice(5),10),null==e?n:Math[t](e,n)):null!=e?e:0:parseInt(i,10):i},n.prototype.autoGridLines=function(t,e,i){var n,r,s,o,a,l,h,c,u;return a=e-t,u=Math.floor(Math.log(a)/Math.log(10)),h=Math.pow(10,u),r=Math.floor(t/h)*h,n=Math.ceil(e/h)*h,l=(n-r)/(i-1),1===h&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),n=r+l*(i-1)),r<0&&n>0&&(r=Math.floor(t/l)*l,n=Math.ceil(e/l)*l),l<1?(o=Math.floor(Math.log(l)/Math.log(10)),s=function(){var t,e;for(e=[],c=t=r;l>0?t<=n:t>=n;c=t+=l)e.push(parseFloat(c.toFixed(1-o)));return e}()):s=function(){var t,e;for(e=[],c=t=r;l>0?t<=n:t>=n;c=t+=l)e.push(c);return e}(),s},n.prototype._calc=function(){var t,e,i,n,r,s,o,a;if(r=this.el.width(),i=this.el.height(),(this.elementWidth!==r||this.elementHeight!==i||this.dirty)&&(this.elementWidth=r,this.elementHeight=i,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(o=this.options.axes)&&"both"!==o&&"y"!==o||(s=function(){var t,i,n,r;for(n=this.grid,r=[],t=0,i=n.length;t<i;t++)e=n[t],r.push(this.measureText(this.yAxisFormat(e)).width);return r}.call(this),this.left+=Math.max.apply(Math,s)),!0!==(a=this.options.axes)&&"both"!==a&&"x"!==a||(t=function(){var t,e,i;for(i=[],n=t=0,e=this.data.length;0<=e?t<e:t>e;n=0<=e?++t:--t)i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height);return i}.call(this),this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc))return this.calc()},n.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},n.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},n.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},n.prototype.measureText=function(t,e){var i,n;return null==e&&(e=0),n=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e),i=n.getBBox(),n.remove(),i},n.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},n.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+e.commas(t)+this.options.postUnits},n.prototype.drawGrid=function(){var t,e,i,n,r,s,o,a;if(!1!==this.options.grid||!0===(r=this.options.axes)||"both"===r||"y"===r){for(s=this.grid,a=[],i=0,n=s.length;i<n;i++)t=s[i],e=this.transY(t),!0!==(o=this.options.axes)&&"both"!==o&&"y"!==o||this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)),this.options.grid?a.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width))):a.push(void 0);return a}},n.prototype.drawGoals=function(){var t,e,i,n,r,s,o;for(s=this.options.goals,o=[],i=n=0,r=s.length;n<r;i=++n)e=s[i],t=this.options.goalLineColors[i%this.options.goalLineColors.length],o.push(this.drawGoal(e,t));return o},n.prototype.drawEvents=function(){var t,e,i,n,r,s,o;for(s=this.events,o=[],i=n=0,r=s.length;n<r;i=++n)e=s[i],t=this.options.eventLineColors[i%this.options.eventLineColors.length],o.push(this.drawEvent(e,t));return o},n.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},n.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)},n.prototype.drawYAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},n.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},n.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},n.prototype.endRange=function(t){var e,i;if(this.selectFrom)return i=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n}(e.EventEmitter),e.parseDate=function(t){var e,i,n,r,s,o,a,l,h,c,u;return"number"==typeof t?t:(i=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),s=t.match(/^(\d+)-(\d+)-(\d+)$/),a=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),i?new Date(parseInt(i[1],10),3*parseInt(i[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime():a?(c=new Date(parseInt(a[1],10),0,1),4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),c.getTime()+6048e5*parseInt(a[2],10)):l?l[6]?(o=0,"Z"!==l[6]&&(o=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():h?(u=parseFloat(h[6]),e=Math.floor(u),n=Math.round(1e3*(u-e)),h[8]?(o=0,"Z"!==h[8]&&(o=60*parseInt(h[10],10)+parseInt(h[11],10),"+"===h[9]&&(o=0-o)),Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+o,e,n)):new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,n).getTime()):new Date(parseInt(t,10),0,1).getTime())},e.Hover=function(){function i(i){null==i&&(i={}),this.options=t.extend({},e.Hover.defaults,i),this.el=t("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return i.defaults={class:"morris-hover morris-default-style"},i.prototype.update=function(t,e,i){return t?(this.html(t),this.show(),this.moveTo(e,i)):this.hide()},i.prototype.html=function(t){return this.el.html(t)},i.prototype.moveTo=function(t,e){var i,n,r,s,o,a;return o=this.options.parent.innerWidth(),s=this.options.parent.innerHeight(),n=this.el.outerWidth(),i=this.el.outerHeight(),r=Math.min(Math.max(0,t-n/2),o-n),null!=e?(a=e-i-10)<0&&(a=e+10)+i>s&&(a=s/2-i/2):a=s/2-i/2,this.el.css({left:r+"px",top:parseInt(a)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}(),e.Line=function(t){function i(t){if(this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),!(this instanceof e.Line))return new e.Line(t);i.__super__.constructor.call(this,t)}return a(i,t),i.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},i.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},i.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},i.prototype.calcPoints=function(){var t,e,i,n,r,s;for(r=this.data,s=[],i=0,n=r.length;i<n;i++)t=r[i],t._x=this.transX(t.x),t._y=function(){var i,n,r,s;for(r=t.y,s=[],i=0,n=r.length;i<n;i++)e=r[i],null!=e?s.push(this.transY(e)):s.push(e);return s}.call(this),s.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,n,r,s;for(r=t._y,s=[],i=0,n=r.length;i<n;i++)null!=(e=r[i])&&s.push(e);return s}())));return s},i.prototype.hitTest=function(t){var e,i,n,r,s;if(0===this.data.length)return null;for(s=this.data.slice(1),e=n=0,r=s.length;n<r&&(i=s[e],!(t<(i._x+this.data[e]._x)/2));e=++n);return e},i.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},i.prototype.onHoverMove=function(t,e){var i;return i=this.hitTest(t),this.displayHoverForRow(i)},i.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},i.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},i.prototype.hoverContentForRow=function(t){var e,i,n,r,s,o,a;for(n=this.data[t],e="<div class='morris-hover-row-label'>"+n.label+"</div>",a=n.y,i=s=0,o=a.length;s<o;i=++s)r=a[i],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),[e,n._x,n._ymax]},i.prototype.generatePaths=function(){var t,i,n,r;return this.paths=function(){var s,o,a,h;for(h=[],i=s=0,o=this.options.ykeys.length;0<=o?s<o:s>o;i=0<=o?++s:--s)r="boolean"==typeof this.options.smooth?this.options.smooth:(a=this.options.ykeys[i],l.call(this.options.smooth,a)>=0),t=function(){var t,e,r,s;for(r=this.data,s=[],t=0,e=r.length;t<e;t++)n=r[t],void 0!==n._y[i]&&s.push({x:n._x,y:n._y[i]});return s}.call(this),t.length>1?h.push(e.Line.createPath(t,r,this.bottom)):h.push(null);return h}.call(this)},i.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},i.prototype.drawXAxis=function(){var t,i,n,r,s,o,a,l,h,c,u=this;for(a=this.bottom+this.options.padding/2,s=null,r=null,t=function(t,e){var i,n,o,l,h;return i=u.drawXAxisLabel(u.transX(e),a,t),h=i.getBBox(),i.transform("r"+-u.options.xLabelAngle),n=i.getBBox(),i.transform("t0,"+n.height/2+"..."),0!==u.options.xLabelAngle&&(l=-.5*h.width*Math.cos(u.options.xLabelAngle*Math.PI/180),i.transform("t"+l+",0...")),n=i.getBBox(),(null==s||s>=n.x+n.width||null!=r&&r>=n.x)&&n.x>=0&&n.x+n.width<u.el.width()?(0!==u.options.xLabelAngle&&(o=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180),r=n.x-o),s=n.x-u.options.xLabelMargin):i.remove()},n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,i,n;for(i=this.data,n=[],t=0,e=i.length;t<e;t++)o=i[t],n.push([o.label,o.x]);return n}.call(this),n.reverse(),c=[],l=0,h=n.length;l<h;l++)i=n[l],c.push(t(i[0],i[1]));return c},i.prototype.drawSeries=function(){var t,e,i,n,r,s;for(this.seriesPoints=[],t=e=n=this.options.ykeys.length-1;n<=0?e<=0:e>=0;t=n<=0?++e:--e)this._drawLineFor(t);for(s=[],t=i=r=this.options.ykeys.length-1;r<=0?i<=0:i>=0;t=r<=0?++i:--i)s.push(this._drawPointFor(t));return s},i.prototype._drawPointFor=function(t){var e,i,n,r,s,o;for(this.seriesPoints[t]=[],s=this.data,o=[],n=0,r=s.length;n<r;n++)i=s[n],e=null,null!=i._y[t]&&(e=this.drawLinePoint(i._x,i._y[t],this.colorFor(i,t,"point"),t)),o.push(this.seriesPoints[t].push(e));return o},i.prototype._drawLineFor=function(t){var e;if(null!==(e=this.paths[t]))return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},i.createPath=function(t,i,n){var r,s,o,a,l,h,c,u,d,f,p,m,g,v;for(c="",i&&(o=e.Line.gradients(t)),u={y:null},a=g=0,v=t.length;g<v;a=++g)r=t[a],null!=r.y&&(null!=u.y?i?(s=o[a],h=o[a-1],l=(r.x-u.x)/4,d=u.x+l,p=Math.min(n,u.y+l*h),f=r.x-l,m=Math.min(n,r.y-l*s),c+="C"+d+","+p+","+f+","+m+","+r.x+","+r.y):c+="L"+r.x+","+r.y:i&&null==o[a]||(c+="M"+r.x+","+r.y)),u=r;return c},i.gradients=function(t){var e,i,n,r,s,o,a,l;for(i=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],n=o=0,a=t.length;o<a;n=++o)e=t[n],null!=e.y?(r=t[n+1]||{y:null},s=t[n-1]||{y:null},null!=s.y&&null!=r.y?l.push(i(s,r)):null!=s.y?l.push(i(s,e)):null!=r.y?l.push(i(e,r)):l.push(null)):l.push(null);return l},i.prototype.hilight=function(t){var e,i,n,r,s;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=i=0,r=this.seriesPoints.length-1;0<=r?i<=r:i>=r;e=0<=r?++i:--i)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=n=0,s=this.seriesPoints.length-1;0<=s?n<=s:n>=s;e=0<=s?++n:--n)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},i.prototype.colorFor=function(t,e,i){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,i):"point"===i?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:this.options.lineColors[e%this.options.lineColors.length]},i.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},i.prototype.drawLinePath=function(t,e,i){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i))},i.prototype.drawLinePoint=function(t,e,i,n){
return this.raphael.circle(t,e,this.pointSizeForSeries(n)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(n)).attr("stroke",this.pointStrokeColorForSeries(n))},i.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},i.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},i.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},i.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},i.prototype.pointGrowSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},i.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},i}(e.Grid),e.labelSeries=function(i,n,r,s,o){var a,l,h,c,u,d,f,p,m,g,v;if(h=200*(n-i)/r,l=new Date(i),void 0===(f=e.LABEL_SPECS[s]))for(v=e.AUTO_LABEL_ORDER,m=0,g=v.length;m<g;m++)if(c=v[m],d=e.LABEL_SPECS[c],h>=d.span){f=d;break}for(void 0===f&&(f=e.LABEL_SPECS.second),o&&(f=t.extend({},f,{fmt:o})),a=f.start(l),u=[];(p=a.getTime())<=n;)p>=i&&u.push([f.fmt(a),p]),f.incr(a);return u},i=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}},n=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":n(30),"15sec":n(15),"10sec":n(10),"5sec":n(5),second:n(1)},e.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],e.Area=function(i){function n(i){var s;if(!(this instanceof e.Area))return new e.Area(i);s=t.extend({},r,i),this.cumulative=!s.behaveLikeLine,"auto"===s.fillOpacity&&(s.fillOpacity=s.behaveLikeLine?.8:1),n.__super__.constructor.call(this,s)}var r;return a(n,i),r={fillOpacity:"auto",behaveLikeLine:!1},n.prototype.calcPoints=function(){var t,e,i,n,r,s,o;for(s=this.data,o=[],n=0,r=s.length;n<r;n++)t=s[n],t._x=this.transX(t.x),e=0,t._y=function(){var n,r,s,o;for(s=t.y,o=[],n=0,r=s.length;n<r;n++)i=s[n],this.options.behaveLikeLine?o.push(this.transY(i)):(e+=i||0,o.push(this.transY(e)));return o}.call(this),o.push(t._ymax=Math.max.apply(Math,t._y));return o},n.prototype.drawSeries=function(){var t,e,i,n,r,s,o,a;for(this.seriesPoints=[],e=this.options.behaveLikeLine?function(){s=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--)s.push(t);return s}.apply(this):function(){o=[];for(var t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;r<=0?t++:t--)o.push(t);return o}.apply(this),a=[],i=0,n=e.length;i<n;i++)t=e[i],this._drawFillFor(t),this._drawLineFor(t),a.push(this._drawPointFor(t));return a},n.prototype._drawFillFor=function(t){var e;if(null!==(e=this.paths[t]))return e=e+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},n.prototype.fillForSeries=function(t){var e;return e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line")),Raphael.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},n.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},n}(e.Line),e.Bar=function(i){function n(i){if(this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),!(this instanceof e.Bar))return new e.Bar(i);n.__super__.constructor.call(this,t.extend({},i,{parseTime:!1}))}return a(n,i),n.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},n.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},n.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},n.prototype.calcBars=function(){var t,e,i,n,r,s,o;for(s=this.data,o=[],t=n=0,r=s.length;n<r;t=++n)e=s[t],e._x=this.left+this.width*(t+.5)/this.data.length,o.push(e._y=function(){var t,n,r,s;for(r=e.y,s=[],t=0,n=r.length;t<n;t++)i=r[t],null!=i?s.push(this.transY(i)):s.push(null);return s}.call(this));return o},n.prototype.draw=function(){var t;return!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},n.prototype.drawXAxis=function(){var t,e,i,n,r,s,o,a,l,h,c,u,d;for(h=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),o=null,s=null,d=[],t=c=0,u=this.data.length;0<=u?c<u:c>u;t=0<=u?++c:--c)a=this.data[this.data.length-1-t],e=this.drawXAxisLabel(a._x,h,a.label),l=e.getBBox(),e.transform("r"+-this.options.xLabelAngle),i=e.getBBox(),e.transform("t0,"+i.height/2+"..."),0!==this.options.xLabelAngle&&(r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),e.transform("t"+r+",0...")),(null==o||o>=i.x+i.width||null!=s&&s>=i.x)&&i.x>=0&&i.x+i.width<this.el.width()?(0!==this.options.xLabelAngle&&(n=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),s=i.x-n),d.push(o=i.x-this.options.xLabelMargin)):d.push(e.remove());return d},n.prototype.drawSeries=function(){var t,e,i,n,r,s,o,a,l,h,c,u,d,f,p;return i=this.width/this.options.data.length,a=this.options.stacked?1:this.options.ykeys.length,t=(i*this.options.barSizeRatio-this.options.barGap*(a-1))/a,this.options.barSize&&(t=Math.min(t,this.options.barSize)),u=i-t*a-this.options.barGap*(a-1),o=u/2,p=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var a,u,m,g;for(m=this.data,g=[],n=a=0,u=m.length;a<u;n=++a)l=m[n],r=0,g.push(function(){var a,u,m,g;for(m=l._y,g=[],h=a=0,u=m.length;a<u;h=++a)f=m[h],null!==f?(p?(d=Math.min(f,p),e=Math.max(f,p)):(d=f,e=this.bottom),s=this.left+n*i+o,this.options.stacked||(s+=h*(t+this.options.barGap)),c=e-d,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+n*i,this.top,i,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(d-=r),this.drawBar(s,d,t,c,this.colorFor(l,h,"bar"),this.options.barOpacity,this.options.barRadius),g.push(r+=c)):g.push(null);return g}.call(this));return g}.call(this)},n.prototype.colorFor=function(t,e,i){var n,r;return"function"==typeof this.options.barColors?(n={x:t.x,y:t.y[e],label:t.label},r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,n,r,i)):this.options.barColors[e%this.options.barColors.length]},n.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},n.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},n.prototype.onHoverMove=function(t,e){var i,n;return i=this.hitTest(t),(n=this.hover).update.apply(n,this.hoverContentForRow(i))},n.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},n.prototype.hoverContentForRow=function(t){var e,i,n,r,s,o,a,l;for(n=this.data[t],e="<div class='morris-hover-row-label'>"+n.label+"</div>",l=n.y,i=o=0,a=l.length;o<a;i=++o)s=l[i],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(s)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),r=this.left+(t+.5)*this.width/this.data.length,[e,r]},n.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawBar=function(t,e,i,n,r,s,o){var a,l;return a=Math.max.apply(Math,o),l=0===a||a>n?this.raphael.rect(t,e,i,n):this.raphael.path(this.roundedRect(t,e,i,n,o)),l.attr("fill",r).attr("fill-opacity",s).attr("stroke","none")},n.prototype.roundedRect=function(t,e,i,n,r){return null==r&&(r=[0,0,0,0]),["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+i-r[1],e,"Q",t+i,e,t+i,e+r[1],"L",t+i,e+n-r[2],"Q",t+i,e+n,t+i-r[2],e+n,"L",t+r[3],e+n,"Q",t,e+n,t,e+n-r[3],"Z"]},n}(e.Grid),e.Donut=function(i){function n(i){this.resizeHandler=s(this.resizeHandler,this),this.select=s(this.select,this),this.click=s(this.click,this);var n=this;if(!(this instanceof e.Donut))return new e.Donut(i);if(this.options=t.extend({},this.defaults,i),"string"==typeof i.element?this.el=t(document.getElementById(i.element)):this.el=t(i.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==i.data&&0!==i.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",function(t){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)}),this.setData(i.data))}return a(n,i),n.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas,resize:!1},n.prototype.redraw=function(){var t,i,n,r,s,o,a,l,h,c,u,d,f,p,m,g,v,y,b,w,x,_,C;for(this.raphael.clear(),i=this.el.width()/2,n=this.el.height()/2,f=(Math.min(i,n)-10)/3,u=0,w=this.values,p=0,v=w.length;p<v;p++)d=w[p],u+=d;for(l=5/(2*f),t=1.9999*Math.PI-l*this.data.length,o=0,s=0,this.segments=[],x=this.values,r=m=0,y=x.length;m<y;r=++m)d=x[r],h=o+l+t*(d/u),c=new e.DonutSegment(i,n,2*f,f,o,h,this.data[r].color||this.options.colors[s%this.options.colors.length],this.options.backgroundColor,s,this.raphael),c.render(),this.segments.push(c),c.on("hover",this.select),c.on("click",this.click),o=h,s+=1;for(this.text1=this.drawEmptyDonutLabel(i,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,n+10,this.options.labelColor,14),a=Math.max.apply(Math,this.values),s=0,_=this.values,C=[],g=0,b=_.length;g<b;g++){if((d=_[g])===a){this.select(s);break}C.push(s+=1)}return C},n.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var t,i,n,r;for(n=this.data,r=[],t=0,i=n.length;t<i;t++)e=n[t],r.push(parseFloat(e.value));return r}.call(this),this.redraw()},n.prototype.click=function(t){return this.fire("click",t,this.data[t])},n.prototype.select=function(t){var e,i,n,r,s,o;for(o=this.segments,r=0,s=o.length;r<s;r++)i=o[r],i.deselect();return n=this.segments[t],n.select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},n.prototype.setLabels=function(t,e){var i,n,r,s,o,a,l,h;return i=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,s=1.8*i,r=i/2,n=i/3,this.text1.attr({text:t,transform:""}),o=this.text1.getBBox(),a=Math.min(s/o.width,r/o.height),this.text1.attr({transform:"S"+a+","+a+","+(o.x+o.width/2)+","+(o.y+o.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),h=Math.min(s/l.width,n/l.height),this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})},n.prototype.drawEmptyDonutLabel=function(t,e,i,n,r){var s;return s=this.raphael.text(t,e,"").attr("font-size",n).attr("fill",i),null!=r&&s.attr("font-weight",r),s},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n}(e.EventEmitter),e.DonutSegment=function(t){function e(t,e,i,n,r,o,a,l,h,c){this.cx=t,this.cy=e,this.inner=i,this.outer=n,this.color=a,this.backgroundColor=l,this.index=h,this.raphael=c,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(o),this.cos_p1=Math.cos(o),this.is_long=o-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return a(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var i,n,r,s,o,a,l,h,c,u;return c=this.calcArcPoints(t),i=c[0],r=c[1],n=c[2],s=c[3],u=this.calcArcPoints(e),o=u[0],l=u[1],a=u[2],h=u[3],"M"+i+","+r+"A"+t+","+t+",0,"+this.is_long+",0,"+n+","+s+"L"+a+","+h+"A"+e+","+e+",0,"+this.is_long+",1,"+o+","+l+"Z"},e.prototype.calcArc=function(t){var e,i,n,r,s;return s=this.calcArcPoints(t),e=s[0],n=s[1],i=s[2],r=s[3],"M"+e+","+n+"A"+t+","+t+",0,"+this.is_long+",0,"+i+","+r},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,i,n,r){return this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(n).click(r)},e.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},e.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},e}(e.EventEmitter)}.call(this),function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(i){"use strict";var n,r,s,o,a,l,h,c,u,d,f,p,m,g,v,y,b,w,x,_,C,k,S,T,A,D,E,N,I,M,O,P={},R=0;n=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new s("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new s("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new s("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},A='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',r=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=i.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),i.extend.apply(i,e))):t.prototype=arguments[0],t.prototype.cls=t,t},i.SPFormatClass=s=r({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n,r,s,o,a,l=this,h=t;return this.format.replace(this.fre,function(){var t;return r=arguments[1],s=arguments[3],n=l.precre.exec(r),n?(a=n[2],r=n[1]):a=!1,void 0===(o=h[r])?"":s&&e&&e[s]?(t=e[s],t.get?e[s].get(o)||o:e[s][o]||o):(u(o)&&(o=i.get("numberFormatter")?i.get("numberFormatter")(o):m(o,a,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),o)})}}),i.spformat=function(t,e){return new s(t,e)},o=function(t,e,i){return t<e?e:t>i?i:t},a=function(t,i){var n;return 2===i?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},l=function(t){var e;switch(t){case"undefined":t=void 0;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},h=function(t){var e,i=[];for(e=t.length;e--;)i[e]=l(t[e]);return i},c=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},u=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(t,e,n,r,s){var o,a;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),o=(o=i.inArray(".",t))<0?t.length:o,o<t.length&&(t[o]=s),a=o-n;a>0;a-=n)t.splice(a,0,r);return t.join("")},d=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},p=function(t){return i.isArray(t)?t:[t]},f=function(e){var i,n;if(t.createStyleSheet)try{return void(t.createStyleSheet().cssText=e)}catch(t){n=!0}i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),n?t.styleSheets[t.styleSheets.length-1].cssText=e:i["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e},i.fn.simpledraw=function(e,n,r,s){var o,a;if(r&&(o=this.data("_jqs_vcanvas")))return o;if(!1===i.fn.sparkline.canvas)return!1;if(void 0===i.fn.sparkline.canvas){var l=t.createElement("canvas");if(l.getContext&&l.getContext("2d"))i.fn.sparkline.canvas=function(t,e,i,n){return new I(t,e,i,n)};else{if(!t.namespaces||t.namespaces.v)return i.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),i.fn.sparkline.canvas=function(t,e,i,n){return new M(t,e,i)}}}return void 0===e&&(e=i(this).innerWidth()),void 0===n&&(n=i(this).innerHeight()),o=i.fn.sparkline.canvas(e,n,this,s),a=i(this).data("_jqs_mhandler"),a&&a.registerCanvas(o),o},i.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},i.RangeMapClass=g=r({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,i,n,r=this.rangelist;if(void 0!==(n=this.map[t]))return n;if(r)for(e=r.length;e--;)if(i=r[e],i[0]<=t&&i[1]>=t)return i[2]}}),i.range_map=function(t){return new g(t)},v=r({init:function(t,e){var n=i(t);this.$el=n,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=i(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(i.proxy(this.mouseenter,this)),e.mouseleave(i.proxy(this.mouseleave,this)),e.click(i.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(t){var e=i.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){i(t.body).unbind("mousemove.jqs"),i(t.body).bind("mousemove.jqs",i.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new y(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){i(t.body).unbind("mousemove.jqs");var e,n,r=this.splist,s=r.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),n=0;n<s;n++)e=r[n],e.clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,n,r,s,o=this.splist,a=o.length,l=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,u=this.currentPageY-h.top;if(this.over){for(n=0;n<a;n++)e=o[n],(r=e.setRegionHighlight(this.currentEl,c,u))&&(l=!0);if(l){if(s=i.Event("sparklineRegionChange"),s.sparklines=this.splist,this.$el.trigger(s),this.tooltip){for(t="",n=0;n<a;n++)e=o[n],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),y=r({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var n,r=e.get("tooltipClassname","jqstooltip"),s=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),i("#jqssizetip").remove(),i("#jqstooltip").remove(),this.sizetip=i("<div/>",{id:"jqssizetip",style:s,class:r}),this.tooltip=i("<div/>",{id:"jqstooltip",class:r}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,i(window).unbind("resize.jqs scroll.jqs"),i(window).bind("resize.jqs scroll.jqs",i.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=i(window).scrollTop(),this.scrollLeft=i(window).scrollLeft(),this.scrollRight=this.scrollLeft+i(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(void 0===t){if(void 0===this.mousex)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,i(window).unbind("resize.jqs scroll.jqs")}}),D=function(){f(A)},i(D),O=[],i.fn.sparkline=function(e,n){return this.each(function(){var r,s,o=new i.fn.sparkline.options(this,n),a=i(this);if(r=function(){var n,r,s,l,h,c,u;if("html"===e||void 0===e?(u=this.getAttribute(o.get("tagValuesAttribute")),void 0!==u&&null!==u||(u=a.html()),n=u.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=e,r="auto"===o.get("width")?n.length*o.get("defaultPixelsPerValue"):o.get("width"),"auto"===o.get("height")?o.get("composite")&&i.data(this,"_jqs_vcanvas")||(l=t.createElement("span"),l.innerHTML="a",a.html(l),s=i(l).innerHeight()||i(l).height(),i(l).remove(),l=null):s=o.get("height"),o.get("disableInteraction")?h=!1:(h=i.data(this,"_jqs_mhandler"),h?o.get("composite")||h.reset():(h=new v(this,o),i.data(this,"_jqs_mhandler",h))),o.get("composite")&&!i.data(this,"_jqs_vcanvas"))return void(i.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),i.data(this,"_jqs_errnotify",!0)));c=new(i.fn.sparkline[o.get("type")])(this,n,o,r,s),c.render(),h&&h.registerSparkline(c)},i(this).html()&&!o.get("disableHiddenCheck")&&i(this).is(":hidden")||!i(this).parents("body").length){if(!o.get("composite")&&i.data(this,"_jqs_pending"))for(s=O.length;s;s--)O[s-1][0]==this&&O.splice(s-1,1);O.push([this,r]),i.data(this,"_jqs_pending",!0)}else r.call(this)})},i.fn.sparkline.defaults=n(),i.sparkline_display_visible=function(){var t,e,n,r=[];for(e=0,n=O.length;e<n;e++)t=O[e][0],i(t).is(":visible")&&!i(t).parents().is(":hidden")?(O[e][1].call(t),i.data(O[e][0],"_jqs_pending",!1),r.push(e)):i(t).closest("html").length||i.data(t,"_jqs_pending")||(i.data(O[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)O.splice(r[e-1],1)},i.fn.sparkline.options=r({init:function(t,e){var n,r,s,o;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},r=i.fn.sparkline.defaults,s=r.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||s.tagOptionsPrefix),o=this.getTagSetting("type"),n=o===P?r[e.type||s.type]:r[o],this.mergedOptions=i.extend({},s,n,e)},getTagSetting:function(t){var e,i,n,r,s=this.tagOptionsPrefix;if(!1===s||void 0===s)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(void 0===(e=this.tag.getAttribute(s+t))||null===e)e=P;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),i=e.length;i--;)e[i]=l(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(n=e.substr(1,e.length-2).split(","),e={},i=n.length;i--;)r=n[i].split(":",2),e[r[0].replace(/(^\s*)|(\s*$)/g,"")]=l(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=l(e);this.tagValCache.key=e}return e},get:function(t,e){var i,n=this.getTagSetting(t);return n!==P?n:void 0===(i=this.mergedOptions[t])?e:i}}),i.fn.sparkline._base=r({disabled:!1,init:function(t,e,n,r,s){this.el=t,this.$el=i(t),this.values=e,this.options=n,this.width=r,this.height=s,this.currentRegion=void 0},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n,r=this.currentRegion,s=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:(n=this.getRegion(t,e,i),r!==n&&(void 0!==r&&s&&this.removeHighlight(),this.currentRegion=n,void 0!==n&&s&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,n,r,o,a,l,h,c,u,d,f,p,m,g=this.options,v="",y=[];if(void 0===this.currentRegion)return"";if(t=this.getCurrentRegionFields(),d=g.get("tooltipFormatter"))return d(this,g,t);if(g.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+g.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(i.isArray(e)||(e=[e]),i.isArray(t)||(t=[t]),l=this.options.get("tooltipFormatFieldlist"),h=this.options.get("tooltipFormatFieldlistKey"),l&&h){for(c=[],a=t.length;a--;)u=t[a][h],-1!=(m=i.inArray(u,l))&&(c[m]=t[a]);t=c}for(n=e.length,p=t.length,a=0;a<n;a++)for(f=e[a],"string"==typeof f&&(f=new s(f)),r=f.fclass||"jqsfield",m=0;m<p;m++)t[m].isNull&&g.get("tooltipSkipNull")||(i.extend(t[m],{prefix:g.get("tooltipPrefix"),suffix:g.get("tooltipSuffix")}),o=f.render(t[m],g.get("tooltipValueLookups"),g),y.push('<div class="'+r+'">'+o+"</div>"));return y.length?v+y.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n,r,s,a,l=i.get("highlightColor"),h=i.get("highlightLighten");if(l)return l;if(h&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(s=[],r=4===t.length?16:1,a=0;a<3;a++)s[a]=o(e.round(parseInt(n[a+1],16)*r*h),0,255);return"rgb("+s.join(",")+")"}return t}}),b={changeHighlight:function(t){var e,n=this.currentRegion,r=this.target,s=this.regionShapes[n];s&&(e=this.renderRegion(n,t),i.isArray(e)||i.isArray(s)?(r.replaceWithShapes(s,e),this.regionShapes[n]=i.map(e,function(t){return t.id})):(r.replaceWithShape(s,e),this.regionShapes[n]=e.id))},render:function(){var t,e,n,r,s=this.values,o=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){
for(n=s.length;n--;)if(t=this.renderRegion(n))if(i.isArray(t)){for(e=[],r=t.length;r--;)t[r].append(),e.push(t[r].id);a[n]=e}else t.append(),a[n]=t.id;else a[n]=null;o.render()}}},i.fn.sparkline.line=w=r(i.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){w._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,r=this.regionMap;for(n=r.length;n--;)if(null!==r[n]&&e>=r[n][0]&&e<=r[n][1])return r[n][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,n=this.target,r=this.vertices[i],s=this.options,o=s.get("spotRadius"),a=s.get("highlightSpotColor"),l=s.get("highlightLineColor");r&&(o&&a&&(t=n.drawCircle(r[0],r[1],o,void 0,a),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),l&&(e=n.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,n,r,s,o=this.values,a=o.length,l=this.xvalues,h=this.yvalues,c=this.yminmax;for(t=0;t<a;t++)i=o[t],n="string"==typeof o[t],r="object"==typeof o[t]&&o[t]instanceof Array,s=n&&o[t].split(":"),n&&2===s.length?(l.push(Number(s[0])),h.push(Number(s[1])),c.push(Number(s[1]))):r?(l.push(i[0]),h.push(i[1]),c.push(i[1])):(l.push(t),null===o[t]||"null"===o[t]?h.push(null):(h.push(Number(i)),c.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,c),this.miny=this.minyorg=e.min.apply(e,c),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=h,this.yminmax=c},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");void 0!==e&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,i,n,r,s){var o=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),l=i+e.round(n-n*((a-this.miny)/s)),h=e.round(n*(a-o)/s);this.target.drawRect(t,l,r,h,void 0,this.options.get("normalRangeColor")).append()},render:function(){var t,n,r,s,o,a,l,h,c,u,d,f,p,m,v,y,b,x,_,C,k,S,T,A,D,E=this.options,N=this.target,I=this.canvasWidth,M=this.canvasHeight,O=this.vertices,P=E.get("spotRadius"),R=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,A=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(s=o=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,n=this.maxy-this.miny==0?1:this.maxy-this.miny,r=this.yvalues.length-1,P&&(I<4*P||M<4*P)&&(P=0),P&&(k=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(k||E.get("minSpotColor")||E.get("spotColor")&&A[r]===this.miny)&&(M-=e.ceil(P)),(k||E.get("maxSpotColor")||E.get("spotColor")&&A[r]===this.maxy)&&(M-=e.ceil(P),s+=e.ceil(P)),(k||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(A[0]===this.miny||A[0]===this.maxy))&&(o+=e.ceil(P),I-=e.ceil(P)),(k||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(A[r]===this.miny||A[r]===this.maxy))&&(I-=e.ceil(P))),M--,void 0===E.get("normalRangeMin")||E.get("drawNormalOnTop")||this.drawNormalRange(o,s,M,I,n),l=[],h=[l],m=v=null,y=A.length,D=0;D<y;D++)c=T[D],d=T[D+1],u=A[D],f=o+e.round((c-this.minx)*(I/t)),p=D<y-1?o+e.round((d-this.minx)*(I/t)):I,v=f+(p-f)/2,R[D]=[m||0,v,D],m=v,null===u?D&&(null!==A[D-1]&&(l=[],h.push(l)),O.push(null)):(u<this.miny&&(u=this.miny),u>this.maxy&&(u=this.maxy),l.length||l.push([f,s+M]),a=[f,s+e.round(M-M*((u-this.miny)/n))],l.push(a),O.push(a));for(b=[],x=[],_=h.length,D=0;D<_;D++)l=h[D],l.length&&(E.get("fillColor")&&(l.push([l[l.length-1][0],s+M]),x.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),b.push(l));for(_=x.length,D=0;D<_;D++)N.drawShape(x[D],E.get("fillColor"),E.get("fillColor")).append();for(void 0!==E.get("normalRangeMin")&&E.get("drawNormalOnTop")&&this.drawNormalRange(o,s,M,I,n),_=b.length,D=0;D<_;D++)N.drawShape(b[D],E.get("lineColor"),void 0,E.get("lineWidth")).append();if(P&&E.get("valueSpots"))for(C=E.get("valueSpots"),void 0===C.get&&(C=new g(C)),D=0;D<y;D++)(S=C.get(A[D]))&&N.drawCircle(o+e.round((T[D]-this.minx)*(I/t)),s+e.round(M-M*((A[D]-this.miny)/n)),P,void 0,S).append();P&&E.get("spotColor")&&null!==A[r]&&N.drawCircle(o+e.round((T[T.length-1]-this.minx)*(I/t)),s+e.round(M-M*((A[r]-this.miny)/n)),P,void 0,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&E.get("minSpotColor")&&(c=T[i.inArray(this.minyorg,A)],N.drawCircle(o+e.round((c-this.minx)*(I/t)),s+e.round(M-M*((this.minyorg-this.miny)/n)),P,void 0,E.get("minSpotColor")).append()),P&&E.get("maxSpotColor")&&(c=T[i.inArray(this.maxyorg,A)],N.drawCircle(o+e.round((c-this.minx)*(I/t)),s+e.round(M-M*((this.maxyorg-this.miny)/n)),P,void 0,E.get("maxSpotColor")).append())),this.lastShapeId=N.getLastShapeId(),this.canvasTop=s,N.render()}}}),i.fn.sparkline.bar=x=r(i.fn.sparkline._base,b,{type:"bar",init:function(t,n,r,s,a){var u,d,f,p,m,v,y,b,w,_,C,k,S,T,A,D,E,N,I,M,O,P,R=parseInt(r.get("barWidth"),10),j=parseInt(r.get("barSpacing"),10),L=r.get("chartRangeMin"),H=r.get("chartRangeMax"),q=r.get("chartRangeClip"),W=1/0,B=-1/0;for(x._super.init.call(this,t,n,r,s,a),v=0,y=n.length;v<y;v++)M=n[v],((u="string"==typeof M&&M.indexOf(":")>-1)||i.isArray(M))&&(A=!0,u&&(M=n[v]=h(M.split(":"))),M=c(M,null),d=e.min.apply(e,M),f=e.max.apply(e,M),d<W&&(W=d),f>B&&(B=f));this.stacked=A,this.regionShapes={},this.barWidth=R,this.barSpacing=j,this.totalBarWidth=R+j,this.width=s=n.length*R+(n.length-1)*j,this.initTarget(),q&&(S=void 0===L?-1/0:L,T=void 0===H?1/0:H),m=[],p=A?[]:m;var F=[],z=[];for(v=0,y=n.length;v<y;v++)if(A)for(D=n[v],n[v]=I=[],F[v]=0,p[v]=z[v]=0,E=0,N=D.length;E<N;E++)null!==(M=I[E]=q?o(D[E],S,T):D[E])&&(M>0&&(F[v]+=M),W<0&&B>0?M<0?z[v]+=e.abs(M):p[v]+=M:p[v]+=e.abs(M-(M<0?B:W)),m.push(M));else M=q?o(n[v],S,T):n[v],null!==(M=n[v]=l(M))&&m.push(M);this.max=k=e.max.apply(e,m),this.min=C=e.min.apply(e,m),this.stackMax=B=A?e.max.apply(e,F):k,this.stackMin=W=A?e.min.apply(e,m):C,void 0!==r.get("chartRangeMin")&&(r.get("chartRangeClip")||r.get("chartRangeMin")<C)&&(C=r.get("chartRangeMin")),void 0!==r.get("chartRangeMax")&&(r.get("chartRangeClip")||r.get("chartRangeMax")>k)&&(k=r.get("chartRangeMax")),this.zeroAxis=w=r.get("zeroAxis",!0),_=C<=0&&k>=0&&w?0:0==w?C:C>0?C:k,this.xaxisOffset=_,b=A?e.max.apply(e,p)+e.max.apply(e,z):k-C,this.canvasHeightEf=w&&C<0?this.canvasHeight-2:this.canvasHeight-1,C<_?(P=A&&k>=0?B:k,(O=(P-_)/b*this.canvasHeight)!==e.ceil(O)&&(this.canvasHeightEf-=2,O=e.ceil(O))):O=this.canvasHeight,this.yoffset=O,i.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.range=b},getRegion:function(t,i,n){var r=e.floor(i/this.totalBarWidth);return r<0||r>=this.values.length?void 0:r},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=p(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(t,e,n){var r,s,o=this.colorMapByIndex,a=this.colorMapByValue,l=this.options;return r=this.stacked?l.get("stackedBarColor"):e<0?l.get("negBarColor"):l.get("barColor"),0===e&&void 0!==l.get("zeroColor")&&(r=l.get("zeroColor")),a&&(s=a.get(e))?r=s:o&&o.length>n&&(r=o[n]),i.isArray(r)?r[t%r.length]:r},renderRegion:function(t,n){var r,s,o,a,l,h,c,u,f,p,m=this.values[t],g=this.options,v=this.xaxisOffset,y=[],b=this.range,w=this.stacked,x=this.target,_=t*this.totalBarWidth,C=this.canvasHeightEf,k=this.yoffset;if(m=i.isArray(m)?m:[m],c=m.length,u=m[0],a=d(null,m),p=d(v,m,!0),a)return g.get("nullColor")?(o=n?g.get("nullColor"):this.calcHighlightColor(g.get("nullColor"),g),r=k>0?k-1:k,x.drawRect(_,r,this.barWidth-1,0,o,o)):void 0;for(l=k,h=0;h<c;h++){if(u=m[h],w&&u===v){if(!p||f)continue;f=!0}s=b>0?e.floor(C*(e.abs(u-v)/b))+1:1,u<v||u===v&&0===k?(r=l,l+=s):(r=k-s,k-=s),o=this.calcColor(h,u,t),n&&(o=this.calcHighlightColor(o,g)),y.push(x.drawRect(_,r,this.barWidth-1,s-1,o,o))}return 1===y.length?y[0]:y}}),i.fn.sparkline.tristate=_=r(i.fn.sparkline._base,b,{type:"tristate",init:function(t,e,n,r,s){var o=parseInt(n.get("barWidth"),10),a=parseInt(n.get("barSpacing"),10);_._super.init.call(this,t,e,n,r,s),this.regionShapes={},this.barWidth=o,this.barSpacing=a,this.totalBarWidth=o+a,this.values=i.map(e,Number),this.width=r=e.length*o+(e.length-1)*a,i.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,n){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n=this.values,r=this.options,s=this.colorMapByIndex,o=this.colorMapByValue;return o&&(i=o.get(t))?i:s&&s.length>e?s[e]:n[e]<0?r.get("negBarColor"):n[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,i){var n,r,s,o,a,l,h=this.values,c=this.options,u=this.target;if(n=u.pixelHeight,s=e.round(n/2),o=t*this.totalBarWidth,h[t]<0?(a=s,r=s-1):h[t]>0?(a=0,r=s-1):(a=s-1,r=2),null!==(l=this.calcColor(h[t],t)))return i&&(l=this.calcHighlightColor(l,c)),u.drawRect(o,a,this.barWidth-1,r-1,l,l)}}),i.fn.sparkline.discrete=C=r(i.fn.sparkline._base,b,{type:"discrete",init:function(t,n,r,s,o){C._super.init.call(this,t,n,r,s,o),this.regionShapes={},this.values=n=i.map(n,Number),this.min=e.min.apply(e,n),this.max=e.max.apply(e,n),this.range=this.max-this.min,this.width=s="auto"===r.get("width")?2*n.length:this.width,this.interval=e.floor(s/n.length),this.itemWidth=s/n.length,void 0!==r.get("chartRangeMin")&&(r.get("chartRangeClip")||r.get("chartRangeMin")<this.min)&&(this.min=r.get("chartRangeMin")),void 0!==r.get("chartRangeMax")&&(r.get("chartRangeClip")||r.get("chartRangeMax")>this.max)&&(this.max=r.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===r.get("lineHeight")?e.round(.3*this.canvasHeight):r.get("lineHeight"))},getRegion:function(t,i,n){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],offset:t}},renderRegion:function(t,i){var n,r,s,a,l=this.values,h=this.options,c=this.min,u=this.max,d=this.range,f=this.interval,p=this.target,m=this.canvasHeight,g=this.lineHeight,v=m-g;return r=o(l[t],c,u),a=t*f,n=e.round(v-v*((r-c)/d)),s=h.get("thresholdColor")&&r<h.get("thresholdValue")?h.get("thresholdColor"):h.get("lineColor"),i&&(s=this.calcHighlightColor(s,h)),p.drawLine(a,n,a,n+g,s)}}),i.fn.sparkline.bullet=k=r(i.fn.sparkline._base,{type:"bullet",init:function(t,i,n,r,s){var o,a,l;k._super.init.call(this,t,i,n,r,s),this.values=i=h(i),l=i.slice(),l[0]=null===l[0]?l[2]:l[0],l[1]=null===i[1]?l[2]:l[1],o=e.min.apply(e,i),a=e.max.apply(e,i),o=void 0===n.get("base")?o<0?o:0:n.get("base"),this.min=o,this.max=a,this.range=a-o,this.shapes={},this.valueShapes={},this.regiondata={},this.width=r="auto"===n.get("width")?"4.0em":r,this.target=this.$el.simpledraw(r,s,n.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,i){var n=this.values[t],r=e.round(this.canvasWidth*((n-this.min)/this.range)),s=this.options.get("rangeColors")[t-2];return i&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,s,s)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),n-1,e.round(.4*this.canvasHeight)-1,r,r)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(.1*this.canvasHeight),s=this.canvasHeight-2*r,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,s-1,o,o)},render:function(){var t,e,i=this.values.length,n=this.target;if(k._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),i.fn.sparkline.pie=S=r(i.fn.sparkline._base,{type:"pie",init:function(t,n,r,s,o){var a,l=0;if(S._super.init.call(this,t,n,r,s,o),this.shapes={},this.valueShapes={},this.values=n=i.map(n,Number),"auto"===r.get("width")&&(this.width=this.height),n.length>0)for(a=n.length;a--;)l+=n[a];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,i){var n,r,s,o,a,l=this.target,h=this.options,c=this.radius,u=h.get("borderWidth"),d=h.get("offset"),f=2*e.PI,p=this.values,m=this.total,g=d?2*e.PI*(d/360):0;for(o=p.length,s=0;s<o;s++){if(n=g,r=g,m>0&&(r=g+f*(p[s]/m)),t===s)return a=h.get("sliceColors")[s%h.get("sliceColors").length],i&&(a=this.calcHighlightColor(a,h)),l.drawPieSlice(c,c,c-u,n,r,void 0,a);g=r}},render:function(){var t,i,n=this.target,r=this.values,s=this.options,o=this.radius,a=s.get("borderWidth"),l=s.get("donutWidth");if(S._super.render.call(this)){for(a&&n.drawCircle(o,o,e.floor(o-a/2),s.get("borderColor"),void 0,a).append(),i=r.length;i--;)r[i]&&(t=this.renderSlice(i).append(),this.valueShapes[i]=t.id,this.shapes[t.id]=i);l&&n.drawCircle(o,o,o-l,s.get("donutColor"),s.get("donutColor"),0).append(),n.render()}}}),i.fn.sparkline.box=T=r(i.fn.sparkline._base,{type:"box",init:function(t,e,n,r,s){T._super.init.call(this,t,e,n,r,s),this.values=i.map(e,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&t.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&t.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&t.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,i,n,r,s,o,l,h,c,u,d,f=this.target,p=this.values,m=p.length,g=this.options,v=this.canvasWidth,y=this.canvasHeight,b=void 0===g.get("chartRangeMin")?e.min.apply(e,p):g.get("chartRangeMin"),w=void 0===g.get("chartRangeMax")?e.max.apply(e,p):g.get("chartRangeMax"),x=0;if(T._super.render.call(this)){if(g.get("raw"))g.get("showOutliers")&&p.length>5?(i=p[0],t=p[1],r=p[2],s=p[3],o=p[4],l=p[5],h=p[6]):(t=p[0],r=p[1],s=p[2],o=p[3],l=p[4]);else if(p.sort(function(t,e){return t-e}),r=a(p,1),s=a(p,2),o=a(p,3),n=o-r,g.get("showOutliers")){for(t=l=void 0,c=0;c<m;c++)void 0===t&&p[c]>r-n*g.get("outlierIQR")&&(t=p[c]),p[c]<o+n*g.get("outlierIQR")&&(l=p[c]);i=p[0],h=p[m-1]}else t=p[0],l=p[m-1];this.quartiles=[r,s,o],this.lwhisker=t,this.rwhisker=l,this.loutlier=i,this.routlier=h,d=v/(w-b+1),g.get("showOutliers")&&(x=e.ceil(g.get("spotRadius")),v-=2*e.ceil(g.get("spotRadius")),d=v/(w-b+1),i<t&&f.drawCircle((i-b)*d+x,y/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append(),h>l&&f.drawCircle((h-b)*d+x,y/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append()),f.drawRect(e.round((r-b)*d+x),e.round(.1*y),e.round((o-r)*d),e.round(.8*y),g.get("boxLineColor"),g.get("boxFillColor")).append(),f.drawLine(e.round((t-b)*d+x),e.round(y/2),e.round((r-b)*d+x),e.round(y/2),g.get("lineColor")).append(),f.drawLine(e.round((t-b)*d+x),e.round(y/4),e.round((t-b)*d+x),e.round(y-y/4),g.get("whiskerColor")).append(),f.drawLine(e.round((l-b)*d+x),e.round(y/2),e.round((o-b)*d+x),e.round(y/2),g.get("lineColor")).append(),f.drawLine(e.round((l-b)*d+x),e.round(y/4),e.round((l-b)*d+x),e.round(y-y/4),g.get("whiskerColor")).append(),f.drawLine(e.round((s-b)*d+x),e.round(.1*y),e.round((s-b)*d+x),e.round(.9*y),g.get("medianColor")).append(),g.get("target")&&(u=e.ceil(g.get("spotRadius")),f.drawLine(e.round((g.get("target")-b)*d+x),e.round(y/2-u),e.round((g.get("target")-b)*d+x),e.round(y/2+u),g.get("targetColor")).append(),f.drawLine(e.round((g.get("target")-b)*d+x-u),e.round(y/2),e.round((g.get("target")-b)*d+x+u),e.round(y/2),g.get("targetColor")).append()),f.render()}}}),E=r({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),N=r({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,n){t&&(this.width=t,this.height=e,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),i.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,s){return this.drawShape([[t,e],[i,n]],r,s)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,s){return this._genShape("Circle",[t,e,i,n,r,s])},drawPieSlice:function(t,e,i,n,r,s,o){return this._genShape("PieSlice",[t,e,i,n,r,s,o])},drawRect:function(t,e,i,n,r,s){return this._genShape("Rect",[t,e,i,n,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){i(e).html(t)},_calculatePixelDims:function(t,e,n){var r;r=this._pxregex.exec(e),this.pixelHeight=r?r[1]:i(n).height(),r=this._pxregex.exec(t),this.pixelWidth=r?r[1]:i(n).width()},_genShape:function(t,e){var i=R++;return e.unshift(i),new E(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),I=r(N,{init:function(e,n,r,s){I._super.init.call(this,e,n,r),this.canvas=t.createElement("canvas"),r[0]&&(r=r[0]),i.data(r,"_jqs_vcanvas",this),i(this.canvas).css({display:"inline-block",width:e,height:n,verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=s,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,i(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return void 0!==t&&(n.strokeStyle=t),n.lineWidth=void 0===i?1:i,void 0!==e&&(n.fillStyle=e),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(t,e,i,n,r){var s,o,a=this._getContext(i,n,r);for(a.beginPath(),a.moveTo(e[0][0]+.5,e[0][1]+.5),s=1,o=e.length;s<o;s++)a.lineTo(e[s][0]+.5,e[s][1]+.5);void 0!==i&&a.stroke(),void 0!==n&&a.fill(),void 0!==this.targetX&&void 0!==this.targetY&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,i,n,r,s,o,a){var l=this._getContext(s,o,a);l.beginPath(),l.arc(i,n,r,0,2*e.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),void 0!==s&&l.stroke(),void 0!==o&&l.fill()},_drawPieSlice:function(t,e,i,n,r,s,o,a){var l=this._getContext(o,a);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,r,s,!1),l.lineTo(e,i),l.closePath(),void 0!==o&&l.stroke(),a&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],s,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,s=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=s.length;n--;)i=s[n],o[i]&&(s.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)s.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,r=this.shapes,s=n.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;i<s;i++)t=n[i],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),M=r(N,{init:function(e,n,r){var s;M._super.init.call(this,e,n,r),r[0]&&(r=r[0]),i.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),i(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,s='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",s),this.group=i(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,r){var s,o,a,l,h,c,u=[];for(c=0,h=e.length;c<h;c++)u[c]=e[c][0]+","+e[c][1];return s=u.splice(0,1),r=void 0===r?1:r,o=void 0===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',a=void 0===n?' filled="false"':' fillColor="'+n+'" filled="true" ',l=u[0]===u[u.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+o+a+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+u.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,i,n,r,s,o){var a,l;return e-=n,i-=n,a=void 0===r?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+r+'" ',l=void 0===s?' filled="false"':' fillColor="'+s+'" filled="true" ','<v:oval  id="jqsshape'+t+'" '+a+l+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(t,i,n,r,s,o,a,l){var h,c,u,d,f,p,m;if(s===o)return"";if(o-s==2*e.PI&&(s=0,o=2*e.PI),c=i+e.round(e.cos(s)*r),u=n+e.round(e.sin(s)*r),d=i+e.round(e.cos(o)*r),f=n+e.round(e.sin(o)*r),c===d&&u===f){if(o-s<e.PI)return"";c=d=i+r,u=f=n}return c===d&&u===f&&o-s<e.PI?"":(h=[i-r,n-r,i+r,n+r,c,u,d,f],p=void 0===a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ',m=void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+p+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+","+n+" wa "+h.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],s,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n=i("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);n[0].outerHTML=r},replaceWithShapes:function(t,e){var n,r=i("#jqsshape"+t[0]),s="",o=e.length;for(n=0;n<o;n++)s+=this["_draw"+e[n].type].apply(this,e[n].args);for(r[0].outerHTML=s,n=1;n<t.length;n++)i("#jqsshape"+t[n]).remove()},insertAfterShape:function(t,e){var n=i("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);n[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=i("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var e={},i=Math.max,n=Math.min;e.c={},e.c.d=t(document),e.c.t=function(t){return t.originalEvent.touches.length-1},e.o=function(){var i=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var e=function(t,e){var n;for(n in e)i.o[n]=e[n];i._carve().init(),i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var n=t(this);i.i[e]=n,i.v[e]=i.o.parse(n.val()),n.bind("change blur",function(){var t={};t[e]=n.val(),i.val(i._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){i.val(i._validate(i.o.parse(i.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;i.g=i.c,i.clear(),i.dH&&(t=i.dH()),!1!==t&&i.draw()},this._touch=function(t){var n=function(t){var e=i.xy2val(t.originalEvent.touches[i.t].pageX,t.originalEvent.touches[i.t].pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return this.t=e.c.t(t),n(t),e.c.d.bind("touchmove.k",n).bind("touchend.k",function(){e.c.d.unbind("touchmove.k touchend.k"),i.val(i.cv)}),this},this._mouse=function(t){var n=function(t){var e=i.xy2val(t.pageX,t.pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return n(t),e.c.d.bind("mousemove.k",n).bind("keyup.k",function(t){if(27===t.keyCode){if(e.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&!1===i.eH())return;i.cancel()}}).bind("mouseup.k",function(t){e.c.d.unbind("mousemove.k mouseup.k keyup.k"),i.val(i.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){
return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),i._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),i._xy()._touch(t)}),this.listen()),this.relative&&t(window).resize(function(){i._carve().init(),i._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,e){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var i;return t=t.substring(1,7),i=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)],"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"},this.copy=function(t,e){for(var i in t)e[i]=t[i]}},e.Dial=function(){e.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?i(n(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var r,s;return r=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(r=this.angleArc-r-this.PI2),this.angleArc!=this.PI2&&r<0&&r>-.5?r=0:r<0&&(r+=this.PI2),s=r*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(s=i(n(s,this.o.max),this.o.min)),s},this.listen=function(){var e,r,s,o,a=this,l=function(t){t.preventDefault();var s=t.originalEvent,o=s.detail||s.wheelDeltaX,l=s.detail||s.wheelDeltaY,h=a._validate(a.o.parse(a.$.val()))+(o>0||l>0?a.o.step:o<0||l<0?-a.o.step:0);h=i(n(h,a.o.max),a.o.min),a.val(h,!1),a.rH&&(clearTimeout(e),e=setTimeout(function(){a.rH(h),e=null},100),r||(r=setTimeout(function(){e&&a.rH(h),r=null},200)))},h=1,c={37:-a.o.step,38:a.o.step,39:a.o.step,40:-a.o.step};this.$.bind("keydown",function(e){var r=e.keyCode;if(r>=96&&r<=105&&(r=e.keyCode=r-48),s=parseInt(String.fromCharCode(r)),isNaN(s)&&(13!==r&&8!==r&&9!==r&&189!==r&&(190!==r||a.$.val().match(/\./))&&e.preventDefault(),t.inArray(r,[37,38,39,40])>-1)){e.preventDefault();var l=a.o.parse(a.$.val())+c[r]*h;a.o.stopper&&(l=i(n(l,a.o.max),a.o.min)),a.change(a._validate(l)),a._draw(),o=window.setTimeout(function(){h*=2},30)}}).bind("keyup",function(t){isNaN(s)?o&&(window.clearTimeout(o),o=null,h=1,a.val(a.$.val())):a.$.val()>a.o.max&&a.$.val(a.o.max)||a.$.val()<a.o.min&&a.$.val(a.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",l),this.$.bind("mousewheel DOMMouseScroll",l)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,i;return t=this.angle(t),this.o.flip?(e=this.endAngle+1e-5,i=e-t-1e-5):(e=this.startAngle-1e-5,i=e+t+1e-5),this.o.cursor&&(e=i-this.cursorExt)&&(i+=this.cursorExt),{s:e,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,i=this.arc(this.cv),n=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),n=this.cv==this.v),e.beginPath(),e.strokeStyle=n?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),e.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(i){return this.each(function(){var n=new e.Dial;n.o=i,n.$=t(this),n.run()}).parent()}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Tn.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function n(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function r(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var i in e)l(e,i)&&(t[i]=e[i]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,i,n){return Ce(t,e,i,n,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function f(t){if(null==t._isValid){var e=d(t),i=An.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function p(t){var e=c(NaN);return null!=t?h(d(e),t):d(e).userInvalidated=!0,e}function m(t,e){var i,n,s;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=d(e)),r(e._locale)||(t._locale=e._locale),Dn.length>0)for(i=0;i<Dn.length;i++)n=Dn[i],s=e[n],r(s)||(t[n]=s);return t}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===En&&(En=!0,t.updateOffset(this),En=!1)}function v(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function b(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=y(e)),i}function w(t,e,i){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&b(t[n])!==b(e[n]))&&o++;return o+s}function x(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,i){var n=!0;return h(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){r+="\n["+o+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}x(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function C(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),Nn[e]||(x(i),Nn[e]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){var e,i;for(i in t)e=t[i],k(e)?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(t,e){var n,r=h({},t);for(n in e)l(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},h(r[n],t[n]),h(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)l(t,n)&&!l(e,n)&&i(t[n])&&(r[n]=h({},r[n]));return r}function A(t){null!=t&&this.set(t)}function D(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return k(n)?n.call(e,i):n}function E(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function N(){return this._invalidDate}function I(t){return this._ordinal.replace("%d",t)}function M(t,e,i,n){var r=this._relativeTime[i];return k(r)?r(t,e,i,n):r.replace(/%d/i,t)}function O(t,e){var i=this._relativeTime[t>0?"future":"past"];return k(i)?i(e):i.replace(/%s/i,e)}function P(t,e){var i=t.toLowerCase();jn[i]=jn[i+"s"]=jn[e]=t}function R(t){return"string"==typeof t?jn[t]||jn[t.toLowerCase()]:void 0}function j(t){var e,i,n={};for(i in t)l(t,i)&&(e=R(i))&&(n[e]=t[i]);return n}function L(t,e){Ln[t]=e}function H(t){var e=[];for(var i in t)e.push({unit:i,priority:Ln[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function q(t,e,i){var n=""+Math.abs(t),r=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}function W(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(Bn[t]=r),e&&(Bn[e[0]]=function(){return q(r.apply(this,arguments),e[1],e[2])}),i&&(Bn[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function F(t){var e,i,n=t.match(Hn);for(e=0,i=n.length;e<i;e++)Bn[n[e]]?n[e]=Bn[n[e]]:n[e]=B(n[e]);return function(e){var r,s="";for(r=0;r<i;r++)s+=k(n[r])?n[r].call(e,t):n[r];return s}}function z(t,e){return t.isValid()?(e=Y(e,t.localeData()),Wn[e]=Wn[e]||F(e),Wn[e](t)):t.localeData().invalidDate()}function Y(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(qn.lastIndex=0;n>=0&&qn.test(t);)t=t.replace(qn,i),qn.lastIndex=0,n-=1;return t}function U(t,e,i){sr[t]=k(e)?e:function(t,n){return t&&i?i:e}}function $(t,e){return l(sr,t)?sr[t](e._strict,e._locale):new RegExp(V(t))}function V(t){return G(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}function G(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),s(e)&&(n=function(t,i){i[e]=b(t)}),i=0;i<t.length;i++)or[t[i]]=n}function K(t,e){X(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function Q(t,e,i){null!=e&&l(or,t)&&or[t](e,i._a,i,t)}function J(t){return Z(t)?366:365}function Z(t){return t%4==0&&t%100!=0||t%400==0}function tt(){return Z(this.year())}function et(e,i){return function(n){return null!=n?(nt(this,e,n),t.updateOffset(this,i),this):it(this,e)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function nt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&Z(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),at(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function rt(t){return t=R(t),k(this[t])?this[t]():this}function st(t,e){if("object"==typeof t){t=j(t);for(var i=H(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=R(t),k(this[t]))return this[t](e);return this}function ot(t,e){return(t%e+e)%e}function at(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=ot(e,12);return t+=(e-i)/12,1===i?Z(t)?29:28:31-i%7%2}function lt(t,i){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||yr).test(i)?"format":"standalone"][t.month()]:e(this._months)?this._months:this._months.standalone}function ht(t,i){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[yr.test(i)?"format":"standalone"][t.month()]:e(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ct(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=c([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?(r=gr.call(this._shortMonthsParse,o),-1!==r?r:null):(r=gr.call(this._longMonthsParse,o),-1!==r?r:null):"MMM"===e?-1!==(r=gr.call(this._shortMonthsParse,o))?r:(r=gr.call(this._longMonthsParse,o),-1!==r?r:null):-1!==(r=gr.call(this._longMonthsParse,o))?r:(r=gr.call(this._shortMonthsParse,o),-1!==r?r:null)}function ut(t,e,i){var n,r,s;if(this._monthsParseExact)return ct.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=c([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function dt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),!s(e))return t;return i=Math.min(t.date(),at(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ft(e){return null!=e?(dt(this,e),t.updateOffset(this,!0),this):it(this,"Month")}function pt(){return at(this.year(),this.month())}function mt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||vt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=xr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||vt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=_r),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function vt(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;e<12;e++)i=c([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)n[e]=G(n[e]),r[e]=G(r[e]);for(e=0;e<24;e++)s[e]=G(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function yt(t,e,i,n,r,s,o){var a=new Date(t,e,i,n,r,s,o);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,i){var n=7+e-i;return-(7+bt(t,0,n).getUTCDay()-e)%7+n-1}function xt(t,e,i,n,r){var s,o,a=(7+i-n)%7,l=wt(t,n,r),h=1+7*(e-1)+a+l;return h<=0?(s=t-1,o=J(s)+h):h>J(t)?(s=t+1,o=h-J(t)):(s=t,o=h),{year:s,dayOfYear:o}}function _t(t,e,i){var n,r,s=wt(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?(r=t.year()-1,n=o+Ct(r,e,i)):o>Ct(t.year(),e,i)?(n=o-Ct(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Ct(t,e,i){var n=wt(t,e,i),r=wt(t+1,e,i);return(J(t)-n+r)/7}function kt(t){return _t(t,this._week.dow,this._week.doy).week}function St(){return this._week.dow}function Tt(){return this._week.doy}function At(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Dt(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Et(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Nt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function It(t,i){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][t.day()]:e(this._weekdays)?this._weekdays:this._weekdays.standalone}function Mt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ot(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Pt(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=c([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?(r=gr.call(this._weekdaysParse,o),-1!==r?r:null):"ddd"===e?(r=gr.call(this._shortWeekdaysParse,o),-1!==r?r:null):(r=gr.call(this._minWeekdaysParse,o),-1!==r?r:null):"dddd"===e?-1!==(r=gr.call(this._weekdaysParse,o))?r:-1!==(r=gr.call(this._shortWeekdaysParse,o))?r:(r=gr.call(this._minWeekdaysParse,o),-1!==r?r:null):"ddd"===e?-1!==(r=gr.call(this._shortWeekdaysParse,o))?r:-1!==(r=gr.call(this._weekdaysParse,o))?r:(r=gr.call(this._minWeekdaysParse,o),-1!==r?r:null):-1!==(r=gr.call(this._minWeekdaysParse,o))?r:-1!==(r=gr.call(this._weekdaysParse,o))?r:(r=gr.call(this._shortWeekdaysParse,o),-1!==r?r:null)}function Rt(t,e,i){var n,r,s;if(this._weekdaysParseExact)return Pt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=c([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function jt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Et(t,this.localeData()),this.add(t-e,"d")):e}function Lt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ht(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Nt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function qt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ft.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ar),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ft.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Dr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ft.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Er),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ft(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=c([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),l.push(s),h.push(n),h.push(r),h.push(s);for(o.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=G(a[e]),l[e]=G(l[e]),h[e]=G(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function zt(){return this.hours()%12||12}function Yt(){return this.hours()||24}function Ut(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function $t(t,e){return e._meridiemParse}function Vt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Gt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Xt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,i,n,r,s=0;s<t.length;){for(r=Xt(t[s]).split("-"),e=r.length,i=Xt(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=Qt(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&w(r,i,!0)>=e-1)break;e--}s++}return null}function Qt(t){var e=null;if(!Pr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Nr._abbr;require("./locale/"+t),Jt(e)}catch(t){}return Pr[t]}function Jt(t,e){var i;return t&&(i=r(e)?ee(t):Zt(t,e))&&(Nr=i),Nr._abbr}function Zt(t,e){if(null!==e){var i=Or;if(e.abbr=t,null!=Pr[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Pr[t]._config;else if(null!=e.parentLocale){if(null==Pr[e.parentLocale])return Rr[e.parentLocale]||(Rr[e.parentLocale]=[]),Rr[e.parentLocale].push({name:t,config:e}),null;i=Pr[e.parentLocale]._config}return Pr[t]=new A(T(i,e)),Rr[t]&&Rr[t].forEach(function(t){Zt(t.name,t.config)}),Jt(t),Pr[t]}return delete Pr[t],null}function te(t,e){if(null!=e){var i,n,r=Or;n=Qt(t),null!=n&&(r=n._config),e=T(r,e),i=new A(e),i.parentLocale=Pr[t],Pr[t]=i,Jt(t)}else null!=Pr[t]&&(null!=Pr[t].parentLocale?Pr[t]=Pr[t].parentLocale:null!=Pr[t]&&delete Pr[t]);return Pr[t]}function ee(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Nr;if(!e(t)){if(i=Qt(t))return i;t=[t]}return Kt(t)}function ie(){return In(Pr)}function ne(t){var e,i=t._a;return i&&-2===d(t).overflow&&(e=i[lr]<0||i[lr]>11?lr:i[hr]<1||i[hr]>at(i[ar],i[lr])?hr:i[cr]<0||i[cr]>24||24===i[cr]&&(0!==i[ur]||0!==i[dr]||0!==i[fr])?cr:i[ur]<0||i[ur]>59?ur:i[dr]<0||i[dr]>59?dr:i[fr]<0||i[fr]>999?fr:-1,d(t)._overflowDayOfYear&&(e<ar||e>hr)&&(e=hr),d(t)._overflowWeeks&&-1===e&&(e=pr),d(t)._overflowWeekday&&-1===e&&(e=mr),d(t).overflow=e),t}function re(t,e,i){return null!=t?t:null!=e?e:i}function se(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function oe(t){var e,i,n,r,s,o=[];if(!t._d){for(n=se(t),t._w&&null==t._a[hr]&&null==t._a[lr]&&ae(t),null!=t._dayOfYear&&(s=re(t._a[ar],n[ar]),(t._dayOfYear>J(s)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),i=bt(s,0,t._dayOfYear),t._a[lr]=i.getUTCMonth(),t._a[hr]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[cr]&&0===t._a[ur]&&0===t._a[dr]&&0===t._a[fr]&&(t._nextDay=!0,t._a[cr]=0),t._d=(t._useUTC?bt:yt).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[cr]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(d(t).weekdayMismatch=!0)}}function ae(t){var e,i,n,r,s,o,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)s=1,o=4,i=re(e.GG,t._a[ar],_t(ke(),1,4).year),n=re(e.W,1),((r=re(e.E,1))<1||r>7)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var h=_t(ke(),s,o);i=re(e.gg,t._a[ar],h.year),n=re(e.w,h.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s}n<1||n>Ct(i,s,o)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(a=xt(i,n,r,s,o),t._a[ar]=a.year,t._dayOfYear=a.dayOfYear)}function le(t){var e,i,n,r,s,o,a=t._i,l=jr.exec(a)||Lr.exec(a);if(l){for(d(t).iso=!0,e=0,i=qr.length;e<i;e++)if(qr[e][1].exec(l[1])){r=qr[e][0],n=!1!==qr[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=Wr.length;e<i;e++)if(Wr[e][1].exec(l[3])){s=(l[2]||" ")+Wr[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Hr.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),ge(t)}else t._isValid=!1}function he(t,e,i,n,r,s){var o=[ce(t),wr.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function ce(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ue(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function de(t,e,i){if(t){if(Sr.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return d(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function fe(t,e,i){if(t)return zr[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}function pe(t){var e=Fr.exec(ue(t._i));if(e){var i=he(e[4],e[3],e[2],e[5],e[6],e[7]);if(!de(e[1],i,t))return;t._a=i,t._tzm=fe(e[8],e[9],e[10]),t._d=bt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function me(e){var i=Br.exec(e._i);if(null!==i)return void(e._d=new Date(+i[1]));le(e),!1===e._isValid&&(delete e._isValid,pe(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function ge(e){if(e._f===t.ISO_8601)return void le(e);if(e._f===t.RFC_2822)return void pe(e);e._a=[],d(e).empty=!0;var i,n,r,s,o,a=""+e._i,l=a.length,h=0;for(r=Y(e._f,e._locale).match(Hn)||[],i=0;i<r.length;i++)s=r[i],n=(a.match($(s,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&d(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),h+=n.length),Bn[s]?(n?d(e).empty=!1:d(e).unusedTokens.push(s),Q(s,n,e)):e._strict&&!n&&d(e).unusedTokens.push(s);d(e).charsLeftOver=l-h,a.length>0&&d(e).unusedInput.push(a),e._a[cr]<=12&&!0===d(e).bigHour&&e._a[cr]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[cr]=ve(e._locale,e._a[cr],e._meridiem),oe(e),ne(e)}function ve(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function ye(t){var e,i,n,r,s;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ge(e),f(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==n||s<n)&&(n=s,i=e));h(t,i||e)}function be(t){if(!t._d){var e=j(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),oe(t)}}function we(t){var e=new g(ne(xe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function xe(t){var i=t._i,n=t._f;return t._locale=t._locale||ee(t._l),null===i||void 0===n&&""===i?p({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),v(i)?new g(ne(i)):(o(i)?t._d=i:e(n)?ye(t):n?ge(t):_e(t),f(t)||(t._d=null),t))}function _e(n){var l=n._i;r(l)?n._d=new Date(t.now()):o(l)?n._d=new Date(l.valueOf()):"string"==typeof l?me(n):e(l)?(n._a=a(l.slice(0),function(t){return parseInt(t,10)}),oe(n)):i(l)?be(n):s(l)?n._d=new Date(l):t.createFromInputFallback(n)}function Ce(t,r,s,o,a){var l={};return!0!==s&&!1!==s||(o=s,s=void 0),(i(t)&&n(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=s,l._i=t,l._f=r,l._strict=o,we(l)}function ke(t,e,i,n){return Ce(t,e,i,n,!1)}function Se(t,i){var n,r;if(1===i.length&&e(i[0])&&(i=i[0]),!i.length)return ke();for(n=i[0],r=1;r<i.length;++r)i[r].isValid()&&!i[r][t](n)||(n=i[r]);return n}function Te(){return Se("isBefore",[].slice.call(arguments,0))}function Ae(){return Se("isAfter",[].slice.call(arguments,0))}function De(t){for(var e in t)if(-1===gr.call(Vr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Vr.length;++n)if(t[Vr[n]]){if(i)return!1;parseFloat(t[Vr[n]])!==b(t[Vr[n]])&&(i=!0)}return!0}function Ee(){return this._isValid}function Ne(){return Xe(NaN)}function Ie(t){var e=j(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=De(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=ee(),this._bubble()}function Me(t){return t instanceof Ie}function Oe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Pe(t,e){W(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+q(~~(t/60),2)+e+q(~~t%60,2)})}function Re(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],r=(n+"").match(Gr)||["-",0,0],s=60*r[1]+b(r[2]);return 0===s?0:"+"===r[0]?s:-s}function je(e,i){var n,r;return i._isUTC?(n=i.clone(),r=(v(e)||o(e)?e.valueOf():ke(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),t.updateOffset(n,!1),n):ke(e).local()}function Le(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function He(e,i,n){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Re(ir,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&i&&(r=Le(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==e&&(!i||this._changeInProgress?ti(this,Xe(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Le(this)}function qe(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function We(t){return this.utcOffset(0,t)}function Be(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Le(this),"m")),this}function Fe(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(er,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function ze(t){return!!this.isValid()&&(t=t?ke(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ye(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ue(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=xe(t),t._a){var e=t._isUTC?c(t._a):ke(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $e(){return!!this.isValid()&&!this._isUTC}function Ve(){return!!this.isValid()&&this._isUTC}function Ge(){
return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xe(t,e){var i,n,r,o=t,a=null;return Me(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Xr.exec(t))?(i="-"===a[1]?-1:1,o={y:0,d:b(a[hr])*i,h:b(a[cr])*i,m:b(a[ur])*i,s:b(a[dr])*i,ms:b(Oe(1e3*a[fr]))*i}):(a=Kr.exec(t))?(i="-"===a[1]?-1:(a[1],1),o={y:Ke(a[2],i),M:Ke(a[3],i),w:Ke(a[4],i),d:Ke(a[5],i),h:Ke(a[6],i),m:Ke(a[7],i),s:Ke(a[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Je(ke(o.from),ke(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),n=new Ie(o),Me(t)&&l(t,"_locale")&&(n._locale=t._locale),n}function Ke(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Qe(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Je(t,e){var i;return t.isValid()&&e.isValid()?(e=je(e,t),t.isBefore(e)?i=Qe(t,e):(i=Qe(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Ze(t,e){return function(i,n){var r,s;return null===n||isNaN(+n)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),i="string"==typeof i?+i:i,r=Xe(i,n),ti(this,r,t),this}}function ti(e,i,n,r){var s=i._milliseconds,o=Oe(i._days),a=Oe(i._months);e.isValid()&&(r=null==r||r,a&&dt(e,it(e,"Month")+a*n),o&&nt(e,"Date",it(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&t.updateOffset(e,o||a))}function ei(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function ii(e,i){var n=e||ke(),r=je(n,this).startOf("day"),s=t.calendarFormat(this,r)||"sameElse",o=i&&(k(i[s])?i[s].call(this,n):i[s]);return this.format(o||this.localeData().calendar(s,this,ke(n)))}function ni(){return new g(this)}function ri(t,e){var i=v(t)?t:ke(t);return!(!this.isValid()||!i.isValid())&&(e=R(r(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function si(t,e){var i=v(t)?t:ke(t);return!(!this.isValid()||!i.isValid())&&(e=R(r(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function oi(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function ai(t,e){var i,n=v(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function li(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function hi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ci(t,e,i){var n,r,s;if(!this.isValid())return NaN;if(n=je(t,this),!n.isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=R(e)){case"year":s=ui(this,n)/12;break;case"month":s=ui(this,n);break;case"quarter":s=ui(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return i?s:y(s)}function ui(t,e){var i,n,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return e-s<0?(i=t.clone().add(r-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(r+1,"months"),n=(e-s)/(i-s)),-(r+n)||0}function di(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fi(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):k(Date.prototype.toISOString)?this.toDate().toISOString():z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+r)}function mi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=z(this,e);return this.localeData().postformat(i)}function gi(t,e){return this.isValid()&&(v(t)&&t.isValid()||ke(t).isValid())?Xe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function vi(t){return this.from(ke(),t)}function yi(t,e){return this.isValid()&&(v(t)&&t.isValid()||ke(t).isValid())?Xe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bi(t){return this.to(ke(),t)}function wi(t){var e;return void 0===t?this._locale._abbr:(e=ee(t),null!=e&&(this._locale=e),this)}function xi(){return this._locale}function _i(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ci(t){return void 0===(t=R(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function ki(){return this._d.valueOf()-6e4*(this._offset||0)}function Si(){return Math.floor(this.valueOf()/1e3)}function Ti(){return new Date(this.valueOf())}function Ai(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Di(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Ni(){return f(this)}function Ii(){return h({},d(this))}function Mi(){return d(this).overflow}function Oi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Pi(t,e){W(0,[t,t.length],0,e)}function Ri(t){return qi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ji(t){return qi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Li(){return Ct(this.year(),1,4)}function Hi(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function qi(t,e,i,n,r){var s;return null==t?_t(this,n,r).year:(s=Ct(t,n,r),e>s&&(e=s),Wi.call(this,t,e,i,n,r))}function Wi(t,e,i,n,r){var s=xt(t,e,i,n,r),o=bt(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Bi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Fi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function zi(t,e){e[fr]=b(1e3*("0."+t))}function Yi(){return this._isUTC?"UTC":""}function Ui(){return this._isUTC?"Coordinated Universal Time":""}function $i(t){return ke(1e3*t)}function Vi(){return ke.apply(null,arguments).parseZone()}function Gi(t){return t}function Xi(t,e,i,n){var r=ee(),s=c().set(n,e);return r[i](s,t)}function Ki(t,e,i){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return Xi(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=Xi(t,n,i,"month");return r}function Qi(t,e,i,n){"boolean"==typeof t?(s(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,s(e)&&(i=e,e=void 0),e=e||"");var r=ee(),o=t?r._week.dow:0;if(null!=i)return Xi(e,(i+o)%7,n,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Xi(e,(a+o)%7,n,"day");return l}function Ji(t,e){return Ki(t,e,"months")}function Zi(t,e){return Ki(t,e,"monthsShort")}function tn(t,e,i){return Qi(t,e,i,"weekdays")}function en(t,e,i){return Qi(t,e,i,"weekdaysShort")}function nn(t,e,i){return Qi(t,e,i,"weekdaysMin")}function rn(){var t=this._data;return this._milliseconds=as(this._milliseconds),this._days=as(this._days),this._months=as(this._months),t.milliseconds=as(t.milliseconds),t.seconds=as(t.seconds),t.minutes=as(t.minutes),t.hours=as(t.hours),t.months=as(t.months),t.years=as(t.years),this}function sn(t,e,i,n){var r=Xe(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function on(t,e){return sn(this,t,e,1)}function an(t,e){return sn(this,t,e,-1)}function ln(t){return t<0?Math.floor(t):Math.ceil(t)}function hn(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*ln(un(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=y(s/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,i=y(e/60),l.hours=i%24,o+=y(i/24),r=y(cn(o)),a+=r,o-=ln(un(r)),n=y(a/12),a%=12,l.days=o,l.months=a,l.years=n,this}function cn(t){return 4800*t/146097}function un(t){return 146097*t/4800}function dn(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=R(t))||"year"===t)return e=this._days+n/864e5,i=this._months+cn(e),"month"===t?i:i/12;switch(e=this._days+Math.round(un(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function fn(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function pn(t){return function(){return this.as(t)}}function mn(){return Xe(this)}function gn(t){return t=R(t),this.isValid()?this[t+"s"]():NaN}function vn(t){return function(){return this.isValid()?this._data[t]:NaN}}function yn(){return y(this.days()/7)}function bn(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function wn(t,e,i){var n=Xe(t).abs(),r=Cs(n.as("s")),s=Cs(n.as("m")),o=Cs(n.as("h")),a=Cs(n.as("d")),l=Cs(n.as("M")),h=Cs(n.as("y")),c=r<=ks.ss&&["s",r]||r<ks.s&&["ss",r]||s<=1&&["m"]||s<ks.m&&["mm",s]||o<=1&&["h"]||o<ks.h&&["hh",o]||a<=1&&["d"]||a<ks.d&&["dd",a]||l<=1&&["M"]||l<ks.M&&["MM",l]||h<=1&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,bn.apply(null,c)}function xn(t){return void 0===t?Cs:"function"==typeof t&&(Cs=t,!0)}function _n(t,e){return void 0!==ks[t]&&(void 0===e?ks[t]:(ks[t]=e,"s"===t&&(ks.ss=e-1),!0))}function Cn(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=wn(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function kn(t){return(t>0)-(t<0)||+t}function Sn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n=Ss(this._milliseconds)/1e3,r=Ss(this._days),s=Ss(this._months);t=y(n/60),e=y(t/60),n%=60,t%=60,i=y(s/12),s%=12;var o=i,a=s,l=r,h=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=kn(this._months)!==kn(d)?"-":"",m=kn(this._days)!==kn(d)?"-":"",g=kn(this._milliseconds)!==kn(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(l?m+l+"D":"")+(h||c||u?"T":"")+(h?g+h+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var Tn,An;An=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var Dn=t.momentProperties=[],En=!1,Nn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var In;In=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)l(t,e)&&i.push(e);return i};var Mn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},On={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Pn=/\d{1,2}/,Rn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},jn={},Ln={},Hn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wn={},Bn={},Fn=/\d/,zn=/\d\d/,Yn=/\d{3}/,Un=/\d{4}/,$n=/[+-]?\d{6}/,Vn=/\d\d?/,Gn=/\d\d\d\d?/,Xn=/\d\d\d\d\d\d?/,Kn=/\d{1,3}/,Qn=/\d{1,4}/,Jn=/[+-]?\d{1,6}/,Zn=/\d+/,tr=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,ir=/Z|[+-]\d\d(?::?\d\d)?/gi,nr=/[+-]?\d+(\.\d{1,3})?/,rr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,sr={},or={},ar=0,lr=1,hr=2,cr=3,ur=4,dr=5,fr=6,pr=7,mr=8;W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),P("year","y"),L("year",1),U("Y",tr),U("YY",Vn,zn),U("YYYY",Qn,Un),U("YYYYY",Jn,$n),U("YYYYYY",Jn,$n),X(["YYYYY","YYYYYY"],ar),X("YYYY",function(e,i){i[ar]=2===e.length?t.parseTwoDigitYear(e):b(e)}),X("YY",function(e,i){i[ar]=t.parseTwoDigitYear(e)}),X("Y",function(t,e){e[ar]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var gr,vr=et("FullYear",!0);gr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),L("month",8),U("M",Vn),U("MM",Vn,zn),U("MMM",function(t,e){return e.monthsShortRegex(t)}),U("MMMM",function(t,e){return e.monthsRegex(t)}),X(["M","MM"],function(t,e){e[lr]=b(t)-1}),X(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[lr]=r:d(i).invalidMonth=t});var yr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,br="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xr=rr,_r=rr;W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),L("week",5),L("isoWeek",5),U("w",Vn),U("ww",Vn,zn),U("W",Vn),U("WW",Vn,zn),K(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=b(t)});var Cr={dow:0,doy:6};W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),U("d",Vn),U("e",Vn),U("E",Vn),U("dd",function(t,e){return e.weekdaysMinRegex(t)}),U("ddd",function(t,e){return e.weekdaysShortRegex(t)}),U("dddd",function(t,e){return e.weekdaysRegex(t)}),K(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:d(i).invalidWeekday=t}),K(["d","e","E"],function(t,e,i,n){e[n]=b(t)});var kr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Tr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ar=rr,Dr=rr,Er=rr;W("H",["HH",2],0,"hour"),W("h",["hh",2],0,zt),W("k",["kk",2],0,Yt),W("hmm",0,0,function(){return""+zt.apply(this)+q(this.minutes(),2)}),W("hmmss",0,0,function(){return""+zt.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),Ut("a",!0),Ut("A",!1),P("hour","h"),L("hour",13),U("a",$t),U("A",$t),U("H",Vn),U("h",Vn),U("k",Vn),U("HH",Vn,zn),U("hh",Vn,zn),U("kk",Vn,zn),U("hmm",Gn),U("hmmss",Xn),U("Hmm",Gn),U("Hmmss",Xn),X(["H","HH"],cr),X(["k","kk"],function(t,e,i){var n=b(t);e[cr]=24===n?0:n}),X(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),X(["h","hh"],function(t,e,i){e[cr]=b(t),d(i).bigHour=!0}),X("hmm",function(t,e,i){var n=t.length-2;e[cr]=b(t.substr(0,n)),e[ur]=b(t.substr(n)),d(i).bigHour=!0}),X("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[cr]=b(t.substr(0,n)),e[ur]=b(t.substr(n,2)),e[dr]=b(t.substr(r)),d(i).bigHour=!0}),X("Hmm",function(t,e,i){var n=t.length-2;e[cr]=b(t.substr(0,n)),e[ur]=b(t.substr(n))}),X("Hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[cr]=b(t.substr(0,n)),e[ur]=b(t.substr(n,2)),e[dr]=b(t.substr(r))});var Nr,Ir=/[ap]\.?m?\.?/i,Mr=et("Hours",!0),Or={calendar:Mn,longDateFormat:On,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Pn,relativeTime:Rn,months:br,monthsShort:wr,week:Cr,weekdays:kr,weekdaysMin:Tr,weekdaysShort:Sr,meridiemParse:Ir},Pr={},Rr={},jr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hr=/Z|[+-]\d\d(?::?\d\d)?/,qr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Wr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Br=/^\/?Date\((\-?\d+)/i,Fr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,zr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Yr=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Ur=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),$r=function(){return Date.now?Date.now():+new Date},Vr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Pe("Z",":"),Pe("ZZ",""),U("Z",ir),U("ZZ",ir),X(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Re(ir,t)});var Gr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Xr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Xe.fn=Ie.prototype,Xe.invalid=Ne;var Qr=Ze(1,"add"),Jr=Ze(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zr=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pi("gggg","weekYear"),Pi("ggggg","weekYear"),Pi("GGGG","isoWeekYear"),Pi("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),U("G",tr),U("g",tr),U("GG",Vn,zn),U("gg",Vn,zn),U("GGGG",Qn,Un),U("gggg",Qn,Un),U("GGGGG",Jn,$n),U("ggggg",Jn,$n),K(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=b(t)}),K(["gg","GG"],function(e,i,n,r){i[r]=t.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),P("quarter","Q"),L("quarter",7),U("Q",Fn),X("Q",function(t,e){e[lr]=3*(b(t)-1)}),W("D",["DD",2],"Do","date"),P("date","D"),L("date",9),U("D",Vn),U("DD",Vn,zn),U("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),X(["D","DD"],hr),X("Do",function(t,e){e[hr]=b(t.match(Vn)[0])});var ts=et("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),L("dayOfYear",4),U("DDD",Kn),U("DDDD",Yn),X(["DDD","DDDD"],function(t,e,i){i._dayOfYear=b(t)}),W("m",["mm",2],0,"minute"),P("minute","m"),L("minute",14),U("m",Vn),U("mm",Vn,zn),X(["m","mm"],ur);var es=et("Minutes",!1);W("s",["ss",2],0,"second"),P("second","s"),L("second",15),U("s",Vn),U("ss",Vn,zn),X(["s","ss"],dr);var is=et("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),L("millisecond",16),U("S",Kn,Fn),U("SS",Kn,zn),U("SSS",Kn,Yn);var ns;for(ns="SSSS";ns.length<=9;ns+="S")U(ns,Zn);for(ns="S";ns.length<=9;ns+="S")X(ns,zi);var rs=et("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var ss=g.prototype;ss.add=Qr,ss.calendar=ii,ss.clone=ni,ss.diff=ci,ss.endOf=Ci,ss.format=mi,ss.from=gi,ss.fromNow=vi,ss.to=yi,ss.toNow=bi,ss.get=rt,ss.invalidAt=Mi,ss.isAfter=ri,ss.isBefore=si,ss.isBetween=oi,ss.isSame=ai,ss.isSameOrAfter=li,ss.isSameOrBefore=hi,ss.isValid=Ni,ss.lang=Zr,ss.locale=wi,ss.localeData=xi,ss.max=Ur,ss.min=Yr,ss.parsingFlags=Ii,ss.set=st,ss.startOf=_i,ss.subtract=Jr,ss.toArray=Ai,ss.toObject=Di,ss.toDate=Ti,ss.toISOString=fi,ss.inspect=pi,ss.toJSON=Ei,ss.toString=di,ss.unix=Si,ss.valueOf=ki,ss.creationData=Oi,ss.year=vr,ss.isLeapYear=tt,ss.weekYear=Ri,ss.isoWeekYear=ji,ss.quarter=ss.quarters=Bi,ss.month=ft,ss.daysInMonth=pt,ss.week=ss.weeks=At,ss.isoWeek=ss.isoWeeks=Dt,ss.weeksInYear=Hi,ss.isoWeeksInYear=Li,ss.date=ts,ss.day=ss.days=jt,ss.weekday=Lt,ss.isoWeekday=Ht,ss.dayOfYear=Fi,ss.hour=ss.hours=Mr,ss.minute=ss.minutes=es,ss.second=ss.seconds=is,ss.millisecond=ss.milliseconds=rs,ss.utcOffset=He,ss.utc=We,ss.local=Be,ss.parseZone=Fe,ss.hasAlignedHourOffset=ze,ss.isDST=Ye,ss.isLocal=$e,ss.isUtcOffset=Ve,ss.isUtc=Ge,ss.isUTC=Ge,ss.zoneAbbr=Yi,ss.zoneName=Ui,ss.dates=_("dates accessor is deprecated. Use date instead.",ts),ss.months=_("months accessor is deprecated. Use month instead",ft),ss.years=_("years accessor is deprecated. Use year instead",vr),ss.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",qe),ss.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ue);var os=A.prototype;os.calendar=D,os.longDateFormat=E,os.invalidDate=N,os.ordinal=I,os.preparse=Gi,os.postformat=Gi,os.relativeTime=M,os.pastFuture=O,os.set=S,os.months=lt,os.monthsShort=ht,os.monthsParse=ut,os.monthsRegex=gt,os.monthsShortRegex=mt,os.week=kt,os.firstDayOfYear=Tt,os.firstDayOfWeek=St,os.weekdays=It,os.weekdaysMin=Ot,os.weekdaysShort=Mt,os.weekdaysParse=Rt,os.weekdaysRegex=qt,os.weekdaysShortRegex=Wt,os.weekdaysMinRegex=Bt,os.isPM=Vt,os.meridiem=Gt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=_("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=_("moment.langData is deprecated. Use moment.localeData instead.",ee);var as=Math.abs,ls=pn("ms"),hs=pn("s"),cs=pn("m"),us=pn("h"),ds=pn("d"),fs=pn("w"),ps=pn("M"),ms=pn("y"),gs=vn("milliseconds"),vs=vn("seconds"),ys=vn("minutes"),bs=vn("hours"),ws=vn("days"),xs=vn("months"),_s=vn("years"),Cs=Math.round,ks={ss:44,s:45,m:45,h:22,d:26,M:11},Ss=Math.abs,Ts=Ie.prototype;return Ts.isValid=Ee,Ts.abs=rn,Ts.add=on,Ts.subtract=an,Ts.as=dn,Ts.asMilliseconds=ls,Ts.asSeconds=hs,Ts.asMinutes=cs,Ts.asHours=us,Ts.asDays=ds,Ts.asWeeks=fs,Ts.asMonths=ps,Ts.asYears=ms,Ts.valueOf=fn,Ts._bubble=hn,Ts.clone=mn,Ts.get=gn,Ts.milliseconds=gs,Ts.seconds=vs,Ts.minutes=ys,Ts.hours=bs,Ts.days=ws,Ts.weeks=yn,Ts.months=xs,Ts.years=_s,Ts.humanize=Cn,Ts.toISOString=Sn,Ts.toString=Sn,Ts.toJSON=Sn,Ts.locale=wi,Ts.localeData=xi,Ts.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Sn),Ts.lang=Zr,W("X",0,0,"unix"),W("x",0,0,"valueOf"),U("x",tr),U("X",nr),X("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),X("x",function(t,e,i){i._d=new Date(b(t))}),t.version="2.19.4",function(t){Tn=t}(ke),t.fn=ss,t.min=Te,t.max=Ae,t.now=$r,t.utc=c,t.unix=$i,t.months=Ji,t.isDate=o,t.locale=Jt,t.invalid=p,t.duration=Xe,t.isMoment=v,t.weekdays=tn,t.parseZone=Vi,t.localeData=ee,t.isDuration=Me,t.monthsShort=Zi,t.weekdaysMin=nn,t.defineLocale=Zt,t.updateLocale=te,t.locales=ie,t.weekdaysShort=en,t.normalizeUnits=R,t.relativeTimeRounding=xn,t.relativeTimeThreshold=_n,t.calendarFormat=ei,t.prototype=ss,t}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(t,i){return i.fn||(i.fn={}),e(t,i)});else if("object"==typeof module&&module.exports){var i="undefined"!=typeof window?window.jQuery:void 0;i||(i=require("jquery"),i.fn||(i.fn={}));var n="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=e(n,i)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var i=function(i,n,r){if(this.parentEl="body",this.element=e(i),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof n&&null!==n||(n={}),n=e.extend(this.element.data(),n),"string"==typeof n.template||n.template instanceof e||(n.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=e(n.parentEl&&e(n.parentEl).length?n.parentEl:this.parentEl),this.container=e(n.template).appendTo(this.parentEl),"object"==typeof n.locale&&("string"==typeof n.locale.direction&&(this.locale.direction=n.locale.direction),"string"==typeof n.locale.format&&(this.locale.format=n.locale.format),"string"==typeof n.locale.separator&&(this.locale.separator=n.locale.separator),"object"==typeof n.locale.daysOfWeek&&(this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),"object"==typeof n.locale.monthNames&&(this.locale.monthNames=n.locale.monthNames.slice()),"number"==typeof n.locale.firstDay&&(this.locale.firstDay=n.locale.firstDay),"string"==typeof n.locale.applyLabel&&(this.locale.applyLabel=n.locale.applyLabel),"string"==typeof n.locale.cancelLabel&&(this.locale.cancelLabel=n.locale.cancelLabel),"string"==typeof n.locale.weekLabel&&(this.locale.weekLabel=n.locale.weekLabel),"string"==typeof n.locale.customRangeLabel)){var s=document.createElement("textarea");s.innerHTML=n.locale.customRangeLabel;var o=s.value;this.locale.customRangeLabel=o}if(this.container.addClass(this.locale.direction),"string"==typeof n.startDate&&(this.startDate=t(n.startDate,this.locale.format)),"string"==typeof n.endDate&&(this.endDate=t(n.endDate,this.locale.format)),"string"==typeof n.minDate&&(this.minDate=t(n.minDate,this.locale.format)),"string"==typeof n.maxDate&&(this.maxDate=t(n.maxDate,this.locale.format)),"object"==typeof n.startDate&&(this.startDate=t(n.startDate)),"object"==typeof n.endDate&&(this.endDate=t(n.endDate)),"object"==typeof n.minDate&&(this.minDate=t(n.minDate)),"object"==typeof n.maxDate&&(this.maxDate=t(n.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof n.applyClass&&(this.applyClass=n.applyClass),"string"==typeof n.cancelClass&&(this.cancelClass=n.cancelClass),"object"==typeof n.dateLimit&&(this.dateLimit=n.dateLimit),"string"==typeof n.opens&&(this.opens=n.opens),"string"==typeof n.drops&&(this.drops=n.drops),"boolean"==typeof n.showWeekNumbers&&(this.showWeekNumbers=n.showWeekNumbers),"boolean"==typeof n.showISOWeekNumbers&&(this.showISOWeekNumbers=n.showISOWeekNumbers),"string"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses),"object"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses.join(" ")),"boolean"==typeof n.showDropdowns&&(this.showDropdowns=n.showDropdowns),"boolean"==typeof n.showCustomRangeLabel&&(this.showCustomRangeLabel=n.showCustomRangeLabel),"boolean"==typeof n.singleDatePicker&&(this.singleDatePicker=n.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof n.timePicker&&(this.timePicker=n.timePicker),"boolean"==typeof n.timePickerSeconds&&(this.timePickerSeconds=n.timePickerSeconds),"number"==typeof n.timePickerIncrement&&(this.timePickerIncrement=n.timePickerIncrement),"boolean"==typeof n.timePicker24Hour&&(this.timePicker24Hour=n.timePicker24Hour),"boolean"==typeof n.autoApply&&(this.autoApply=n.autoApply),"boolean"==typeof n.autoUpdateInput&&(this.autoUpdateInput=n.autoUpdateInput),"boolean"==typeof n.linkedCalendars&&(this.linkedCalendars=n.linkedCalendars),"function"==typeof n.isInvalidDate&&(this.isInvalidDate=n.isInvalidDate),"function"==typeof n.isCustomDate&&(this.isCustomDate=n.isCustomDate),"boolean"==typeof n.alwaysShowCalendars&&(this.alwaysShowCalendars=n.alwaysShowCalendars),0!=this.locale.firstDay)for(var a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;var l,h,c;if(void 0===n.startDate&&void 0===n.endDate&&e(this.element).is("input[type=text]")){var u=e(this.element).val(),d=u.split(this.locale.separator)
;l=h=null,2==d.length?(l=t(d[0],this.locale.format),h=t(d[1],this.locale.format)):this.singleDatePicker&&""!==u&&(l=t(u,this.locale.format),h=t(u,this.locale.format)),null!==l&&null!==h&&(this.setStartDate(l),this.setEndDate(h))}if("object"==typeof n.ranges){for(c in n.ranges){l="string"==typeof n.ranges[c][0]?t(n.ranges[c][0],this.locale.format):t(n.ranges[c][0]),h="string"==typeof n.ranges[c][1]?t(n.ranges[c][1],this.locale.format):t(n.ranges[c][1]),this.minDate&&l.isBefore(this.minDate)&&(l=this.minDate.clone());var f=this.maxDate;if(this.dateLimit&&f&&l.clone().add(this.dateLimit).isAfter(f)&&(f=l.clone().add(this.dateLimit)),f&&h.isAfter(f)&&(h=f.clone()),!(this.minDate&&h.isBefore(this.minDate,this.timepicker?"minute":"day")||f&&l.isAfter(f,this.timepicker?"minute":"day"))){var s=document.createElement("textarea");s.innerHTML=c;var o=s.value;this.ranges[o]=[l,h]}}var p="<ul>";for(c in this.ranges)p+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof n.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),(void 0===n.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==n.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsKeydown,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return i.prototype={constructor:i,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".left .ampmselect").val();"PM"===n&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".right .ampmselect").val();"PM"===n&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(i),this.rightCalendar.month.hour(t).minute(e).second(i)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(i){var n="left"==i?this.leftCalendar:this.rightCalendar,r=n.month.month(),s=n.month.year(),o=n.month.hour(),a=n.month.minute(),l=n.month.second(),h=t([s,r]).daysInMonth(),c=t([s,r,1]),u=t([s,r,h]),d=t(c).subtract(1,"month").month(),f=t(c).subtract(1,"month").year(),p=t([f,d]).daysInMonth(),m=c.day(),n=[];n.firstDay=c,n.lastDay=u;for(var g=0;g<6;g++)n[g]=[];var v=p-m+this.locale.firstDay+1;v>p&&(v-=7),m==this.locale.firstDay&&(v=p-6);for(var y,b,w=t([f,d,v,12,a,l]),g=0,y=0,b=0;g<42;g++,y++,w=t(w).add(24,"hour"))g>0&&y%7==0&&(y=0,b++),n[b][y]=w.clone().hour(o).minute(a).second(l),w.hour(12),this.minDate&&n[b][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&n[b][y].isBefore(this.minDate)&&"left"==i&&(n[b][y]=this.minDate.clone()),this.maxDate&&n[b][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&n[b][y].isAfter(this.maxDate)&&"right"==i&&(n[b][y]=this.maxDate.clone());"left"==i?this.leftCalendar.calendar=n:this.rightCalendar.calendar=n;var x="left"==i?this.minDate:this.startDate,_=this.maxDate,C=("left"==i?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),k='<table class="table-condensed">';k+="<thead>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+="<th></th>"),x&&!x.isBefore(n.firstDay)||this.linkedCalendars&&"left"!=i?k+="<th></th>":k+='<th class="prev available"><i class="fa fa-'+C.left+" glyphicon glyphicon-"+C.left+'"></i></th>';var S=this.locale.monthNames[n[1][1].month()]+n[1][1].format(" YYYY");if(this.showDropdowns){for(var T=n[1][1].month(),A=n[1][1].year(),D=_&&_.year()||A+5,E=x&&x.year()||A-50,N=A==E,I=A==D,M='<select class="monthselect">',O=0;O<12;O++)(!N||O>=x.month())&&(!I||O<=_.month())?M+="<option value='"+O+"'"+(O===T?" selected='selected'":"")+">"+this.locale.monthNames[O]+"</option>":M+="<option value='"+O+"'"+(O===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[O]+"</option>";M+="</select>";for(var P='<select class="yearselect">',R=E;R<=D;R++)P+='<option value="'+R+'"'+(R===A?' selected="selected"':"")+">"+R+"</option>";P+="</select>",S=M+P}if(k+='<th colspan="5" class="month">'+S+"</th>",_&&!_.isAfter(n.lastDay)||this.linkedCalendars&&"right"!=i&&!this.singleDatePicker?k+="<th></th>":k+='<th class="next available"><i class="fa fa-'+C.right+" glyphicon glyphicon-"+C.right+'"></i></th>',k+="</tr>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(t,e){k+="<th>"+e+"</th>"}),k+="</tr>",k+="</thead>",k+="<tbody>",null==this.endDate&&this.dateLimit){var j=this.startDate.clone().add(this.dateLimit).endOf("day");_&&!j.isBefore(_)||(_=j)}for(var b=0;b<6;b++){k+="<tr>",this.showWeekNumbers?k+='<td class="week">'+n[b][0].week()+"</td>":this.showISOWeekNumbers&&(k+='<td class="week">'+n[b][0].isoWeek()+"</td>");for(var y=0;y<7;y++){var L=[];n[b][y].isSame(new Date,"day")&&L.push("today"),n[b][y].isoWeekday()>5&&L.push("weekend"),n[b][y].month()!=n[1][1].month()&&L.push("off"),this.minDate&&n[b][y].isBefore(this.minDate,"day")&&L.push("off","disabled"),_&&n[b][y].isAfter(_,"day")&&L.push("off","disabled"),this.isInvalidDate(n[b][y])&&L.push("off","disabled"),n[b][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&L.push("active","start-date"),null!=this.endDate&&n[b][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&L.push("active","end-date"),null!=this.endDate&&n[b][y]>this.startDate&&n[b][y]<this.endDate&&L.push("in-range");var H=this.isCustomDate(n[b][y]);!1!==H&&("string"==typeof H?L.push(H):Array.prototype.push.apply(L,H));for(var q="",W=!1,g=0;g<L.length;g++)q+=L[g]+" ","disabled"==L[g]&&(W=!0);W||(q+="available"),k+='<td class="'+q.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+y+'">'+n[b][y].date()+"</td>"}k+="</tr>"}k+="</tbody>",k+="</table>",this.container.find(".calendar."+i+" .calendar-table").html(k)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,i,n,r=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(r=this.startDate.clone().add(this.dateLimit)),"left"==t)i=this.startDate.clone(),n=this.minDate;else if("right"==t){i=this.endDate.clone(),n=this.startDate;var s=this.container.find(".calendar.right .calendar-time div");if(""!=s.html()&&(i.hour(s.find(".hourselect option:selected").val()||i.hour()),i.minute(s.find(".minuteselect option:selected").val()||i.minute()),i.second(s.find(".secondselect option:selected").val()||i.second()),!this.timePicker24Hour)){var o=s.find(".ampmselect option:selected").val();"PM"===o&&i.hour()<12&&i.hour(i.hour()+12),"AM"===o&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),r&&i.isAfter(r)&&(i=r.clone())}e='<select class="hourselect">';for(var a=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,h=a;h<=l;h++){var c=h;this.timePicker24Hour||(c=i.hour()>=12?12==h?12:h+12:12==h?0:h);var u=i.clone().hour(c),d=!1;n&&u.minute(59).isBefore(n)&&(d=!0),r&&u.minute(0).isAfter(r)&&(d=!0),c!=i.hour()||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>":e+='<option value="'+h+'" selected="selected">'+h+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var h=0;h<60;h+=this.timePickerIncrement){var f=h<10?"0"+h:h,u=i.clone().minute(h),d=!1;n&&u.second(59).isBefore(n)&&(d=!0),r&&u.second(0).isAfter(r)&&(d=!0),i.minute()!=h||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+h+'">'+f+"</option>":e+='<option value="'+h+'" selected="selected">'+f+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(var h=0;h<60;h++){var f=h<10?"0"+h:h,u=i.clone().second(h),d=!1;n&&u.isBefore(n)&&(d=!0),r&&u.isAfter(r)&&(d=!0),i.second()!=h||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+h+'">'+f+"</option>":e+='<option value="'+h+'" selected="selected">'+f+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",m="";n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(p=' disabled="disabled" class="disabled"'),r&&i.clone().hour(0).minute(0).second(0).isAfter(r)&&(m=' disabled="disabled" class="disabled"'),i.hour()>=12?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+m+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,i={top:0,left:0},n=e(window).width();this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-i.top:this.element.offset().top+this.element.outerHeight()-i.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-i.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-i.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var i=e(t.target);"focusin"==t.type||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var i=e(t.target).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),s=e(t.target).parents(".calendar"),o=s.hasClass("left")?this.leftCalendar.calendar[n][r]:this.rightCalendar.calendar[n][r];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format));var a=this.leftCalendar,l=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".calendar tbody td").each(function(t,i){if(!e(i).hasClass("week")){var n=e(i).attr("data-title"),r=n.substr(1,1),s=n.substr(3,1),c=e(i).parents(".calendar"),u=c.hasClass("left")?a.calendar[r][s]:l.calendar[r][s];u.isAfter(h)&&u.isBefore(o)||u.isSame(o,"day")?e(i).addClass("in-range"):e(i).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var i=e(t.target).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),s=e(t.target).parents(".calendar"),o=s.hasClass("left")?this.leftCalendar.calendar[n][r]:this.rightCalendar.calendar[n][r];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)}var h=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(a).minute(h).second(c)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var a=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)}var h=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(a).minute(h).second(c)}this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var i in this.ranges){if(this.timePicker){var n=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(n)==this.ranges[i][0].format(n)&&this.endDate.format(n)==this.ranges[i][1].format(n)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var i=e(t.target).closest(".calendar").hasClass("left"),n=i?"left":"right",r=this.container.find(".calendar."+n),s=parseInt(r.find(".monthselect").val(),10),o=r.find(".yearselect").val();i||(o<this.startDate.year()||o==this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),o=this.maxDate.year()),i?(this.leftCalendar.month.month(s).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(s).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var i=e(t.target).closest(".calendar"),n=i.hasClass("left"),r=parseInt(i.find(".hourselect").val(),10),s=parseInt(i.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(i.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=i.find(".ampmselect").val();"PM"===a&&r<12&&(r+=12),"AM"===a&&12===r&&(r=0)}if(n){var l=this.startDate.clone();l.hour(r),l.minute(s),l.second(o),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(r),h.minute(s),h.second(o),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(i){var n=e(i.target).closest(".calendar").hasClass("right"),r=t(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),s=t(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);r.isValid()&&s.isValid()&&(n&&s.isBefore(r)&&(r=s.clone()),this.setStartDate(r),this.setEndDate(s),n?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),e(t.target).addClass("active"),e(t.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){if(!this.endDate){var i=this.container.find('input[name="daterangepicker_end"]').val(),n=t(i,this.locale.format);n.isValid()&&(this.setEndDate(n),this.updateView())}},formInputsKeydown:function(t){13===t.keyCode&&(t.preventDefault(),this.formInputsChanged(t))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),i=null,n=null;2===e.length&&(i=t(e[0],this.locale.format),n=t(e[1],this.locale.format)),(this.singleDatePicker||null===i||null===n)&&(i=t(this.element.val(),this.locale.format),n=i),i.isValid()&&n.isValid()&&(this.setStartDate(i),this.setEndDate(n),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,n){var r=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,r,n))}),this},i}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function s(i,n){return function(){return n!==e&&t.fn.datepicker.deprecated(n),this[i].apply(this,arguments)}}function o(t){return t&&!isNaN(t.getTime())}function a(e,i){function n(t,e){return e.toLowerCase()}var r,s=t(e).data(),o={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in s)i.test(l)&&(r=l.replace(a,n),o[r]=s[l]);return o}function l(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var n=g[e];return t.each(m,function(t,e){e in n&&(i[e]=n[e])}),i}}var h=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-e&&this[i].valueOf()-e<864e5)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new h;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),c=function(e,i){t.data(e,"datepicker",this),this._process_options(i),this.dates=new h,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(e){
return t.each(v.viewModes,function(i,n){if(e===i||-1!==t.inArray(e,n.names))return e=i,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(i){try{if(i===e||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;return t(i).length>0}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),s=r.language;g[s]||(s=s.split("-")[0],g[s]||(s=p.language)),r.language=s,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var o=v.parseFormat(r.format);r.startDate!==-1/0&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,o,r.language,r.assumeNearbyYear):r.startDate=-1/0),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,o,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=t.map(r.datesDisabled,function(t){return v.parseDate(t,o,r.language,r.assumeNearbyYear)});var a=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===a.length)switch(a[0]){case"top":case"bottom":r.orientation.y=a[0];break;case"left":case"right":r.orientation.x=a[0]}else l=t.grep(a,function(t){return/^left|right$/.test(t)}),r.orientation.x=l[0]||"auto",l=t.grep(a,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=l[0]||"auto";else;if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=v.parseDate(r.defaultViewDate,o,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var h=r.defaultViewDate.year||(new Date).getFullYear(),c=r.defaultViewDate.month||0,u=r.defaultViewDate.day||1;r.defaultViewDate=i(h,c,u)}else r.defaultViewDate=n()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,r,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(n=e,r=t[s][1]):3===t[s].length&&(n=t[s][1],r=t[s][2]),i.on(r,n)},_unapplyEvents:function(t){for(var i,n,r,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(r=e,n=t[s][1]):3===t[s].length&&(r=t[s][1],n=t[s][2]),i.off(n,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),r=this._utc_to_local(n);this.element.trigger({type:e,date:r,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return v.formatDate(i,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&i(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,i,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=t(this.o.container),r=n.width(),s="body"===this.o.container?t(document).scrollTop():n.scrollTop(),o=n.offset(),a=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&a.push(Number(e))});var l=Math.max.apply(Math,a)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=h.left-o.left,f=h.top-o.top;"body"!==this.o.container&&(f+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-u)):h.left<0?(this.picker.addClass("datepicker-orient-left"),d-=h.left-10):d+e>r?(this.picker.addClass("datepicker-orient-right"),d+=u-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var p,m=this.o.orientation.y;if("auto"===m&&(p=-s+f-i,m=p<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=i+parseInt(this.picker.css("padding-top")):f+=c,this.o.rtl){var g=r-(d+u);this.picker.css({top:f,right:g,zIndex:l})}else this.picker.css({top:f,left:d,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=t.grep(i,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),n?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&n&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)i+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(i+=" disabled"),i+='">'+g[this.o.language].daysMin[e++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)}},fillMonths:function(){for(var t,e=this._utc_to_local(this.viewDate),i="",n=0;n<12;n++)t=e&&e.getMonth()===n?" focused":"",i+='<span class="month'+t+'">'+g[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a=n();return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<o?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>o)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&r(e,a)&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),this.dateWithinRange(e)||i.push("disabled"),this.dateIsDisabled(e)&&i.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,n,r,s,o,a,l){for(var h,c,u,d="",f=r/10,p=this.picker.find(i),m=Math.floor(s/r)*r,g=m+9*f,v=Math.floor(this.viewDate.getFullYear()/f)*f,y=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/f)*f}),b=m-f;b<=g+f;b+=f)h=[n],c=null,b===m-f?h.push("old"):b===g+f&&h.push("new"),-1!==t.inArray(b,y)&&h.push("active"),(b<o||b>a)&&h.push("disabled"),b===v&&h.push("focused"),l!==t.noop&&(u=l(new Date(b,0,1)),u===e?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&h.push("disabled"),u.classes&&(h=h.concat(u.classes.split(/\s+/))),u.tooltip&&(c=u.tooltip)),d+='<span class="'+h.join(" ")+'"'+(c?' title="'+c+'"':"")+">"+b+"</span>";p.find(".datepicker-switch").text(m+"-"+g),p.find("td").html(d)},fill:function(){var n,r,s=new Date(this.viewDate),o=s.getUTCFullYear(),a=s.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=g[this.o.language].today||g.en.today||"",f=g[this.o.language].clear||g.en.clear||"",p=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(o)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(s,p,this.o.language)),this.picker.find("tfoot .today").text(d).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(f).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var m=i(o,a,0),y=m.getUTCDate();m.setUTCDate(y-(m.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(m);m.getUTCFullYear()<100&&b.setUTCFullYear(m.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,x,_=[];m.valueOf()<b;){if((w=m.getUTCDay())===this.o.weekStart&&(_.push("<tr>"),this.o.calendarWeeks)){var C=new Date(+m+(this.o.weekStart-w-7)%7*864e5),k=new Date(Number(C)+(11-C.getUTCDay())%7*864e5),S=new Date(Number(S=i(k.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),T=(k-S)/864e5/7+1;_.push('<td class="cw">'+T+"</td>")}x=this.getClassNames(m),x.push("day");var A=m.getUTCDate();this.o.beforeShowDay!==t.noop&&(r=this.o.beforeShowDay(this._utc_to_local(m)),r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),!1===r.enabled&&x.push("disabled"),r.classes&&(x=x.concat(r.classes.split(/\s+/))),r.tooltip&&(n=r.tooltip),r.content&&(A=r.content)),x=t.isFunction(t.uniqueSort)?t.uniqueSort(x):t.unique(x),_.push('<td class="'+x.join(" ")+'"'+(n?' title="'+n+'"':"")+' data-date="'+m.getTime().toString()+'">'+A+"</td>"),n=null,w===this.o.weekEnd&&_.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(_.join(""));var D=g[this.o.language].monthsTitle||g.en.monthsTitle||"Months",E=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?D:o).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===o&&E.eq(e.getUTCMonth()).addClass("active")}),(o<l||o>c)&&E.addClass("disabled"),o===l&&E.slice(0,h).addClass("disabled"),o===c&&E.slice(u+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var N=this;t.each(E,function(i,n){var r=new Date(o,i,1),s=N.o.beforeShowMonth(r);s===e?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),!1!==s.enabled||t(n).hasClass("disabled")||t(n).addClass("disabled"),s.classes&&t(n).addClass(s.classes),s.tooltip&&t(n).prop("title",s.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,o,l,c,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,o,l,c,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,o,l,c,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),r=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=1;switch(this.viewMode){case 0:t=n<=s&&r<=o,e=n>=a&&r>=l;break;case 4:h*=10;case 3:h*=10;case 2:h*=10;case 1:t=Math.floor(n/h)*h<=s,e=Math.floor(n/h)*h+h>=a}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){e.preventDefault(),e.stopPropagation();var r,s,o,a;r=t(e.target),r.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(n(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),s=1,1===this.viewMode?(a=r.parent().find("span").index(r),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,o=Number(r.text()),this.viewDate.setUTCFullYear(o)),this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(i(o,a,s)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var i=t(e.currentTarget),n=i.data("date"),r=new Date(n);this.o.updateViewDate&&(r.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),r.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(r)},navArrowsClick:function(e){var i=t(e.currentTarget),n=i.hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*v.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(v.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!o(t))return this.o.defaultViewDate;if(!e)return t;var i,n,r=new Date(t.valueOf()),s=r.getUTCDate(),a=r.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)n=-1===e?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==i},i=a+e,r.setUTCMonth(i),i=(i+12)%12;else{for(var h=0;h<l;h++)r=this.moveMonth(r,e);i=r.getUTCMonth(),r.setUTCDate(s),n=function(){return i!==r.getUTCMonth()}}for(;n();)r.setUTCDate(--s),r.setUTCMonth(i);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation()));var e,i,n=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(r,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+v.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(e,i){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,this.keepEmptyValues=i.keepEmptyValues,delete i.keepEmptyValues,f.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(i){if(!this.updating){this.updating=!0;var n=t.data(i.target,"datepicker");if(n!==e){var r=n.getUTCDate(),s=this.keepEmptyValues,o=t.inArray(i.target,this.inputs),a=o-1,l=o+1,h=this.inputs.length;if(-1!==o){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==n&&s||e.setUTCDate(r)}),r<this.dates[a])for(;a>=0&&r<this.dates[a];)this.pickers[a--].setUTCDate(r);else if(r>this.dates[l])for(;l<h&&r>this.dates[l];)this.pickers[l++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var d=t.fn.datepicker,f=function(i){var n=Array.apply(null,arguments);n.shift();var r;if(this.each(function(){var e=t(this),s=e.data("datepicker"),o="object"==typeof i&&i;if(!s){var h=a(this,"date"),d=t.extend({},p,h,o),f=l(d.language),m=t.extend({},p,f,h,o);e.hasClass("input-daterange")||m.inputs?(t.extend(m,{inputs:m.inputs||e.find("input").toArray()}),s=new u(this,m)):s=new c(this,m),e.data("datepicker",s)}"string"==typeof i&&"function"==typeof s[i]&&(r=s[i].apply(s,n))}),r===e||r instanceof c||r instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return r};t.fn.datepicker=f;var p=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},m=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,r,s,o){function a(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function l(){var t=this.slice(0,h[f].length),e=h[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!i)return e;if(i instanceof Date)return i;if("string"==typeof r&&(r=v.parseFormat(r)),r.toValue)return r.toValue(i,r,s);var h,u,d,f,p,m={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},y={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(i in y&&(i=y[i]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){for(h=i.match(/([\-+]\d+)([dmwy])/gi),i=new Date,f=0;f<h.length;f++)u=h[f].match(/([\-+]\d+)([dmwy])/i),d=Number(u[1]),p=m[u[2].toLowerCase()],i=c.prototype[p](i,d);return c.prototype._zero_utc_time(i)}h=i&&i.match(this.nonpunctuation)||[];var b,w,x={},_=["yyyy","yy","M","MM","m","mm","d","dd"],C={yyyy:function(t,e){return t.setUTCFullYear(o?a(e,o):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};C.yy=C.yyyy,C.M=C.MM=C.mm=C.m,C.dd=C.d,i=n();var k=r.parts.slice();if(h.length!==k.length&&(k=t(k).filter(function(e,i){return-1!==t.inArray(i,_)}).toArray()),h.length===k.length){var S;for(f=0,S=k.length;f<S;f++){if(b=parseInt(h[f],10),u=k[f],isNaN(b))switch(u){case"MM":w=t(g[s].months).filter(l),b=t.inArray(w[0],g[s].months)+1;break;case"M":w=t(g[s].monthsShort).filter(l),b=t.inArray(w[0],g[s].monthsShort)+1}x[u]=b}var T,A;for(f=0;f<_.length;f++)(A=_[f])in x&&!isNaN(x[A])&&(T=new Date(i),C[A](T,x[A]),isNaN(T)||(i=T))}return i},formatDate:function(e,i,n){if(!e)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,n);var r={d:e.getUTCDate(),D:g[n].daysShort[e.getUTCDay()],DD:g[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[n].monthsShort[e.getUTCMonth()],MM:g[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var s=t.extend([],i.separators),o=0,a=i.parts.length;o<=a;o++)s.length&&e.push(s.shift()),e.push(r[i.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t.fn.datepicker.version="1.7.1",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),f.call(i,"show"))}),t(function(){f.call(t('[data-provide="datepicker-inline"]'))})}),function(e){e.fn.extend({slimScroll:function(i){var n={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},r=e.extend(n,i);return this.each(function(){function n(t){if(h){var t=t||window.event,i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var n=t.target||t.srcTarget||t.srcElement;e(n).closest("."+r.wrapperClass).is(w.parent())&&s(i,!0),t.preventDefault&&!b&&t.preventDefault(),b||(t.returnValue=!1)}}function s(t,e,i){b=!1;var n=t,s=w.outerHeight()-T.outerHeight();if(e&&(n=parseInt(T.css("top"))+t*parseInt(r.wheelStep)/100*T.outerHeight(),n=Math.min(Math.max(n,0),s),n=t>0?Math.ceil(n):Math.floor(n),T.css({top:n+"px"})),m=parseInt(T.css("top"))/(w.outerHeight()-T.outerHeight()),n=m*(w[0].scrollHeight-w.outerHeight()),i){n=t;var o=n/w[0].scrollHeight*w.outerHeight();o=Math.min(Math.max(o,0),s),T.css({top:o+"px"})}w.scrollTop(n),w.trigger("slimscrolling",~~n),a(),l()}function o(){p=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),y),T.css({height:p+"px"});var t=p==w.outerHeight()?"none":"block";T.css({display:t})}function a(){if(o(),clearTimeout(d),m==~~m){if(b=r.allowPageScroll,g!=m){var t=0==~~m?"top":"bottom";w.trigger("slimscroll",t)}}else b=!1;if(g=m,p>=w.outerHeight())return void(b=!0);T.stop(!0,!0).fadeIn("fast"),r.railVisible&&S.stop(!0,!0).fadeIn("fast")}function l(){
r.alwaysVisible||(d=setTimeout(function(){r.disableFadeOut&&h||c||u||(T.fadeOut("slow"),S.fadeOut("slow"))},1e3))}var h,c,u,d,f,p,m,g,v="<div></div>",y=30,b=!1,w=e(this);if(w.parent().hasClass(r.wrapperClass)){var x=w.scrollTop();if(T=w.siblings("."+r.barClass),S=w.siblings("."+r.railClass),o(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){w.parent().css("height","auto"),w.css("height","auto");var _=w.parent().parent().height();w.parent().css("height",_),w.css("height",_)}else if("height"in i){var C=i.height;w.parent().css("height",C),w.css("height",C)}if("scrollTo"in i)x=parseInt(r.scrollTo);else if("scrollBy"in i)x+=parseInt(r.scrollBy);else if("destroy"in i)return T.remove(),S.remove(),void w.unwrap();s(x,!1,!0)}}else if(!(e.isPlainObject(i)&&"destroy"in i)){r.height="auto"==r.height?w.parent().height():r.height;var k=e(v).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});w.css({overflow:"hidden",width:r.width,height:r.height});var S=e(v).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),T=e(v).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),A="right"==r.position?{right:r.distance}:{left:r.distance};S.css(A),T.css(A),w.wrap(k),w.parent().append(T),w.parent().append(S),r.railDraggable&&T.bind("mousedown",function(i){var n=e(document);return u=!0,t=parseFloat(T.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,T.css("top",currTop),s(0,T.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){u=!1,l(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),S.hover(function(){a()},function(){l()}),T.hover(function(){c=!0},function(){c=!1}),w.hover(function(){h=!0,a(),l()},function(){h=!1,l()}),w.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(t){if(b||t.originalEvent.preventDefault(),t.originalEvent.touches.length){s((f-t.originalEvent.touches[0].pageY)/r.touchScrollStep,!0),f=t.originalEvent.touches[0].pageY}}),o(),"bottom"===r.start?(T.css({top:w.outerHeight()-T.outerHeight()}),s(0,!0)):"top"!==r.start&&(s(e(r.start).position().top,null,!0),r.alwaysVisible||T.hide()),function(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",n,!1),t.addEventListener("mousewheel",n,!1)):document.attachEvent("onmousewheel",n)}(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return t.get.call(this)},set:function(e){return t.set.call(this,e)}})}(),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};!function(t,e){"function"==typeof define&&define.amd?define(t):e.rangy=t()}(function(){function t(t,e){var i=typeof t[e];return i==y||!(i!=v||!t[e])||"unknown"==i}function e(t,e){return!(typeof t[e]!=v||!t[e])}function i(t,e){return typeof t[e]!=b}function n(t){return function(e,i){for(var n=i.length;n--;)if(!t(e,i[n]))return!1;return!0}}function r(t){return t&&k(t,C)&&T(t,_)}function s(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function o(i){e(window,"console")&&t(window.console,"log")&&window.console.log(i)}function a(t,e){e?window.alert(t):o(t)}function l(t){D.initialized=!0,D.supported=!1,a("Rangy is not supported on this page in your browser. Reason: "+t,D.config.alertOnFail)}function h(t){a("Rangy warning: "+t,D.config.alertOnWarn)}function c(t){return t.message||t.description||String(t)}function u(){if(!D.initialized){var e,i=!1,n=!1;t(document,"createRange")&&(e=document.createRange(),k(e,x)&&T(e,w)&&(i=!0));var a=s(document);if(!a||"body"!=a.nodeName.toLowerCase())return void l("No body element found");if(a&&t(a,"createTextRange")&&(e=a.createTextRange(),r(e)&&(n=!0)),!i&&!n)return void l("Neither Range nor TextRange are available");D.initialized=!0,D.features={implementsDomRange:i,implementsTextRange:n};var h,u;for(var d in A)(h=A[d])instanceof f&&h.init(h,D);for(var p=0,m=N.length;p<m;++p)try{N[p](D)}catch(t){u="Rangy init listener threw an exception. Continuing. Detail: "+c(t),o(u)}}}function d(t){t=t||window,u();for(var e=0,i=I.length;e<i;++e)I[e](t)}function f(t,e,i){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=i}function p(t,e,i,n){var r=new f(e,i,function(t){if(!t.initialized){t.initialized=!0;try{n(D,t),t.supported=!0}catch(t){var i="Module '"+e+"' failed to load: "+c(t);o(i)}}});A[e]=r}function m(){}function g(){}var v="object",y="function",b="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],x=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],_=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],C=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],k=n(t),S=n(e),T=n(i),A={},D={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:i,areHostMethods:k,areHostObjects:S,areHostProperties:T,isTextRange:r,getBody:s},features:{},modules:A,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==b||rangyAutoInitialize}};D.fail=l,D.warn=h,!{}.hasOwnProperty?l("hasOwnProperty not supported"):D.util.extend=function(t,e,i){var n,r;for(var s in e)e.hasOwnProperty(s)&&(n=t[s],r=e[s],i&&null!==n&&"object"==typeof n&&null!==r&&"object"==typeof r&&D.util.extend(n,r,!0),t[s]=r);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},function(){var t=document.createElement("div");t.appendChild(document.createElement("span"));var e,i=[].slice;try{1==i.call(t.childNodes,0)[0].nodeType&&(e=function(t){return i.call(t,0)})}catch(t){}e||(e=function(t){for(var e=[],i=0,n=t.length;i<n;++i)e[i]=t[i];return e}),D.util.toArray=e}();var E;t(document,"addEventListener")?E=function(t,e,i){t.addEventListener(e,i,!1)}:t(document,"attachEvent")?E=function(t,e,i){t.attachEvent("on"+e,i)}:l("Document does not have required addEventListener or attachEvent method"),D.util.addListener=E;var N=[];D.init=u,D.addInitListener=function(t){D.initialized?t(D):N.push(t)};var I=[];D.addShimListener=function(t){I.push(t)},D.shim=D.createMissingNativeApi=d,f.prototype={init:function(){for(var t,e,i=this.dependencies||[],n=0,r=i.length;n<r;++n){if(e=i[n],!((t=A[e])&&t instanceof f))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+t)},warn:function(t){D.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){D.warn("DEPRECATED: "+t+" in module "+this.name+"is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},D.createModule=function(t){var e,i;2==arguments.length?(e=arguments[1],i=[]):(e=arguments[2],i=arguments[1]);var n=p(!1,t,i,e);D.initialized&&n.init()},D.createCoreModule=function(t,e,i){p(!0,t,e,i)},D.RangePrototype=m,D.rangePrototype=new m,D.selectionPrototype=new g;var M=!1,O=function(t){M||(M=!0,!D.initialized&&D.config.autoInitialize&&u())};return typeof window==b?void l("No window found"):typeof document==b?void l("No document found"):(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",O,!1),E(window,"load",O),D.createCoreModule("DomUtil",[],function(t,e){function i(t){var e;return typeof t.namespaceURI==E||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function n(t){var e=t.parentNode;return 1==e.nodeType?e:null}function r(t){for(var e=0;t=t.previousSibling;)++e;return e}function s(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function o(t,e){var i,n=[];for(i=t;i;i=i.parentNode)n.push(i);for(i=e;i;i=i.parentNode)if(O(n,i))return i;return null}function a(t,e,i){for(var n=i?e:e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}function l(t,e){return a(t,e,!0)}function h(t,e,i){for(var n,r=i?t:t.parentNode;r;){if((n=r.parentNode)===e)return r;r=n}return null}function c(t){var e=t.nodeType;return 3==e||4==e||8==e}function u(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function d(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t}function f(t,e,i){var n=t.cloneNode(!1);if(n.deleteData(0,e),t.deleteData(e,t.length-e),d(n,t),i)for(var s,o=0;s=i[o++];)s.node==t&&s.offset>e?(s.node=n,s.offset-=e):s.node==t.parentNode&&s.offset>r(t)&&++s.offset;return n}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=E)return t.ownerDocument;if(typeof t.document!=E)return t.document;if(t.parentNode)return p(t.parentNode);throw e.createError("getDocument: no document found for node")}function m(t){var i=p(t);if(typeof i.defaultView!=E)return i.defaultView;if(typeof i.parentWindow!=E)return i.parentWindow;throw e.createError("Cannot get a window object for node")}function g(t){if(typeof t.contentDocument!=E)return t.contentDocument;if(typeof t.contentWindow!=E)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function v(t){if(typeof t.contentWindow!=E)return t.contentWindow;if(typeof t.contentDocument!=E)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")}function y(t){return t&&N.isHostMethod(t,"setTimeout")&&N.isHostObject(t,"document")}function b(t,e,i){var n;if(t?N.isHostProperty(t,"nodeType")?n=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?g(t):p(t):y(t)&&(n=t.document):n=document,!n)throw e.createError(i+"(): Parameter must be a Window object or DOM node");return n}function w(t){for(var e;e=t.parentNode;)t=e;return t}function x(t,i,n,s){var a,l,c,u,d;if(t==n)return i===s?0:i<s?-1:1;if(a=h(n,t,!0))return i<=r(a)?-1:1;if(a=h(t,n,!0))return r(a)<s?-1:1;if(!(l=o(t,n)))throw new Error("comparePoints error: nodes have no common ancestor");if(c=t===l?l:h(t,l,!0),u=n===l?l:h(n,l,!0),c===u)throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=l.firstChild;d;){if(d===c)return-1;if(d===u)return 1;d=d.nextSibling}}function _(t){try{return t.parentNode,!1}catch(t){return!0}}function C(t){if(!t)return"[No node]";if(P&&_(t))return"[Broken node]";if(c(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+r(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function k(t){for(var e,i=p(t).createDocumentFragment();e=t.firstChild;)i.appendChild(e);return i}function S(t){this.root=t,this._next=t}function T(t){return new S(t)}function A(t,e){this.node=t,this.offset=e}function D(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var E="undefined",N=t.util;N.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),N.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var I=document.createElement("div");N.areHostMethods(I,["insertBefore","appendChild","cloneNode"]||!N.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),N.isHostProperty(I,"innerHTML")||e.fail("Element is missing innerHTML property");var M=document.createTextNode("test");N.areHostMethods(M,["splitText","deleteData","insertData","appendData","cloneNode"]||!N.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"])||!N.areHostProperties(M,["data"]))||e.fail("Incomplete Text Node implementation");var O=function(t,e){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1},P=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var i=e.firstChild;e.innerHTML="<br>",P=_(i),t.features.crashyTextNodes=P}();var R;typeof window.getComputedStyle!=E?R=function(t,e){return m(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=E?R=function(t,e){return t.currentStyle[e]}:e.fail("No means of obtaining computed style properties found"),S.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,i=this._current=this._next;if(this._current)if(t=i.firstChild)this._next=t;else{for(e=null;i!==this.root&&!(e=i.nextSibling);)i=i.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},A.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},D.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},D.prototype.toString=function(){return this.message},t.dom={arrayContains:O,isHtmlNamespace:i,parentElement:n,getNodeIndex:r,getNodeLength:s,getCommonAncestor:o,isAncestorOf:a,isOrIsAncestorOf:l,getClosestAncestorIn:h,isCharacterDataNode:c,isTextOrCommentNode:u,insertAfter:d,splitDataNode:f,getDocument:p,getWindow:m,getIframeWindow:v,getIframeDocument:g,getBody:N.getBody,isWindow:y,getContentDocument:b,getRootContainer:w,comparePoints:x,isBrokenNode:_,inspectNode:C,getComputedStyleProperty:R,fragmentFromNodeChildren:k,createIterator:T,DomPosition:A},t.DOMException=D}),D.createCoreModule("DomRange",["DomUtil"],function(t,e){function i(t,e){return 3!=t.nodeType&&(B(t,e.startContainer)||B(t,e.endContainer))}function n(t){return t.document||F(t.startContainer)}function r(t){return new L(t.parentNode,W(t))}function s(t){return new L(t.parentNode,W(t)+1)}function o(t,e,i){var n=11==t.nodeType?t.firstChild:t;return q(e)?i==e.length?R.insertAfter(t,e):e.parentNode.insertBefore(t,0==i?e:Y(e,i)):i>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[i]),n}function a(t,e,i){if(S(t),S(e),n(e)!=n(t))throw new H("WRONG_DOCUMENT_ERR");var r=z(t.startContainer,t.startOffset,e.endContainer,e.endOffset),s=z(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return i?r<=0&&s>=0:r<0&&s>0}function l(t){for(var e,i,r,s=n(t.range).createDocumentFragment();i=t.next();){if(e=t.isPartiallySelectedSubtree(),i=i.cloneNode(!e),e&&(r=t.getSubtreeIterator(),i.appendChild(l(r)),r.detach()),10==i.nodeType)throw new H("HIERARCHY_REQUEST_ERR");s.appendChild(i)}return s}function h(t,e,i){var n,r;i=i||{stop:!1};for(var s,o;s=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(s))return void(i.stop=!0);if(o=t.getSubtreeIterator(),h(o,e,i),o.detach(),i.stop)return}else for(n=R.createIterator(s);r=n.next();)if(!1===e(r))return void(i.stop=!0)}function c(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),c(e),e.detach()):t.remove()}function u(t){for(var e,i,r=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),i=t.getSubtreeIterator(),e.appendChild(u(i)),i.detach()):t.remove(),10==e.nodeType)throw new H("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function d(t,e,i){var n,r=!(!e||!e.length),s=!!i;r&&(n=new RegExp("^("+e.join("|")+")$"));var o=[];return h(new p(t,!1),function(e){if((!r||n.test(e.nodeType))&&(!s||i(e))){var a=t.startContainer;if(e!=a||!q(a)||t.startOffset!=a.length){var l=t.endContainer;e==l&&q(l)&&0==t.endOffset||o.push(e)}}}),o}function f(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+R.inspectNode(t.startContainer)+":"+t.startOffset+", "+R.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function p(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var i=t.commonAncestorContainer;this.sc===this.ec&&q(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||q(this.sc)?U(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||q(this.ec)?U(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function m(t){return function(e,i){for(var n,r=i?e:e.parentNode;r;){if(n=r.nodeType,V(t,n))return r;r=r.parentNode}return null}}function g(t,e){if(nt(t,e))throw new H("INVALID_NODE_TYPE_ERR")}function v(t,e){if(!V(e,t.nodeType))throw new H("INVALID_NODE_TYPE_ERR")}function y(t,e){if(e<0||e>(q(t)?t.length:t.childNodes.length))throw new H("INDEX_SIZE_ERR")}function b(t,e){if(et(t,!0)!==et(e,!0))throw new H("WRONG_DOCUMENT_ERR")}function w(t){if(it(t,!0))throw new H("NO_MODIFICATION_ALLOWED_ERR")}function x(t,e){if(!t)throw new H(e)}function _(t){return X&&R.isBrokenNode(t)||!V(Q,t.nodeType)&&!et(t,!0)}function C(t,e){return e<=(q(t)?t.length:t.childNodes.length)}function k(t){return!!t.startContainer&&!!t.endContainer&&!_(t.startContainer)&&!_(t.endContainer)&&C(t.startContainer,t.startOffset)&&C(t.endContainer,t.endOffset)}function S(t){if(!k(t))throw new Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function T(t,e){S(t);var i=t.startContainer,n=t.startOffset,r=t.endContainer,s=t.endOffset,o=i===r;q(r)&&s>0&&s<r.length&&Y(r,s,e),q(i)&&n>0&&n<i.length&&(i=Y(i,n,e),o?(s-=n,r=i):r==i.parentNode&&s>=W(i)&&s++,n=0),t.setStartAndEnd(i,n,r,s)}function A(t){S(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function D(t){t.START_TO_START=lt,t.START_TO_END=ht,t.END_TO_END=ct,t.END_TO_START=ut,t.NODE_BEFORE=dt,t.NODE_AFTER=ft,t.NODE_BEFORE_AND_AFTER=pt,t.NODE_INSIDE=mt}function E(t){D(t),D(t.prototype)}function N(t,e){return function(){S(this);var i,n,r=this.startContainer,o=this.startOffset,a=this.commonAncestorContainer,l=new p(this,!0);r!==a&&(i=U(r,a,!0),n=s(i),r=n.node,o=n.offset),h(l,w),l.reset();var c=t(l);return l.detach(),e(this,r,o,r,o),c}}function I(e,n){function o(t,e){return function(i){v(i,K),v(G(i),Q);var n=(t?r:s)(i);(e?a:l)(this,n.node,n.offset)}}function a(t,e,i){var r=t.endContainer,s=t.endOffset;e===t.startContainer&&i===t.startOffset||(G(e)==G(r)&&1!=z(e,i,r,s)||(r=e,s=i),n(t,e,i,r,s))}function l(t,e,i){var r=t.startContainer,s=t.startOffset;e===t.endContainer&&i===t.endOffset||(G(e)==G(r)&&-1!=z(e,i,r,s)||(r=e,s=i),n(t,r,s,e,i))}var h=function(){};h.prototype=t.rangePrototype,e.prototype=new h,j.extend(e.prototype,{setStart:function(t,e){g(t,!0),y(t,e),a(this,t,e)},setEnd:function(t,e){g(t,!0),y(t,e),l(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],i=t[1],r=e,s=i;switch(t.length){case 3:s=t[2];break;case 4:r=t[2],s=t[3]}n(this,e,i,r,s)},setBoundary:function(t,e,i){this["set"+(i?"Start":"End")](t,e)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(t){S(this),t?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){g(t,!0),n(this,t,0,t,$(t))},selectNode:function(t){g(t,!1),v(t,K);var e=r(t),i=s(t);n(this,e.node,e.offset,i.node,i.offset)},extractContents:N(u,n),deleteContents:N(c,n),canSurroundContents:function(){S(this),w(this.startContainer),w(this.endContainer);var t=new p(this,!0),e=t._first&&i(t._first,this)||t._last&&i(t._last,this);return t.detach(),!e},splitBoundaries:function(){T(this)},splitBoundariesPreservingPositions:function(t){T(this,t)},normalizeBoundaries:function(){S(this);var t=this.startContainer,e=this.startOffset,i=this.endContainer,r=this.endOffset,s=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(i=t,r=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},o=function(n){var s=n.previousSibling;if(s&&s.nodeType==n.nodeType){t=n;var o=n.length;if(e=s.length,n.insertData(0,s.data),s.parentNode.removeChild(s),t==i)r+=e,i=t;else if(i==n.parentNode){var a=W(n);r==a?(i=n,r=o):r>a&&r--}}},a=!0;if(q(i))i.length==r&&s(i);else{if(r>0){var l=i.childNodes[r-1];l&&q(l)&&s(l)}a=!this.collapsed}if(a){if(q(t))0==e&&o(t);else if(e<t.childNodes.length){var h=t.childNodes[e];h&&q(h)&&o(h)}}else t=i,e=r;n(this,t,e,i,r)},collapseToPoint:function(t,e){g(t,!0),y(t,e),this.setStartAndEnd(t,e)}}),E(e)}function M(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:R.getCommonAncestor(t.startContainer,t.endContainer)}function O(t,e,i,n,r){t.startContainer=e,t.startOffset=i,t.endContainer=n,t.endOffset=r,t.document=R.getDocument(e),M(t)}function P(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,M(this)}var R=t.dom,j=t.util,L=R.DomPosition,H=t.DOMException,q=R.isCharacterDataNode,W=R.getNodeIndex,B=R.isOrIsAncestorOf,F=R.getDocument,z=R.comparePoints,Y=R.splitDataNode,U=R.getClosestAncestorIn,$=R.getNodeLength,V=R.arrayContains,G=R.getRootContainer,X=t.features.crashyTextNodes;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,q(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,i=this._current;!q(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(t=i===this.sc?this.so:0,e=i===this.ec?this.eo:i.length,t!=e&&i.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){return i(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse(!1);else{t=new P(n(this.range));var e=this._current,i=e,r=0,s=e,o=$(e);B(e,this.sc)&&(i=this.sc,r=this.so),B(e,this.ec)&&(s=this.ec,o=this.eo),O(t,i,r,s,o)}return new p(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var K=[1,3,4,5,7,8,10],Q=[2,9,11],J=[5,6,10,12],Z=[1,3,4,5,7,8,10,11],tt=[1,3,4,5,7,8],et=m([9,11]),it=m(J),nt=m([6,10,12]),rt=document.createElement("style"),st=!1;try{rt.innerHTML="<b>x</b>",st=3==rt.firstChild.nodeType}catch(t){}t.features.htmlParsingConforms=st;var ot=st?function(t){var e=this.startContainer,i=F(e);if(!e)throw new H("INVALID_STATE_ERR");var n=null;return 1==e.nodeType?n=e:q(e)&&(n=R.parentElement(e)),n=null===n||"HTML"==n.nodeName&&R.isHtmlNamespace(F(n).documentElement)&&R.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=t,R.fragmentFromNodeChildren(n)}:function(t){var e=n(this),i=e.createElement("body");return i.innerHTML=t,R.fragmentFromNodeChildren(i)},at=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],lt=0,ht=1,ct=2,ut=3,dt=0,ft=1,pt=2,mt=3;j.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){S(this),b(this.startContainer,e.startContainer);var i,n,r,s,o=t==ut||t==lt?"start":"end",a=t==ht||t==lt?"start":"end";return i=this[o+"Container"],n=this[o+"Offset"],r=e[a+"Container"],s=e[a+"Offset"],z(i,n,r,s)},insertNode:function(t){if(S(this),v(t,Z),w(this.startContainer),B(t,this.startContainer))throw new H("HIERARCHY_REQUEST_ERR");var e=o(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){S(this);var t,e;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&q(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=n(this).createDocumentFragment(),e.appendChild(t),e;var i=new p(this,!0);return t=l(i),i.detach(),t},canSurroundContents:function(){S(this),w(this.startContainer),w(this.endContainer);var t=new p(this,!0),e=t._first&&i(t._first,this)||t._last&&i(t._last,this);return t.detach(),!e},surroundContents:function(t){if(v(t,tt),!this.canSurroundContents())throw new H("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);o(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){S(this);for(var t,e=new P(n(this)),i=at.length;i--;)t=at[i],e[t]=this[t];return e},toString:function(){S(this);var t=this.startContainer;if(t===this.endContainer&&q(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],i=new p(this,!0);return h(i,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),i.detach(),e.join("")},compareNode:function(t){S(this);var e=t.parentNode,i=W(t);if(!e)throw new H("NOT_FOUND_ERR");var n=this.comparePoint(e,i),r=this.comparePoint(e,i+1);return n<0?r>0?pt:dt:r>0?ft:mt},comparePoint:function(t,e){return S(this),x(t,"HIERARCHY_REQUEST_ERR"),b(t,this.startContainer),z(t,e,this.startContainer,this.startOffset)<0?-1:z(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ot,toHtml:function(){return A(this)},intersectsNode:function(t,e){if(S(this),x(t,"NOT_FOUND_ERR"),F(t)!==n(this))return!1;var i=t.parentNode,r=W(t);x(i,"NOT_FOUND_ERR");var s=z(i,r,this.endContainer,this.endOffset),o=z(i,r+1,this.startContainer,this.startOffset);return e?s<=0&&o>=0:s<0&&o>0},isPointInRange:function(t,e){return S(this),x(t,"HIERARCHY_REQUEST_ERR"),b(t,this.startContainer),z(t,e,this.startContainer,this.startOffset)>=0&&z(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return a(this,t,!1)},intersectsOrTouchesRange:function(t){return a(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=z(this.startContainer,this.startOffset,t.startContainer,t.startOffset),i=z(this.endContainer,this.endOffset,t.endContainer,t.endOffset),n=this.cloneRange();return-1==e&&n.setStart(t.startContainer,t.startOffset),1==i&&n.setEnd(t.endContainer,t.endOffset),n}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==z(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==z(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new H("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==mt},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,$(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var i=e.getNodes([3]);if(i.length>0){e.setStart(i[0],0);var n=i.pop();return e.setEnd(n,n.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return S(this),d(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var i=n(this),r=t.createRange(i);e=e||R.getBody(i),r.selectNodeContents(e);var s=this.intersection(r),o=0,a=0;return s&&(r.setEnd(s.startContainer,s.startOffset),o=r.toString().length,a=o+s.toString().length),{start:o,end:a,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,i=0;this.setStart(e,0),this.collapse(!0);for(var n,r,s,o,a=[e],l=!1,h=!1;!h&&(n=a.pop());)if(3==n.nodeType)r=i+n.length,!l&&t.start>=i&&t.start<=r&&(this.setStart(n,t.start-i),l=!0),l&&t.end>=i&&t.end<=r&&(this.setEnd(n,t.end-i),h=!0),i=r;else for(o=n.childNodes,s=o.length;s--;)a.push(o[s])},getName:function(){return"DomRange"},equals:function(t){return P.rangesEqual(this,t)},isValid:function(){return k(this)},inspect:function(){return f(this)},detach:function(){}}),I(P,O),j.extend(P,{rangeProperties:at,RangeIterator:p,copyComparisonConstants:E,createPrototypeRange:I,inspect:f,toHtml:A,getRangeDocument:n,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=P}),D.createCoreModule("WrappedRange",["DomRange"],function(t,e){var i,n,r=t.dom,s=t.util,o=r.DomPosition,a=t.DomRange,l=r.getBody,h=r.getContentDocument,c=r.isCharacterDataNode;if(t.features.implementsDomRange&&function(){function n(t){for(var e,i=d.length;i--;)e=d[i],t[e]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function o(t,e,i,n,r){var s=t.startContainer!==e||t.startOffset!=i,o=t.endContainer!==n||t.endOffset!=r,a=!t.equals(t.nativeRange);(s||o||a)&&(t.setEnd(n,r),t.setStart(e,i))}var c,u,d=a.rangeProperties;i=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,n(this)},a.createPrototypeRange(i,o),c=i.prototype,c.selectNode=function(t){this.nativeRange.selectNode(t),n(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(t){this.nativeRange.surroundContents(t),n(this)},c.collapse=function(t){this.nativeRange.collapse(t),n(this)},c.cloneRange=function(){return new i(this.nativeRange.cloneRange())},c.refresh=function(){n(this)},c.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test");l(document).appendChild(f);var p=document.createRange();p.setStart(f,0),p.setEnd(f,0);try{p.setStart(f,1),c.setStart=function(t,e){this.nativeRange.setStart(t,e),n(this)},c.setEnd=function(t,e){this.nativeRange.setEnd(t,e),n(this)},u=function(t){return function(e){this.nativeRange[t](e),n(this)}}}catch(t){c.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(i){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}n(this)},c.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(i){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}n(this)},u=function(t,e){return function(i){try{this.nativeRange[t](i)}catch(n){this.nativeRange[e](i),this.nativeRange[t](i)}n(this)}}}c.setStartBefore=u("setStartBefore","setEndBefore"),c.setStartAfter=u("setStartAfter","setEndAfter"),c.setEndBefore=u("setEndBefore","setStartBefore"),c.setEndAfter=u("setEndAfter","setStartAfter"),c.selectNodeContents=function(t){this.setStartAndEnd(t,0,r.getNodeLength(t))},p.selectNodeContents(f),p.setEnd(f,3);var m=document.createRange();m.selectNodeContents(f),m.setEnd(f,4),m.setStart(f,2),-1==p.compareBoundaryPoints(p.START_TO_END,m)&&1==p.compareBoundaryPoints(p.END_TO_START,m)?c.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,
t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:c.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var g=document.createElement("div");g.innerHTML="123";var v=g.firstChild,y=l(document);y.appendChild(g),p.setStart(v,1),p.setEnd(v,2),p.deleteContents(),"13"==v.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),n(this)},c.extractContents=function(){var t=this.nativeRange.extractContents();return n(this),t}),y.removeChild(g),y=null,s.isHostMethod(p,"createContextualFragment")&&(c.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l(document).removeChild(f),c.getName=function(){return"WrappedRange"},t.WrappedRange=i,t.createNativeRange=function(t){return t=h(t,e,"createNativeRange"),t.createRange()}}(),t.features.implementsTextRange){var u=function(t){var e=t.parentElement(),i=t.duplicate();i.collapse(!0);var n=i.parentElement();i=t.duplicate(),i.collapse(!1);var s=i.parentElement(),o=n==s?n:r.getCommonAncestor(n,s);return o==e?o:r.getCommonAncestor(e,o)},d=function(t){return 0==t.compareEndPoints("StartToEnd",t)},f=function(t,e,i,n,s){var a=t.duplicate();a.collapse(i);var l=a.parentElement();if(r.isOrIsAncestorOf(e,l)||(l=e),!l.canHaveHTML){var h=new o(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:h,nodeInfo:{nodeIndex:h.offset,containerElement:h.node}}}var u=r.getDocument(l).createElement("span");u.parentNode&&u.parentNode.removeChild(u);for(var d,f,p,m,g,v=i?"StartToStart":"StartToEnd",y=s&&s.containerElement==l?s.nodeIndex:0,b=l.childNodes.length,w=b,x=w;;){if(x==b?l.appendChild(u):l.insertBefore(u,l.childNodes[x]),a.moveToElementText(u),0==(d=a.compareEndPoints(v,t))||y==w)break;if(-1==d){if(w==y+1)break;y=x}else w=w==y+1?y:x;x=Math.floor((y+w)/2),l.removeChild(u)}if(g=u.nextSibling,-1==d&&g&&c(g)){a.setEndPoint(i?"EndToStart":"EndToEnd",t);var _;if(/[\r\n]/.test(g.data)){var C=a.duplicate(),k=C.text.replace(/\r\n/g,"\r").length;for(_=C.moveStart("character",k);-1==(d=C.compareEndPoints("StartToEnd",C));)_++,C.moveStart("character",1)}else _=a.text.length;m=new o(g,_)}else f=(n||!i)&&u.previousSibling,p=(n||i)&&u.nextSibling,m=p&&c(p)?new o(p,0):f&&c(f)?new o(f,f.data.length):new o(l,r.getNodeIndex(u));return u.parentNode.removeChild(u),{boundaryPosition:m,nodeInfo:{nodeIndex:x,containerElement:l}}},p=function(t,e){var i,n,s,o,a=t.offset,h=r.getDocument(t.node),u=l(h).createTextRange(),d=c(t.node);return d?(i=t.node,n=i.parentNode):(o=t.node.childNodes,i=a<o.length?o[a]:null,n=t.node),s=h.createElement("span"),s.innerHTML="&#feff;",i?n.insertBefore(s,i):n.appendChild(s),u.moveToElementText(s),u.collapse(!e),n.removeChild(s),d&&u[e?"moveStart":"moveEnd"]("character",a),u};n=function(t){this.textRange=t,this.refresh()},n.prototype=new a(document),n.prototype.refresh=function(){var t,e,i,n=u(this.textRange);d(this.textRange)?e=t=f(this.textRange,n,!0,!0).boundaryPosition:(i=f(this.textRange,n,!0,!1),t=i.boundaryPosition,e=f(this.textRange,n,!1,!1,i.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},n.prototype.getName=function(){return"WrappedTextRange"},a.copyComparisonConstants(n);var m=function(t){if(t.collapsed)return p(new o(t.startContainer,t.startOffset),!0);var e=p(new o(t.startContainer,t.startOffset),!0),i=p(new o(t.endContainer,t.endOffset),!1),n=l(a.getRangeDocument(t)).createTextRange();return n.setEndPoint("StartToStart",e),n.setEndPoint("EndToEnd",i),n};if(n.rangeToTextRange=m,n.prototype.toTextRange=function(){return m(this)},t.WrappedTextRange=n,!t.features.implementsDomRange||t.config.preferTextRange){var g=function(){return this}();void 0===g.Range&&(g.Range=n),t.createNativeRange=function(t){return t=h(t,e,"createNativeRange"),l(t).createTextRange()},t.WrappedRange=n}}t.createRange=function(i){return i=h(i,e,"createRange"),new t.WrappedRange(t.createNativeRange(i))},t.createRangyRange=function(t){return t=h(t,e,"createRangyRange"),new a(t)},t.createIframeRange=function(i){return e.deprecationNotice("createIframeRange()","createRange(iframeEl)"),t.createRange(i)},t.createIframeRangyRange=function(i){return e.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),t.createRangyRange(i)},t.addShimListener(function(e){var i=e.document;void 0===i.createRange&&(i.createRange=function(){return t.createRange(i)}),i=e=null})}),D.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function i(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function n(t,i){if(t){if(T.isWindow(t))return t;if(t instanceof v)return t.win;var n=T.getContentDocument(t,e,i);return T.getWindow(n)}return window}function r(t){return n(t,"getWinSelection").getSelection()}function s(t){return n(t,"getDocSelection").document.selection}function o(t){var e=!1;return t.anchorNode&&(e=1==T.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function a(t,e,i){var n=i?"end":"start",r=i?"start":"end";t.anchorNode=e[n+"Container"],t.anchorOffset=e[n+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function l(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function h(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function c(e){var i;return e instanceof E?(i=t.createNativeRange(e.getDocument()),i.setEnd(e.endContainer,e.endOffset),i.setStart(e.startContainer,e.startOffset)):e instanceof N?i=e.nativeRange:O.implementsDomRange&&e instanceof T.getWindow(e.startContainer).Range&&(i=e),i}function u(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,i=t.length;e<i;++e)if(!T.isAncestorOf(t[0],t[e]))return!1;return!0}function d(t){var i=t.getNodes();if(!u(i))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return i[0]}function f(t){return!!t&&void 0!==t.text}function p(t,e){var i=new N(e);t._ranges=[i],a(t,i,!1),t.rangeCount=1,t.isCollapsed=i.collapsed}function m(e){if(e._ranges.length=0,"None"==e.docSelection.type)h(e);else{var i=e.docSelection.createRange();if(f(i))p(e,i);else{e.rangeCount=i.length;for(var n,r=P(i.item(0)),s=0;s<e.rangeCount;++s)n=t.createRange(r),n.selectNode(i.item(s)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,a(e,e._ranges[e.rangeCount-1],!1)}}}function g(t,i){for(var n=t.docSelection.createRange(),r=d(i),s=P(n.item(0)),o=R(s).createControlRange(),a=0,l=n.length;a<l;++a)o.add(n.item(a));try{o.add(r)}catch(t){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),m(t)}function v(t,e,i){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=i,this.refresh()}function y(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function b(t,e){for(var i,n,r=J.length;r--;)if(i=J[r],n=i.selection,"deleteAll"==e)y(n);else if(i.win==t)return"delete"==e?(J.splice(r,1),!0):n;return"deleteAll"==e&&(J.length=0),null}function w(t,i){for(var n,r=P(i[0].startContainer),s=R(r).createControlRange(),o=0,a=i.length;o<a;++o){n=d(i[o]);try{s.add(n)}catch(t){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}s.select(),m(t)}function x(t,e){if(t.win.document!=P(e))throw new I("WRONG_DOCUMENT_ERR")}function _(e){return function(i,n){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(e?"Start":"End")](i,n)):(r=t.createRange(this.win.document),r.setStartAndEnd(i,n)),this.setSingleRange(r,this.isBackward())}}function C(t){var e=[],i=new M(t.anchorNode,t.anchorOffset),n=new M(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var s=0,o=t.rangeCount;s<o;++s)e[s]=E.inspect(t.getRangeAt(s));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}t.config.checkSelectionRanges=!0;var k,S,T=t.dom,A=t.util,D=A.isHostMethod,E=t.DomRange,N=t.WrappedRange,I=t.DOMException,M=T.DomPosition,O=t.features,P=T.getDocument,R=T.getBody,j=E.rangesEqual,L=D(window,"getSelection"),H=A.isHostObject(document,"selection");O.implementsWinGetSelection=L,O.implementsDocSelection=H;var q=H&&(!L||t.config.preferTextRange);q?(k=s,t.isSelectionValid=function(t){var e=n(t,"isSelectionValid").document,i=e.selection;return"None"!=i.type||P(i.createRange().parentElement())==e}):L?(k=r,t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=k;var W=k(),B=t.createNativeRange(document),F=R(document),z=A.areHostProperties(W,["anchorNode","focusNode","anchorOffset","focusOffset"]);O.selectionHasAnchorAndFocus=z;var Y=D(W,"extend");O.selectionHasExtend=Y;var U="number"==typeof W.rangeCount;O.selectionHasRangeCount=U;var $=!1,V=!0,G=Y?function(e,i){var n=E.getRangeDocument(i),r=t.createRange(n);r.collapseToPoint(i.endContainer,i.endOffset),e.addRange(c(r)),e.extend(i.startContainer,i.startOffset)}:null;A.areHostMethods(W,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof W.rangeCount&&O.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var i=e.rangeCount,n=i>1,r=[],s=o(e),a=0;a<i;++a)r[a]=e.getRangeAt(a);var l=R(document),h=l.appendChild(document.createElement("div"));h.contentEditable="false";var c=h.appendChild(document.createTextNode("   ")),u=document.createRange();if(u.setStart(c,1),u.collapse(!0),e.addRange(u),V=1==e.rangeCount,e.removeAllRanges(),!n){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)$=!1;else{var f=u.cloneRange();u.setStart(c,0),f.setEnd(c,3),f.setStart(c,2),e.addRange(u),e.addRange(f),$=2==e.rangeCount}}for(l.removeChild(h),e.removeAllRanges(),a=0;a<i;++a)0==a&&s?G?G(e,r[a]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[a])):e.addRange(r[a])}}(),O.selectionSupportsMultipleRanges=$,O.collapsedNonEditableSelectionsSupported=V;var X,K=!1;F&&D(F,"createControlRange")&&(X=F.createControlRange(),A.areHostProperties(X,["item","add"])&&(K=!0)),O.implementsControlRange=K,S=z?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};var Q;D(W,"getRangeAt")?Q=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:z&&(Q=function(e){var i=P(e.anchorNode),n=t.createRange(i);return n.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),n}),v.prototype=t.selectionPrototype;var J=[],Z=function(t){if(t&&t instanceof v)return t.refresh(),t;t=n(t,"getNativeSelection");var e=b(t),i=k(t),r=H?s(t):null;return e?(e.nativeSelection=i,e.docSelection=r,e.refresh()):(e=new v(i,r,t),J.push({win:t,selection:e})),e};t.getSelection=Z,t.getIframeSelection=function(i){return e.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),t.getSelection(T.getIframeWindow(i))};var tt=v.prototype;if(!q&&z&&A.areHostMethods(W,["removeAllRanges","addRange"])){tt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),h(this)};var et=function(t,e){G(t.nativeSelection,e),t.refresh()};tt.addRange=U?function(e,n){if(K&&H&&"Control"==this.docSelection.type)g(this,e);else if(i(n)&&Y)et(this,e);else{var r;if($?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(c(e).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(t.config.checkSelectionRanges){var s=Q(this.nativeSelection,this.rangeCount-1);s&&!j(s,e)&&(e=new N(s))}this._ranges[this.rangeCount-1]=e,a(this,e,rt(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:function(t,e){i(e)&&Y?et(this,t):(this.nativeSelection.addRange(c(t)),this.refresh())},tt.setRanges=function(t){if(K&&H&&t.length>1)w(this,t);else{this.removeAllRanges();for(var e=0,i=t.length;e<i;++e)this.addRange(t[e])}}}else{if(!(D(W,"empty")&&D(B,"select")&&K&&q))return e.fail("No means of selecting a Range or TextRange was found"),!1;tt.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=P(this.anchorNode);else if("Control"==this.docSelection.type){var e=this.docSelection.createRange();e.length&&(t=P(e.item(0)))}if(t){R(t).createTextRange().select(),this.docSelection.empty()}}}catch(t){}h(this)},tt.addRange=function(e){"Control"==this.docSelection.type?g(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,e,!1))},tt.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?w(this,t):e&&this.addRange(t[0])}}tt.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new I("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()};var it;if(q)it=function(e){var i;t.isSelectionValid(e.win)?i=e.docSelection.createRange():(i=R(e.win.document).createTextRange(),i.collapse(!0)),"Control"==e.docSelection.type?m(e):f(i)?p(e,i):h(e)};else if(D(W,"getRangeAt")&&"number"==typeof W.rangeCount)it=function(e){if(K&&H&&"Control"==e.docSelection.type)m(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var i=0,n=e.rangeCount;i<n;++i)e._ranges[i]=new t.WrappedRange(e.nativeSelection.getRangeAt(i));a(e,e._ranges[e.rangeCount-1],rt(e.nativeSelection)),e.isCollapsed=S(e)}else h(e)};else{if(!z||"boolean"!=typeof W.isCollapsed||"boolean"!=typeof B.collapsed||!O.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;it=function(t){var e,i=t.nativeSelection;i.anchorNode?(e=Q(i,0),t._ranges=[e],t.rangeCount=1,l(t),t.isCollapsed=S(t)):h(t)}}tt.refresh=function(t){var e=t?this._ranges.slice(0):null,i=this.anchorNode,n=this.anchorOffset;if(it(this),t){var r=e.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=n)return!0;for(;r--;)if(!j(e[r],this._ranges[r]))return!0;return!1}};var nt=function(t,e){var i=t.getAllRanges();t.removeAllRanges();for(var n=0,r=i.length;n<r;++n)j(e,i[n])||t.addRange(i[n]);t.rangeCount||h(t)};tt.removeRange=K&&H?function(t){if("Control"==this.docSelection.type){for(var e,i=this.docSelection.createRange(),n=d(t),r=P(i.item(0)),s=R(r).createControlRange(),o=!1,a=0,l=i.length;a<l;++a)e=i.item(a),e!==n||o?s.add(i.item(a)):o=!0;s.select(),m(this)}else nt(this,t)}:function(t){nt(this,t)};var rt;!q&&z&&O.implementsDomRange?(rt=o,tt.isBackward=function(){return rt(this)}):rt=tt.isBackward=function(){return!1},tt.isBackwards=tt.isBackward,tt.toString=function(){for(var t=[],e=0,i=this.rangeCount;e<i;++e)t[e]=""+this._ranges[e];return t.join("")},tt.collapse=function(e,i){x(this,e);var n=t.createRange(e);n.collapseToPoint(e,i),this.setSingleRange(n),this.isCollapsed=!0},tt.collapseToStart=function(){if(!this.rangeCount)throw new I("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},tt.collapseToEnd=function(){if(!this.rangeCount)throw new I("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},tt.selectAllChildren=function(e){x(this,e);var i=t.createRange(e);i.selectNodeContents(e),this.setSingleRange(i)},tt.deleteFromDocument=function(){if(K&&H&&"Control"==this.docSelection.type){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();if(i.length){this.removeAllRanges();for(var n=0,r=i.length;n<r;++n)i[n].deleteContents();this.addRange(i[r-1])}}},tt.eachRange=function(t,e){for(var i=0,n=this._ranges.length;i<n;++i)if(t(this.getRangeAt(i)))return e},tt.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},tt.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},tt.callMethodOnEachRange=function(t,e){var i=[];return this.eachRange(function(n){i.push(n[t].apply(n,e))}),i},tt.setStart=_(!0),tt.setEnd=_(!1),t.rangePrototype.select=function(t){Z(this.getDocument()).setSingleRange(this,t)},tt.changeEachRange=function(t){var e=[],i=this.isBackward();this.eachRange(function(i){t(i),e.push(i)}),this.removeAllRanges(),i&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},tt.containsNode=function(t,e){return this.eachRange(function(i){return i.containsNode(t,e)},!0)||!1},tt.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},tt.moveToBookmark=function(e){for(var i,n,r=[],s=0;i=e.rangeBookmarks[s++];)n=t.createRange(this.win),n.moveToBookmark(i),r.push(n);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},tt.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(E.toHtml(e))}),t.join("")},O.implementsTextRange&&(tt.getNativeTextRange=function(){var i;if(i=this.docSelection){var n=i.createRange();if(f(n))return n;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),tt.getName=function(){return"WrappedSelection"},tt.inspect=function(){return C(this)},tt.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=C,v.isDirectionBackward=i,t.Selection=v,t.selectionPrototype=tt,t.addShimListener(function(t){void 0===t.getSelection&&(t.getSelection=function(){return Z(t)}),t=null})}),D)},this),function(t,e){"function"==typeof define&&define.amd?define(["rangy"],t):t(e.rangy)}(function(t){t.createModule("SaveRestore",["WrappedRange"],function(t,e){function i(t,e){return(e||document).getElementById(t)}function n(t,e){var i,n="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=p.getDocument(t.startContainer),s=t.cloneRange();return s.collapse(e),i=r.createElement("span"),i.id=n,i.style.lineHeight="0",i.style.display="none",i.className="rangySelectionBoundary",i.appendChild(r.createTextNode(m)),s.insertNode(i),i}function r(t,n,r,s){var o=i(r,t);o?(n[s?"setStartBefore":"setEndBefore"](o),o.parentNode.removeChild(o)):e.warn("Marker element has been removed. Cannot restore selection.")}function s(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function o(e,i){var r,s,o=t.DomRange.getRangeDocument(e),a=e.toString();return e.collapsed?(s=n(e,!1),{document:o,markerId:s.id,collapsed:!0}):(s=n(e,!1),r=n(e,!0),{document:o,startMarkerId:r.id,endMarkerId:s.id,collapsed:!1,backward:i,toString:function(){return"original text: '"+a+"', new text: '"+e.toString()+"'"}})}function a(n,s){var o=n.document;void 0===s&&(s=!0);var a=t.createRange(o);if(n.collapsed){var l=i(n.markerId,o);if(l){l.style.display="inline";var h=l.previousSibling;h&&3==h.nodeType?(l.parentNode.removeChild(l),a.collapseToPoint(h,h.length)):(a.collapseBefore(l),l.parentNode.removeChild(l))}else e.warn("Marker element has been removed. Cannot restore selection.")}else r(o,a,n.startMarkerId,!0),r(o,a,n.endMarkerId,!1);return s&&a.normalizeBoundaries(),a}function l(e,n){var r,a,l=[];e=e.slice(0),e.sort(s);for(var h=0,c=e.length;h<c;++h)l[h]=o(e[h],n);for(h=c-1;h>=0;--h)r=e[h],a=t.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(i(l[h].markerId,a)):(r.setEndBefore(i(l[h].endMarkerId,a)),r.setStartAfter(i(l[h].startMarkerId,a)));return l}function h(i){if(!t.isSelectionValid(i))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var n=t.getSelection(i),r=n.getAllRanges(),s=1==r.length&&n.isBackward(),o=l(r,s);return s?n.setSingleRange(r[0],"backward"):n.setRanges(r),{win:i,rangeInfos:o,restored:!1}}function c(t){for(var e=[],i=t.length,n=i-1;n>=0;n--)e[n]=a(t[n],!0);return e}function u(e,i){if(!e.restored){var n=e.rangeInfos,r=t.getSelection(e.win),s=c(n);1==n.length&&i&&t.features.selectionHasExtend&&n[0].backward?(r.removeAllRanges(),r.addRange(s[0],!0)):r.setRanges(s),e.restored=!0}}function d(t,e){var n=i(e,t);n&&n.parentNode.removeChild(n)}function f(t){for(var e,i=t.rangeInfos,n=0,r=i.length;n<r;++n)e=i[n],e.collapsed?d(t.doc,e.markerId):(d(t.doc,e.startMarkerId),d(t.doc,e.endMarkerId))}var p=t.dom,m="\ufeff";t.util.extend(t,{saveRange:o,restoreRange:a,saveRanges:l,restoreRanges:c,saveSelection:h,restoreSelection:u,removeMarkerElement:d,removeMarkers:f})})},this);var Base=function(){};Base.extend=function(t,e){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,t),n.base=function(){},delete Base._prototyping;var r=n.constructor,s=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==s)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return s.ancestor=this,s.extend=this.extend,s.forEach=this.forEach,s.implement=this.implement,s.prototype=n,s.toString=this.toString,s.valueOf=function(t){return"object"==t?s:r.valueOf()},i.call(s,e),"function"==typeof s.init&&s.init(),s},Base.prototype={extend:function(t,e){if(arguments.length>1){var i=this[t];if(i&&"function"==typeof e&&(!i.valueOf||i.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var n=e.valueOf();e=function(){var t=this.base||Base.prototype.base;this.base=i;var e=n.apply(this,arguments);return this.base=t,e},e.valueOf=function(t){return"object"==t?e:n},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var s={toSource:null},o=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=o[a++];)t[l]!=s[l]&&r.call(this,l,t[l]);for(var l in t)s[l]||r.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,i){for(var n in t)void 0===this.prototype[n]&&e.call(i,t[n],n,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function t(t){return+(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function e(t){return+(t.match(/android (\d+)/)||[void 0,0])[1]}function i(t,e){var i,n=-1;return"Microsoft Internet Explorer"==navigator.appName?i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),i&&null!=i.exec(navigator.userAgent)&&(n=parseFloat(RegExp.$1)),-1!==n&&(!t||(e?"<"===e?t<n:">"===e?t>n:"<="===e?t<=n:">="===e?t>=n:void 0:t===n))}var n=navigator.userAgent,r=document.createElement("div"),s=-1!==n.indexOf("Gecko")&&-1===n.indexOf("KHTML"),o=-1!==n.indexOf("AppleWebKit/"),a=-1!==n.indexOf("Chrome/"),l=-1!==n.indexOf("Opera/");return{USER_AGENT:n,supported:function(){var i=this.USER_AGENT.toLowerCase(),n="contentEditable"in r,s=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,o=document.querySelector&&document.querySelectorAll,a=this.isIos()&&t(i)<5||this.isAndroid()&&e(i)<4||-1!==i.indexOf("opera mobi")||-1!==i.indexOf("hpwos/");return n&&s&&o&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return i()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return i()},hasCurrentStyleProperty:function(){return"currentStyle"in r},hasHistoryIssue:function(){return s&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return s},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in r||function(){return r.setAttribute("on"+t,"return;"),"function"==typeof r["on"+t]}()},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(t){var e=t.createElement("div"),i="<article>foo</article>";return e.innerHTML=i,e.innerHTML.toLowerCase()===i},supportsCommand:function(){var t={formatBlock:i(10,"<="),insertUnorderedList:i(),insertOrderedList:i()},e={insertHTML:s};return function(i,n){if(!t[n]){try{return i.queryCommandSupported(n)}catch(t){}try{return i.queryCommandEnabled(n)}catch(t){return!!e[n]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return i()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return s||l||o},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return s||i()||l},autoScrollsToCaret:function(){return!o},autoClosesUnclosedTags:function(){var t,e,i=r.cloneNode(!1);return i.innerHTML="<p><div></div>",e=i.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(t){return(n.match(/Chrome\/(\d+)/)||[void 0,0])[1]>=11&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return i(9)&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return i()},hasProblemsSettingCaretAfterImg:function(){return i()},hasUndoInContextMenu:function(){return s||a||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return i()},createsNestedInvalidMarkupAfterPaste:function(){return o},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(Array.isArray(e)){for(var i=e.length;i--;)if(-1!==wysihtml5.lang.array(t).indexOf(e[i]))return!0;return!1}return-1!==wysihtml5.lang.array(t).indexOf(e)},indexOf:function(e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},without:function(e){e=wysihtml5.lang.array(e);for(var i=[],n=0,r=t.length;n<r;n++)e.contains(t[n])||i.push(t[n]);return i},get:function(){for(var e=0,i=t.length,n=[];e<i;e++)n.push(t[e]);return n},map:function(e,i){if(Array.prototype.map)return t.map(e,i);for(var n=t.length>>>0,r=new Array(n),s=0;s<n;s++)r[s]=e.call(i,t[s],s,t);return r},unique:function(){for(var e=[],i=t.length,n=0;n<i;)wysihtml5.lang.array(e).contains(t[n])||e.push(t[n]),n++;return e}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},off:function(t,e){this.events=this.events||{};var i,n,r=0;if(t){for(i=this.events[t]||[],n=[];r<i.length;r++)i[r]!==e&&e&&n.push(i[r]);this.events[t]=n}else this.events={};return this},fire:function(t,e){this.events=this.events||{};for(var i=this.events[t]||[],n=0;n<i.length;n++)i[n].call(this,e);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var i in e)t[i]=e[i];return this},get:function(){return t},clone:function(){var e,i={};for(e in t)i[e]=t[e];return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/,i=/[&<>"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(r){return r=String(r),{trim:function(){return r.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)r=this.replace("#{"+e+"}").by(t[e]);return r},replace:function(t){return{by:function(e){return r.split(t).join(e)}}},escapeHTML:function(){return r.replace(i,function(t){return n[t]})}}}}(),function(t){function e(t,e){return s(t,e)?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),o(t,e))}function i(t){return t.replace(l,function(t,e){var i=(e.match(h)||[])[1]||"",n=u[i];e=e.replace(h,""),e.split(n).length>e.split(i).length&&(e+=i,i="");var r=e,s=e;return e.length>c&&(s=s.substr(0,c)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+s+"</a>"+i})}function n(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}function r(e){var r=e.parentNode,s=t.lang.string(e.data).escapeHTML(),o=n(r.ownerDocument);for(o.innerHTML="<span></span>"+i(s),o.removeChild(o.firstChild);o.firstChild;)r.insertBefore(o.firstChild,e);r.removeChild(e)}function s(e,i){for(var n;e.parentNode;){if(e=e.parentNode,n=e.nodeName,e.className&&t.lang.array(e.className.split(" ")).contains(i))return!0;if(a.contains(n))return!0;if("body"===n)return!1}return!1}function o(e,i){if(!(a.contains(e.nodeName)||e.className&&t.lang.array(e.className.split(" ")).contains(i))){if(e.nodeType===t.TEXT_NODE&&e.data.match(l))return void r(e);for(var n=t.lang.array(e.childNodes).get(),s=n.length,h=0;h<s;h++)o(n[h],i);return e}}var a=t.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,h=/([^\w\/\-](,?))$/i,c=100,u={")":"(","]":"[","}":"{"};t.dom.autoLink=e,t.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(t){var e=t.dom;e.addClass=function(t,i){var n=t.classList;if(n)return n.add(i);e.hasClass(t,i)||(t.className+=" "+i)},e.removeClass=function(t,e){var i=t.classList;if(i)return i.remove(e);t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")},e.hasClass=function(t,e){var i=t.classList;if(i)return i.contains(e);var n=t.className;return n.length>0&&(n==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var i=t.createElement("li");return e.appendChild(i),i}function e(t,e){return t.createElement(e)}function i(i,n,r){if("UL"===i.nodeName||"OL"===i.nodeName||"MENU"===i.nodeName)return i;var s,o,a,l,h,c,u,d,f,p=i.ownerDocument,m=e(p,n),g=i.querySelectorAll("br"),v=g.length;for(f=0;f<v;f++)for(l=g[f];(h=l.parentNode)&&h!==i&&h.lastChild===l;){if("block"===wysihtml5.dom.getStyle("display").from(h)){h.removeChild(l);break}wysihtml5.dom.insert(l).after(l.parentNode)}for(s=wysihtml5.lang.array(i.childNodes).get(),o=s.length,f=0;f<o;f++)d=d||t(p,m),a=s[f],c="block"===wysihtml5.dom.getStyle("display").from(a),u="BR"===a.nodeName,!c||r&&wysihtml5.dom.hasClass(a,r)?u?d=d.firstChild?null:d:d.appendChild(a):(d=d.firstChild?t(p,m):d,d.appendChild(a),d=null);return 0===s.length&&t(p,m),i.parentNode.replaceChild(m,i),m}return i}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(i){for(var n,r=0,s=t.length;r<s;r++)n=t[r],void 0!==e[n]&&""!==e[n]&&(i[n]=e[n]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],i=function(e){return!!n(e)&&parseInt(t.getStyle("width").from(e),10)<e.offsetWidth},n=function(i){for(var n=0,r=e.length;n<r;n++)if("border-box"===t.getStyle(e[n]).from(i))return e[n]};t.copyStyles=function(n){
return{from:function(r){i(r)&&(n=wysihtml5.lang.array(n).without(e));for(var s,o="",a=n.length,l=0;l<a;l++)s=n[l],o+=s+":"+t.getStyle(s).from(r)+";";return{to:function(e){return t.setStyles(o).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,i,n,r){return t.dom.observe(e,n,function(n){for(var s=n.target,o=t.lang.array(e.querySelectorAll(i));s&&s!==e;){if(o.contains(s)){r.call(s,n);break}s=s.parentNode}})}}(wysihtml5),function(t){t.dom.domNode=function(e){var i=[t.ELEMENT_NODE,t.TEXT_NODE],n=function(e){return e.nodeType===t.TEXT_NODE&&/^\s*$/g.test(e.data)};return{prev:function(r){var s=e.previousSibling,o=r&&r.nodeTypes?r.nodeTypes:i;return s?!t.lang.array(o).contains(s.nodeType)||r&&r.ignoreBlankTexts&&n(s)?t.dom.domNode(s).prev(r):s:null},next:function(r){var s=e.nextSibling,o=r&&r.nodeTypes?r.nodeTypes:i;return s?!t.lang.array(o).contains(s.nodeType)||r&&r.ignoreBlankTexts&&n(s)?t.dom.domNode(s).next(r):s:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t=function(t,e){var i=e.createElement("div");i.style.display="none",e.body.appendChild(i);try{i.innerHTML=t}catch(t){}return e.body.removeChild(i),i},e=function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var e=0,n=i.length;e<n;e++)t.createElement(i[e]);t._wysihtml5_supportsHTML5Tags=!0}},i=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(i,n){n=n||document;var r;return"object"==typeof i&&i.nodeType?(r=n.createElement("div"),r.appendChild(i)):wysihtml5.browser.supportsHTML5Tags(n)?(r=n.createElement("div"),r.innerHTML=i):(e(n),r=t(i,n)),r}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return!e||!e.length||("string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t))}function e(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function i(t,e,i){var n=(t.className||"").match(i)||[];return e?n[n.length-1]===e:!!n.length}function n(t,e,i){var n=(t.getAttribute("style")||"").match(i)||[];return e?n[n.length-1]===e:!!n.length}return function(r,s,o,a){var l=s.cssStyle||s.styleRegExp,h=s.className||s.classRegExp;for(o=o||50;o--&&r&&"BODY"!==r.nodeName&&(!a||r!==a);){if(e(r)&&t(r.nodeName,s.nodeName)&&(!l||n(r,s.cssStyle,s.styleRegExp))&&(!h||i(r,s.className,s.classRegExp)))return r;r=r.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(i,function(t){return t.charAt(1).toUpperCase()})}var e={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},i=/\-[a-z]/g;return function(i){return{from:function(n){if(n.nodeType===wysihtml5.ELEMENT_NODE){var r=n.ownerDocument,s=e[i]||t(i),o=n.style,a=n.currentStyle,l=o[s];if(l)return l;if(a)try{return a[s]}catch(t){}var h,c,u=r.defaultView||r.parentWindow,d=("height"===i||"width"===i)&&"TEXTAREA"===n.nodeName;return u.getComputedStyle?(d&&(h=o.overflow,o.overflow="hidden"),c=u.getComputedStyle(n,null).getPropertyValue(i),d&&(o.overflow=h||""),c):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(t,e){var i=[];for(t=t.firstChild;t;t=t.nextSibling)3==t.nodeType?e&&/^\s*$/.test(t.innerText||t.textContent)||i.push(t):i=i.concat(wysihtml5.dom.getTextNodes(t,e));return i},wysihtml5.dom.hasElementWithTagName=function(){function t(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=i++)}var e={},i=1;return function(i,n){var r=t(i)+":"+n,s=e[r];return s||(s=e[r]=i.getElementsByTagName(n)),s.length>0}}(),function(t){function e(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=n++)}var i={},n=1;t.dom.hasElementWithClassName=function(n,r){if(!t.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+r);var s=e(n)+":"+r,o=i[s];return o||(o=i[s]=n.getElementsByClassName(r)),o.length>0}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t));var n=e.querySelector("head link");if(n)return void n.parentNode.insertBefore(i,n);var r=e.querySelector("head");r&&r.appendChild(i)}}},function(t){t.dom.lineBreaks=function(e){function i(t){return"BR"===t.nodeName}function n(e){return!!i(e)||"block"===t.dom.getStyle("display").from(e)}return{add:function(i){var r=e.ownerDocument,s=t.dom.domNode(e).next({ignoreBlankTexts:!0}),o=t.dom.domNode(e).prev({ignoreBlankTexts:!0});s&&!n(s)&&t.dom.insert(r.createElement("br")).after(e),o&&!n(o)&&t.dom.insert(r.createElement("br")).before(e)},remove:function(n){var r=t.dom.domNode(e).next({ignoreBlankTexts:!0}),s=t.dom.domNode(e).prev({ignoreBlankTexts:!0});r&&i(r)&&r.parentNode.removeChild(r),s&&i(s)&&s.parentNode.removeChild(s)}}}}(wysihtml5),wysihtml5.dom.observe=function(t,e,i){e="string"==typeof e?[e]:e;for(var n,r,s=0,o=e.length;s<o;s++)r=e[s],t.addEventListener?t.addEventListener(r,i,!1):(n=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},i.call(t,e)},t.attachEvent("on"+r,n));return{stop:function(){for(var r,s=0,o=e.length;s<o;s++)r=e[s],t.removeEventListener?t.removeEventListener(r,i,!1):t.detachEvent("on"+r,n)}}},wysihtml5.dom.parse=function(){function t(t,i){wysihtml5.lang.object(m).merge(p).merge(i.rules).get();var n,r,s,o=i.context||t.ownerDocument||document,a=o.createDocumentFragment(),l="string"==typeof t,h=!1;for(!0===i.clearInternals&&(h=!0),i.uneditableClass&&(g=i.uneditableClass),n=l?wysihtml5.dom.getAsDom(t,o):t;n.firstChild;)s=n.firstChild,r=e(s,i.cleanUp,h),r&&a.appendChild(r),s!==r&&n.removeChild(s);return n.innerHTML="",n.appendChild(a),l?wysihtml5.quirks.getCorrectInnerHTML(n):n}function e(t,i,n){var r,s,o,a=t.nodeType,l=t.childNodes,h=l.length,c=u[a],f=0;if(g&&1===a&&wysihtml5.dom.hasClass(t,g))return t;if(!(s=c&&c(t,n))){if(!1===s){for(r=t.ownerDocument.createDocumentFragment(),f=h;f--;)l[f]&&(o=e(l[f],i,n))&&(l[f]===o&&f--,r.insertBefore(o,r.firstChild));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(t.nodeName.toLowerCase())&&t.parentNode.lastChild!==t&&(t.nextSibling&&3===t.nextSibling.nodeType&&/^\s/.test(t.nextSibling.nodeValue)||r.appendChild(t.ownerDocument.createTextNode(" "))),r.normalize&&r.normalize(),r}return null}for(f=0;f<h;f++)l[f]&&(o=e(l[f],i,n))&&(l[f]===o&&f--,s.appendChild(o));if(i&&s.nodeName.toLowerCase()===d&&(!s.childNodes.length||/^\s*$/gi.test(s.innerHTML)&&(n||"_wysihtml5-temp-placeholder"!==t.className&&"rangySelectionBoundary"!==t.className)||!s.attributes.length)){for(r=s.ownerDocument.createDocumentFragment();s.firstChild;)r.appendChild(s.firstChild);return r.normalize&&r.normalize(),r}return s.normalize&&s.normalize(),s}function i(t,e){var i,r,a=m.tags,l=t.nodeName.toLowerCase(),h=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(h&&"HTML"!=h&&(l=h+":"+l),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(l="div")),l in a){if(!(i=a[l])||i.remove)return null;if(i.unwrap)return!1;i="string"==typeof i?{rename_tag:i}:i}else{if(!t.firstChild)return null;i={rename_tag:d}}return r=t.ownerDocument.createElement(i.rename_tag||l),o(t,r,i,e),s(t,r,i),i.one_of_type&&!n(t,m,i.one_of_type,e)?(!i.remove_action||"unwrap"!=i.remove_action)&&null:(t=null,r.normalize&&r.normalize(),r)}function n(t,e,i,n){var s,o;if("SPAN"===t.nodeName&&!n&&("_wysihtml5-temp-placeholder"===t.className||"rangySelectionBoundary"===t.className))return!0;for(o in i)if(i.hasOwnProperty(o)&&e.type_definitions&&e.type_definitions[o]&&(s=e.type_definitions[o],r(t,s)))return!0;return!1}function r(t,e){var i,n,r,s,o,l=t.getAttribute("class"),h=t.getAttribute("style");if(e.methods)for(var c in e.methods)if(e.methods.hasOwnProperty(c)&&_[c]&&_[c](t))return!0;if(l&&e.classes){l=l.replace(/^\s+/g,"").replace(/\s+$/g,"").split(f),i=l.length;for(var u=0;u<i;u++)if(e.classes[l[u]])return!0}if(h&&e.styles){h=h.split(";");for(n in e.styles)if(e.styles.hasOwnProperty(n))for(var d=h.length;d--;)if(o=h[d].split(":"),o[0].replace(/\s/g,"").toLowerCase()===n&&(!0===e.styles[n]||1===e.styles[n]||wysihtml5.lang.array(e.styles[n]).contains(o[1].replace(/\s/g,"").toLowerCase())))return!0}if(e.attrs)for(r in e.attrs)if(e.attrs.hasOwnProperty(r)&&"string"==typeof(s=a(t,r))&&s.search(e.attrs[r])>-1)return!0;return!1}function s(t,e,i){var n;if(i&&i.keep_styles)for(n in i.keep_styles)i.keep_styles.hasOwnProperty(n)&&("float"==n?(t.style.styleFloat&&(e.style.styleFloat=t.style.styleFloat),t.style.cssFloat&&(e.style.cssFloat=t.style.cssFloat)):t.style[n]&&(e.style[n]=t.style[n]))}function o(t,e,i,n){var r,s,o,l,h,c,u,d={},p=i.set_class,g=i.add_class,v=i.add_style,y=i.set_attributes,_=i.check_attributes,C=m.classes,k=0,S=[],T=[],A=[],D=[];if(y&&(d=wysihtml5.lang.object(y).clone()),_)for(l in _)(c=b[_[l]])&&((u=a(t,l))||"alt"===l&&"IMG"==t.nodeName)&&"string"==typeof(h=c(u))&&(d[l]=h);if(p&&S.push(p),g)for(l in g)(c=x[g[l]])&&"string"==typeof(o=c(a(t,l)))&&S.push(o);if(v)for(l in v)(c=w[v[l]])&&(newStyle=c(a(t,l)),"string"==typeof newStyle&&T.push(newStyle));if("string"==typeof C&&"any"===C&&t.getAttribute("class"))d.class=t.getAttribute("class");else{for(n||(C["_wysihtml5-temp-placeholder"]=1,C._rangySelectionBoundary=1,C["wysiwyg-tmp-selected-cell"]=1),D=t.getAttribute("class"),D&&(S=S.concat(D.split(f))),r=S.length;k<r;k++)s=S[k],C[s]&&A.push(s);A.length&&(d.class=wysihtml5.lang.array(A).unique().join(" "))}d.class&&n&&(d.class=d.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(d.class)&&delete d.class),T.length&&(d.style=wysihtml5.lang.array(T).unique().join(" "));for(l in d)try{e.setAttribute(l,d[l])}catch(t){}d.src&&(void 0!==d.width&&e.setAttribute("width",d.width),void 0!==d.height&&e.setAttribute("height",d.height))}function a(t,e){if(e=e.toLowerCase(),"IMG"==t.nodeName&&"src"==e&&!0===l(t))return t.src;if(v&&"outerHTML"in t){return-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null}return t.getAttribute(e)}function l(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}}function h(t){var e=t.nextSibling;if(!e||e.nodeType!==wysihtml5.TEXT_NODE){var i=t.data.replace(y,"");return t.ownerDocument.createTextNode(i)}e.data=t.data.replace(y,"")+e.data.replace(y,"")}function c(t){if(m.comments)return t.ownerDocument.createComment(t.nodeValue)}var u={1:i,3:h,8:c},d="span",f=/\s+/,p={tags:{},classes:{}},m={},g=!1,v=!wysihtml5.browser.supportsGetAttributeCorrectly(),y=/\uFEFF/g,b={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),src:function(){var t=/^(\/|https?:\/\/)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),href:function(){var t=/^(#|\/|https?:\/\/|mailto:)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return(e=(e||"").replace(t,""))||null}}(),any:function(){return function(t){return t}}()},w={align_text:function(){var t={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(e){return t[String(e).toLowerCase()]}}()},x={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[String(e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[String(e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[String(e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[String(e).charAt(0)]}}()},_={has_visible_contet:function(){var t,e=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(i){if((t=(i.innerText||i.textContent).replace(/\s/g,""))&&t.length>0)return!0;for(var n=e.length;n--;)if(i.querySelector(e[n]))return!0;return!!(i.offsetWidth&&i.offsetWidth>0&&i.offsetHeight&&i.offsetHeight>0)}}()};return t}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,i=wysihtml5.lang.array(t.childNodes).get(),n=i.length,r=0;r<n;r++)e=i[r],e.nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var i,n=t.ownerDocument.createElement(e);i=t.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(n),t.parentNode.replaceChild(n,t),n},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode){if(!t.firstChild)return void t.parentNode.removeChild(t);for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}},function(t){function e(e){return"block"===t.getStyle("display").from(e)}function i(t){return"BR"===t.nodeName}function n(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}function r(t,r){if(t.nodeName.match(/^(MENU|UL|OL)$/)){var s,o,a,l,h,c,u=t.ownerDocument,d=u.createDocumentFragment(),f=wysihtml5.dom.domNode(t).prev({ignoreBlankTexts:!0});if(r)for(!f||e(f)||i(f)||n(d);c=t.firstElementChild||t.firstChild;){for(o=c.lastChild;s=c.firstChild;)a=s===o,l=a&&!e(s)&&!i(s),d.appendChild(s),l&&n(d);c.parentNode.removeChild(c)}else for(;c=t.firstElementChild||t.firstChild;){if(c.querySelector&&c.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;s=c.firstChild;)d.appendChild(s);else{for(h=u.createElement("p");s=c.firstChild;)h.appendChild(s);d.appendChild(h)}c.parentNode.removeChild(c)}t.parentNode.replaceChild(d,t)}}t.resolveList=r}(wysihtml5.dom),function(t){var e=document,i=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],n=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],r=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,i){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(i).get(),this.editableArea=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var i=this,n=e.createElement("iframe");return n.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,i._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,i._onLoadIframe(n))},n},_onLoadIframe:function(s){if(t.dom.contains(e.documentElement,s)){var o=this,a=s.contentWindow,l=s.contentWindow.document,h=e.characterSet||e.charset||"utf-8",c=this._getHtml({charset:h,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return s.contentWindow},this.getDocument=function(){return s.contentWindow.document},a.onerror=function(t,e,i){throw new Error("wysihtml5.Sandbox: "+t,e,i)},!t.browser.supportsSandboxedIframes()){var u,d;for(u=0,d=i.length;u<d;u++)this._unset(a,i[u]);for(u=0,d=n.length;u<d;u++)this._unset(a,n[u],t.EMPTY_FUNCTION);for(u=0,d=r.length;u<d;u++)this._unset(l,r[u]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){o.callback(o)},0)}},_getHtml:function(e){var i,n=e.stylesheets,r="",s=0;if(n="string"==typeof n?[n]:n)for(i=n.length;s<i;s++)r+='<link rel="stylesheet" href="'+n[s]+'">';return e.stylesheets=r,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,i,n,r){try{e[i]=n}catch(t){}try{e.__defineGetter__(i,function(){return n})}catch(t){}if(r)try{e.__defineSetter__(i,function(){})}catch(t){}if(!t.browser.crashesWhenDefineProperty(i))try{var s={get:function(){return n}};r&&(s.set=function(){}),Object.defineProperty(e,i,s)}catch(t){}}})}(wysihtml5),function(t){var e=document;t.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(e,i,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(i).get(),this.element=n?this._bindElement(n):this._createElement()},_createElement:function(){var t=e.createElement("div");return t.className="wysihtml5-sandbox",this._loadElement(t),t},_bindElement:function(t){return t.className=t.className&&""!=t.className?t.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(t,!0),t},_loadElement:function(t,e){var i=this;if(!e){var n=this._getHtml();t.innerHTML=n}this.getWindow=function(){return t.ownerDocument.defaultView},this.getDocument=function(){return t.ownerDocument},this.loaded=!0,setTimeout(function(){i.callback(i)},0)},_getHtml:function(t){return""}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(i){for(var n in e)i.setAttribute(t[n]||n,e[n])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){var i=e.style;if("string"==typeof t)return void(i.cssText+=";"+t);for(var n in t)"float"===n?(i.cssFloat=t[n],i.styleFloat=t[n]):i[n]=t[n]}}},function(t){t.simulatePlaceholder=function(e,i,n){var r=function(){var e=i.element.offsetWidth>0&&i.element.offsetHeight>0;i.hasPlaceholderSet()&&(i.clear(),i.element.focus(),e&&setTimeout(function(){var t=i.selection.getSelection();t.focusNode&&t.anchorNode||i.selection.selectNode(i.element.firstChild||i.element)},0)),i.placeholderSet=!1,t.removeClass(i.element,"placeholder")},s=function(){i.isEmpty()&&(i.placeholderSet=!0,i.setValue(n),t.addClass(i.element,"placeholder"))};e.on("set_placeholder",s).on("unset_placeholder",r).on("focus:composer",r).on("paste:composer",r).on("blur:composer",s),s()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(t,e){var i=!wysihtml5.browser.supportsGetAttributeCorrectly();if(e=e.toLowerCase(),"IMG"==t.nodeName&&"src"==e&&!0===_isLoadedImage(t))return t.src;if(i&&"outerHTML"in t){return-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null}return t.getAttribute(e)},function(t){function e(t,e){for(var i,n=[],r=0,s=t.length;r<s;r++)if(i=t[r].querySelectorAll(e))for(var o=i.length;o--;n.unshift(i[o]));return n}function i(t){t.parentNode.removeChild(t)}function n(t,e){t.parentNode.insertBefore(e,t.nextSibling)}function r(t,e){for(var i=t.nextSibling;1!=i.nodeType;)if(i=i.nextSibling,!e||e==i.tagName.toLowerCase())return i;return null}var s=t.dom,o=function(t){this.el=t,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},a=function(t,e){t?(this.cell=t,this.table=s.getParentElement(t,{nodeName:["TABLE"]})):e&&(this.table=e,this.cell=this.table.querySelectorAll("th, td")[0])};a.prototype={addSpannedCellToMap:function(t,e,i,n,r,s){for(var a=[],l=i+(s?parseInt(s,10)-1:0),h=n+(r?parseInt(r,10)-1:0),c=i;c<=l;c++){void 0===e[c]&&(e[c]=[]);for(var u=n;u<=h;u++)e[c][u]=new o(t),e[c][u].isColspan=r&&parseInt(r,10)>1,e[c][u].isRowspan=s&&parseInt(s,10)>1,e[c][u].firstCol=u==n,e[c][u].lastCol=u==h,e[c][u].firstRow=c==i,e[c][u].lastRow=c==l,e[c][u].isReal=u==n&&c==i,e[c][u].spanCollection=a,a.push(e[c][u])}},setCellAsModified:function(t){if(t.modified=!0,t.spanCollection.length>0)for(var e=0,i=t.spanCollection.length;e<i;e++)t.spanCollection[e].modified=!0},setTableMap:function(){var t,e,i,n,r,a,l,h,c=[],u=this.getTableRows();for(t=0;t<u.length;t++)for(e=u[t],i=this.getRowCells(e),a=0,void 0===c[t]&&(c[t]=[]),n=0;n<i.length;n++){for(r=i[n];void 0!==c[t][a];)a++;l=s.getAttribute(r,"colspan"),h=s.getAttribute(r,"rowspan"),l||h?(this.addSpannedCellToMap(r,c,t,a,l,h),a+=l?parseInt(l,10):1):(c[t][a]=new o(r),a++)}return this.map=c,c},getRowCells:function(i){var n=this.table.querySelectorAll("table"),r=n?e(n,"th, td"):[],s=i.querySelectorAll("th, td");return r.length>0?t.lang.array(s).without(r):s},getTableRows:function(){var i=this.table.querySelectorAll("table"),n=i?e(i,"tr"):[],r=this.table.querySelectorAll("tr");return n.length>0?t.lang.array(r).without(n):r},getMapIndex:function(t){for(var e=this.map.length,i=this.map&&this.map[0]?this.map[0].length:0,n=0;n<e;n++)for(var r=0;r<i;r++)if(this.map[n][r].el===t)return{row:n,col:r};return!1},getElementAtIndex:function(t){return this.setTableMap(),this.map[t.row]&&this.map[t.row][t.col]&&this.map[t.row][t.col].el?this.map[t.row][t.col].el:null},getMapElsTo:function(t){var e=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var i=this.idx_start;this.idx_start=this.idx_end,this.idx_end=i}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}if(null!=this.idx_start&&null!=this.idx_end)for(var r=this.idx_start.row,s=this.idx_end.row;r<=s;r++)for(var o=this.idx_start.col,a=this.idx_end.col;o<=a;o++)e.push(this.map[r][o].el);return e},orderSelectionEnds:function(t){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(t,e,i){for(var n,r=this.table.ownerDocument,s=r.createDocumentFragment(),o=0;o<e;o++){if(n=r.createElement(t),i)for(var a in i)i.hasOwnProperty(a)&&n.setAttribute(a,i[a]);n.appendChild(document.createTextNode(" ")),s.appendChild(n)}return s},correctColIndexForUnreals:function(t,e){for(var i=this.map[e],n=-1,r=0;r<t;r++)i[r].isReal&&n++;return n},getLastNewCellOnRow:function(t,e){for(var i,n,r=this.getRowCells(t),s=0,o=r.length;s<o;s++)if(i=r[s],!1===(n=this.getMapIndex(i))||void 0!==e&&n.row!=e)return i;return null},removeEmptyTable:function(){var t=this.table.querySelectorAll("td, th");return(!t||0==t.length)&&(i(this.table),!0)},splitRowToCells:function(t){if(t.isColspan){var e=parseInt(s.getAttribute(t.el,"colspan")||1,10),i=t.el.tagName.toLowerCase();if(e>1){var r=this.createCells(i,e-1);n(t.el,r)}t.el.removeAttribute("colspan")}},getRealRowEl:function(t,e){var i=null,n=null;e=e||this.idx;for(var r=0,o=this.map[e.row].length;r<o;r++)if(n=this.map[e.row][r],n.isReal&&(i=s.getParentElement(n.el,{nodeName:["TR"]})))return i;return null===i&&t&&(i=s.getParentElement(this.map[e.row][e.col].el,{nodeName:["TR"]})||null),i},injectRowAt:function(t,e,i,r,o){var a=this.getRealRowEl(!1,{row:t,col:e}),l=this.createCells(r,i);if(a){var h=this.correctColIndexForUnreals(e,t);h>=0?n(this.getRowCells(a)[h],l):a.insertBefore(l,a.firstChild)}else{var c=this.table.ownerDocument.createElement("tr");c.appendChild(l),n(s.getParentElement(o.el,{nodeName:["TR"]}),c)}},canMerge:function(t){if(this.to=t,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}for(var n=this.idx_start.row,r=this.idx_end.row;n<=r;n++)for(var s=this.idx_start.col,o=this.idx_end.col;s<=o;s++)if(this.map[n][s].isColspan||this.map[n][s].isRowspan)return!1;return!0},decreaseCellSpan:function(t,e){var i=parseInt(s.getAttribute(t.el,e),10)-1;i>=1?t.el.setAttribute(e,i):(t.el.removeAttribute(e),"colspan"==e&&(t.isColspan=!1),"rowspan"==e&&(t.isRowspan=!1),t.firstCol=!0,t.lastCol=!0,t.firstRow=!0,t.lastRow=!0,t.isReal=!0)},removeSurplusLines:function(){var t,e,n,r,o,a,l;if(this.setTableMap(),this.map){for(n=0,r=this.map.length;n<r;n++){for(t=this.map[n],l=!0,o=0,a=t.length;o<a;o++)if(e=t[o],!(s.getAttribute(e.el,"rowspan")&&parseInt(s.getAttribute(e.el,"rowspan"),10)>1&&!0!==e.firstRow)){l=!1;break}if(l)for(o=0;o<a;o++)this.decreaseCellSpan(t[o],"rowspan")}var h=this.getTableRows();for(n=0,r=h.length;n<r;n++)t=h[n],0==t.childNodes.length&&/^\s*$/.test(t.textContent||t.innerText)&&i(t)}},fillMissingCells:function(){var t=0,e=0,i=null;if(this.setTableMap(),this.map){t=this.map.length;for(var r=0;r<t;r++)this.map[r].length>e&&(e=this.map[r].length);for(var s=0;s<t;s++)for(var a=0;a<e;a++)this.map[s]&&!this.map[s][a]&&a>0&&(this.map[s][a]=new o(this.createCells("td",1)),(i=this.map[s][a-1])&&i.el&&i.el.parent&&n(this.map[s][a-1].el,this.map[s][a].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var t=this.map[this.idx.row][this.idx.col],e=s.getAttribute(t.el,"colspan")?parseInt(s.getAttribute(t.el,"colspan"),10):1,i=t.el.tagName.toLowerCase();if(t.isRowspan){var n=parseInt(s.getAttribute(t.el,"rowspan"),10);if(n>1)for(var r=1,o=n-1;r<=o;r++)this.injectRowAt(this.idx.row+r,this.idx.col,e,i,t);t.el.removeAttribute("rowspan")}this.splitRowToCells(t)}},merge:function(t){if(this.rectify())if(this.canMerge(t)){for(var e=this.idx_end.row-this.idx_start.row+1,n=this.idx_end.col-this.idx_start.col+1,r=this.idx_start.row,s=this.idx_end.row;r<=s;r++)for(var o=this.idx_start.col,a=this.idx_end.col;o<=a;o++)r==this.idx_start.row&&o==this.idx_start.col?(e>1&&this.map[r][o].el.setAttribute("rowspan",e),n>1&&this.map[r][o].el.setAttribute("colspan",n)):(/^\s*<br\/?>\s*$/.test(this.map[r][o].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[r][o].el.innerHTML),i(this.map[r][o].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(t){var e=this.getMapIndex(t.el),i=e.row+1,r={row:i,col:e.col};if(i<this.map.length){var o=this.getRealRowEl(!1,r);if(null!==o){var a=this.correctColIndexForUnreals(r.col,r.row);if(a>=0)n(this.getRowCells(o)[a],t.el);else{var l=this.getLastNewCellOnRow(o,i);null!==l?n(l,t.el):o.insertBefore(t.el,o.firstChild)}parseInt(s.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(s.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")}}},removeRowCell:function(t){t.isReal?t.isRowspan?this.collapseCellToNextRow(t):i(t.el):parseInt(s.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(s.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=this.map[this.idx.row],i=0,n=e.length;i<n;i++)e[i].isReal&&t.push(e[i].el);return t},getColumnElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,i=this.map.length;e<i;e++)this.map[e][this.idx.col]&&this.map[e][this.idx.col].isReal&&t.push(this.map[e][this.idx.col].el);return t},removeRow:function(){var t=s.getParentElement(this.cell,{nodeName:["TR"]});if(t){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=this.map[this.idx.row],n=0,r=e.length;n<r;n++)e[n].modified||(this.setCellAsModified(e[n]),this.removeRowCell(e[n]));i(t)}},removeColCell:function(t){t.isColspan?parseInt(s.getAttribute(t.el,"colspan"),10)>2?t.el.setAttribute("colspan",parseInt(s.getAttribute(t.el,"colspan"),10)-1):t.el.removeAttribute("colspan"):t.isReal&&i(t.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,e=this.map.length;t<e;t++)this.map[t][this.idx.col].modified||(this.setCellAsModified(this.map[t][this.idx.col]),this.removeColCell(this.map[t][this.idx.col]))},remove:function(t){if(this.rectify()){switch(t){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(t){var e=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==t&&s.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(s.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var i=this.map[this.idx.row],r=e.createElement("tr"),o=0,a=i.length;o<a;o++)i[o].modified||(this.setCellAsModified(i[o]),this.addRowCell(i[o],r,t));switch(t){case"below":n(this.getRealRowEl(!0),r);break;case"above":var l=s.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});l&&l.parentNode.insertBefore(r,l)}}},addRowCell:function(t,e,i){var n=t.isColspan?{colspan:s.getAttribute(t.el,"colspan")}:null;t.isReal?"above"!=i&&t.isRowspan?t.el.setAttribute("rowspan",parseInt(s.getAttribute(t.el,"rowspan"),10)+1):e.appendChild(this.createCells("td",1,n)):"above"!=i&&t.isRowspan&&t.lastRow?e.appendChild(this.createCells("td",1,n)):c.isRowspan&&t.el.attr("rowspan",parseInt(s.getAttribute(t.el,"rowspan"),10)+1)},add:function(t){this.rectify()&&("below"!=t&&"above"!=t||this.addRow(t),"before"!=t&&"after"!=t||this.addColumn(t))},addColCell:function(t,e,i){var r,o=t.el.tagName.toLowerCase();switch(i){case"before":r=!t.isColspan||t.firstCol;break;case"after":r=!t.isColspan||t.lastCol||t.isColspan&&c.el==this.cell}if(r){switch(i){case"before":t.el.parentNode.insertBefore(this.createCells(o,1),t.el);break;case"after":n(t.el,this.createCells(o,1))}t.isRowspan&&this.handleCellAddWithRowspan(t,e+1,i)}else t.el.setAttribute("colspan",parseInt(s.getAttribute(t.el,"colspan"),10)+1)},addColumn:function(t){var e,i;if(this.setTableMap(),
this.idx=this.getMapIndex(this.cell),"after"==t&&s.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(s.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var n=0,r=this.map.length;n<r;n++)e=this.map[n],e[this.idx.col]&&(i=e[this.idx.col],i.modified||(this.setCellAsModified(i),this.addColCell(i,n,t)))},handleCellAddWithRowspan:function(t,e,i){for(var o,a,l,h=parseInt(s.getAttribute(this.cell,"rowspan"),10)-1,c=s.getParentElement(t.el,{nodeName:["TR"]}),u=t.el.tagName.toLowerCase(),d=this.table.ownerDocument,f=0;f<h;f++)if(o=this.correctColIndexForUnreals(this.idx.col,e+f),c=r(c,"tr"))if(o>0)switch(i){case"before":a=this.getRowCells(c),o>0&&this.map[e+f][this.idx.col].el!=a[o]&&o==a.length-1?n(a[o],this.createCells(u,1)):a[o].parentNode.insertBefore(this.createCells(u,1),a[o]);break;case"after":n(this.getRowCells(c)[o],this.createCells(u,1))}else c.insertBefore(this.createCells(u,1),c.firstChild);else l=d.createElement("tr"),l.appendChild(this.createCells(u,1)),this.table.appendChild(l)}},s.table={getCellsBetween:function(t,e){return new a(t).getMapElsTo(e)},addCells:function(t,e){new a(t).add(e)},removeCells:function(t,e){new a(t).remove(e)},mergeCellsBetween:function(t,e){new a(t).merge(e)},unmergeCell:function(t){new a(t).unmerge()},orderSelectionEnds:function(t,e){return new a(t).orderSelectionEnds(e)},indexOf:function(t){var e=new a(t);return e.setTableMap(),e.getMapIndex(t)},findCell:function(t,e){return new a(null,t).getElementAtIndex(e)},findRowByCell:function(t){return new a(t).getRowElementsByCell()},findColumnByCell:function(t){return new a(t).getColumnElementsByCell()},canMerge:function(t,e){return new a(t).canMerge(e)}}}(wysihtml5),wysihtml5.dom.query=function(t,e){var i,n=[];t.nodeType&&(t=[t]);for(var r=0,s=t.length;r<s;r++)if(i=t[r].querySelectorAll(e))for(var o=i.length;o--;n.unshift(i[o]));return n},wysihtml5.dom.compareDocumentPosition=function(){return document.documentElement.compareDocumentPosition?function(t,e){return t.compareDocumentPosition(e)}:function(t,e){var i,n;if(i=9===t.nodeType?t:t.ownerDocument,n=9===e.nodeType?e:e.ownerDocument,t===e)return 0;if(t===e.ownerDocument)return 20;if(t.ownerDocument===e)return 10;if(i!==n)return 1;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 20;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 10;for(var r=t,s=[],o=null;r;){if(r==e)return 10;s.push(r),r=r.parentNode}for(r=e,o=null;r;){if(r==t)return 20;var a=wysihtml5.lang.array(s).indexOf(r);if(-1!==a){var l=s[a];return wysihtml5.lang.array(l.childNodes).indexOf(s[a-1])>wysihtml5.lang.array(l.childNodes).indexOf(o)?2:4}o=r,r=r.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(t){if(t.parentNode){for(;t.lastChild;)wysihtml5.dom.insert(t.lastChild).after(t);t.parentNode.removeChild(t)}},wysihtml5.quirks.cleanPastedHTML=function(){function t(t,i,n){i=i||e,n=n||t.ownerDocument||document;var r,s,o,a,l,h,c="string"==typeof t,u=0;r=c?wysihtml5.dom.getAsDom(t,n):t;for(l in i)for(o=r.querySelectorAll(l),s=i[l],a=o.length;u<a;u++)s(o[u]);var d=wysihtml5.dom.getTextNodes(r);for(h=d.length;h--;)d[h].nodeValue=d[h].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return o=t=i=null,c?r.innerHTML:r}var e={"a u":wysihtml5.dom.replaceWithChildNodes};return t}(),wysihtml5.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)};return function(e){wysihtml5.dom.observe(e.element,["cut","keydown"],t)}}(),function(t){t.quirks.getCorrectInnerHTML=function(e){var i=e.innerHTML;if(-1===i.indexOf("%7E"))return i;var n,r,s,o,a=e.querySelectorAll("[href*='~'], [src*='~']");for(o=0,s=a.length;o<s;o++)n=a[o].href||a[o].src,r=t.lang.string(n).replace("~").by("%7E"),i=t.lang.string(i).replace(r).by(n);return i}}(wysihtml5),function(t){t.quirks.redraw=function(e){t.dom.addClass(e,"wysihtml5-quirks-redraw"),t.dom.removeClass(e,"wysihtml5-quirks-redraw");try{var i=e.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(t){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(t,e){function i(i){c.start=i,c.end=i,c.cells=[i],c.table=h.getParentElement(c.start,{nodeName:["TABLE"]}),c.table&&(n(),h.addClass(i,u),d=h.observe(t,"mousemove",s),f=h.observe(t,"mouseup",o),e.fire("tableselectstart").fire("tableselectstart:composer"))}function n(){if(t){var e=t.querySelectorAll("."+u);if(e.length>0)for(var i=0;i<e.length;i++)h.removeClass(e[i],u)}}function r(t){for(var e=0;e<t.length;e++)h.addClass(t[e],u)}function s(t){var i,s=null,o=h.getParentElement(t.target,{nodeName:["TD","TH"]});o&&c.table&&c.start&&(s=h.getParentElement(o,{nodeName:["TABLE"]}))&&s===c.table&&(n(),i=c.end,c.end=o,c.cells=h.table.getCellsBetween(c.start,o),c.cells.length>1&&e.composer.selection.deselect(),r(c.cells),c.end!==i&&e.fire("tableselectchange").fire("tableselectchange:composer"))}function o(t){d.stop(),f.stop(),e.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){a()},0)}function a(){var i=h.observe(t.ownerDocument,"click",function(t){i.stop(),h.getParentElement(t.target,{nodeName:["TABLE"]})!=c.table&&(n(),c.table=null,c.start=null,c.end=null,e.fire("tableunselect").fire("tableunselect:composer"))})}function l(t,i){c.start=t,c.end=i,c.table=h.getParentElement(c.start,{nodeName:["TABLE"]}),selectedCells=h.table.getCellsBetween(c.start,c.end),r(selectedCells),a(),e.fire("tableselect").fire("tableselect:composer")}var h=wysihtml5.dom,c={table:null,start:null,end:null,cells:null,select:l},u="wysiwyg-tmp-selected-cell",d=null,f=null;return function(){return h.observe(t,"mousedown",function(t){var e=wysihtml5.dom.getParentElement(t.target,{nodeName:["TD","TH"]});e&&i(e)}),c}()},function(t){var e=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,n=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,r=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,s=function(t){return new RegExp("(^|\\s|;)"+t+"\\s*:\\s*[^;$]+","gi")};t.quirks.styleParser={parseColor:function(o,a){var l,h,c=s(a),u=o.match(c),d=10;if(u){for(var f=u.length;f--;)u[f]=t.lang.string(u[f].split(":")[1]).trim();if(l=u[u.length-1],e.test(l))h=l.match(e);else if(i.test(l))h=l.match(i);else if(n.test(l))h=l.match(n),d=16;else if(r.test(l))return h=l.match(r),h.shift(),h.push(1),t.lang.array(h).map(function(t,e){return e<3?16*parseInt(t,16)+parseInt(t,16):parseFloat(t)});if(h)return h.shift(),h[3]||h.push(1),t.lang.array(h).map(function(t,e){return e<3?parseInt(t,d):parseFloat(t)})}return!1},unparseColor:function(t,e){if(e){if("hex"==e)return t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("hash"==e)return"#"+t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("rgb"==e)return"rgb("+t[0]+","+t[1]+","+t[2]+")";if("rgba"==e)return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")";if("csv"==e)return t[0]+","+t[1]+","+t[2]+","+t[3]}return t[3]&&1!==t[3]?"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"rgb("+t[0]+","+t[1]+","+t[2]+")"},parseFontSize:function(e){var i=e.match(s("font-size"));return!!i&&t.lang.string(i[i.length-1].split(":")[1]).trim()}}}(wysihtml5),function(t){function e(t){var e=0;if(t.parentNode)do{e+=t.offsetTop||0,t=t.offsetParent}while(t);return e}function i(t,e){for(var i=0;e!==t;)if(i++,!(e=e.parentNode))throw new Error("not a descendant of ancestor!");return i}function n(t){if(!t.canSurroundContents())for(var e=t.commonAncestorContainer,n=i(e,t.startContainer),r=i(e,t.endContainer);!t.canSurroundContents();)n>r?(t.setStartBefore(t.startContainer),n=i(e,t.startContainer)):(t.setEndAfter(t.endContainer),r=i(e,t.endContainer))}var r=t.dom;t.Selection=Base.extend({constructor:function(t,e,i){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc,this.contain=e,this.unselectableClass=i||!1},getBookmark:function(){var t=this.getRange();return t&&n(t),t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(e,i){var n=rangy.createRange(this.doc),s=e.nodeType===t.ELEMENT_NODE,o="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,a=s?e.innerHTML:e.data,l=""===a||a===t.INVISIBLE_SPACE,h=r.getStyle("display").from(e),c="block"===h||"list-item"===h;if(l&&s&&o&&!i)try{e.innerHTML=t.INVISIBLE_SPACE}catch(t){}o?n.selectNodeContents(e):n.selectNode(e),o&&l&&s?n.collapse(c):o&&l&&(n.setStartAfter(e),n.setEndAfter(e)),this.setSelection(n)},getSelectedNode:function(t){var e,i;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(i=this.doc.selection.createRange())&&i.length?i.item(0):(e=this.getSelection(this.doc),e.focusNode===e.anchorNode?e.focusNode:(i=this.getRange(this.doc),i?i.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var t=this.getRange();n(t),this.setSelection(t)},getSelectedOwnNodes:function(t){for(var e=this.getOwnRanges(),i=[],n=0,r=e.length;n<r;n++)i.push(e[n].commonAncestorContainer||this.doc.body);return i},findNodesInSelection:function(e){for(var i,n=this.getOwnRanges(),r=[],s=0,o=n.length;s<o;s++)i=n[s].getNodes([1],function(i){return t.lang.array(e).contains(i.nodeName)}),r=r.concat(i);return r},containsUneditable:function(){for(var t=this.getOwnUneditables(),e=this.getSelection(),i=0,n=t.length;i<n;i++)if(e.containsNode(t[i]))return!0;return!1},deleteContents:function(){for(var t=this.getOwnRanges(),e=t.length;e--;)t[e].deleteContents();this.setSelection(t[0])},getPreviousNode:function(e,i){if(!e){e=this.getSelection().anchorNode}if(e===this.contain)return!1;var n,r=e.previousSibling;return r!==this.contain&&(r&&3!==r.nodeType&&1!==r.nodeType?r=this.getPreviousNode(r,i):r&&3===r.nodeType&&/^\s*$/.test(r.textContent)?r=this.getPreviousNode(r,i):i&&r&&1===r.nodeType&&!t.lang.array(["BR","HR","IMG"]).contains(r.nodeName)&&/^[\s]*$/.test(r.innerHTML)?r=this.getPreviousNode(r,i):r||e===this.contain||(n=e.parentNode)!==this.contain&&(r=this.getPreviousNode(n,i)),r!==this.contain&&r)},getSelectionParentsByTag:function(e){for(var i,n=this.getSelectedOwnNodes(),r=[],s=0,o=n.length;s<o;s++)(i=n[s].nodeName&&"LI"===n[s].nodeName?n[s]:t.dom.getParentElement(n[s],{nodeName:["LI"]},!1,this.contain))&&r.push(i);return r.length?r:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var t=this.getRange(),e=t.startContainer,i=t.startOffset,n=rangy.createRange(this.doc);return n.selectNodeContents(e),n.setStart(e,i),n}},caretIsLastInSelection:function(){rangy.createRange(this.doc),this.getSelection();return/^\s*$/.test(this.getRangeToNodeEnd().cloneContents().textContent)},caretIsFirstInSelection:function(){var e=rangy.createRange(this.doc),i=this.getSelection(),n=this.getRange(),r=n.startContainer;return r.nodeType===t.TEXT_NODE?this.isCollapsed()&&r.nodeType===t.TEXT_NODE&&/^\s*$/.test(r.data.substr(0,n.startOffset)):(e.selectNodeContents(this.getRange().commonAncestorContainer),e.collapse(!0),this.isCollapsed()&&(e.startContainer===i.anchorNode||e.endContainer===i.anchorNode)&&e.startOffset===i.anchorOffset)},caretIsInTheBeginnig:function(e){var i=this.getSelection(),n=i.anchorNode,r=i.anchorOffset;return e?0===r&&(n.nodeName&&n.nodeName===e.toUpperCase()||t.dom.getParentElement(n.parentNode,{nodeName:e},1)):0===r&&!this.getPreviousNode(n,!0)},caretIsBeforeUneditable:function(){var t=this.getSelection(),e=t.anchorNode;if(0===t.anchorOffset){var i=this.getPreviousNode(e,!0);if(i)for(var n=this.getOwnUneditables(),r=0,s=n.length;r<s;r++)if(i===n[r])return n[r]}return!1},executeAndRestoreRangy:function(t,e){var i=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(i);if(n)try{t()}catch(t){setTimeout(function(){throw t},0)}else t();rangy.restoreSelection(n)},executeAndRestore:function(e,i){var n,s,o,a,l,h,c,u,d=this.doc.body,f=i&&d.scrollTop,p=i&&d.scrollLeft,m="_wysihtml5-temp-placeholder",g='<span class="'+m+'">'+t.INVISIBLE_SPACE+"</span>",v=this.getRange(!0);if(!v)return void e(d,d);v.collapsed||(c=v.cloneRange(),h=c.createContextualFragment(g),c.collapse(!1),c.insertNode(h),c.detach()),l=v.createContextualFragment(g),v.insertNode(l),h&&(n=this.contain.querySelectorAll("."+m),v.setStartBefore(n[0]),v.setEndAfter(n[n.length-1])),this.setSelection(v);try{e(v.startContainer,v.endContainer)}catch(t){setTimeout(function(){throw t},0)}if((n=this.contain.querySelectorAll("."+m))&&n.length){u=rangy.createRange(this.doc),o=n[0].nextSibling,n.length>1&&(a=n[n.length-1].previousSibling),a&&o?(u.setStartBefore(o),u.setEndAfter(a)):(s=this.doc.createTextNode(t.INVISIBLE_SPACE),r.insert(s).after(n[0]),u.setStartBefore(s),u.setEndAfter(s)),this.setSelection(u);for(var y=n.length;y--;)n[y].parentNode.removeChild(n[y])}else this.contain.focus();i&&(d.scrollTop=f,d.scrollLeft=p);try{n.parentNode.removeChild(n)}catch(t){}},set:function(t,e){var i=rangy.createRange(this.doc);i.setStart(t,e||0),this.setSelection(i)},insertHTML:function(t){var e=rangy.createRange(this.doc),i=e.createContextualFragment(t),n=i.lastChild;this.insertNode(i),n&&this.setAfter(n)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e,i=this.getOwnRanges(),n=[];if(0==i.length)return n;for(var r=i.length;r--;){e=this.doc.createElement(t.nodeName),n.push(e),t.className&&(e.className=t.className),t.cssStyle&&e.setAttribute("style",t.cssStyle);try{i[r].surroundContents(e),this.selectNode(e)}catch(t){e.appendChild(i[r].extractContents()),i[r].insertNode(e)}}return n},deblockAndSurround:function(e){var i,n,r,s=this.doc.createElement("div"),o=rangy.createRange(this.doc);if(s.className=e.className,this.composer.commands.exec("formatBlock",e.nodeName,e.className),i=this.contain.querySelectorAll("."+e.className),i[0])for(i[0].parentNode.insertBefore(s,i[0]),o.setStartBefore(i[0]),o.setEndAfter(i[i.length-1]),n=o.extractContents();n.firstChild;)if(r=n.firstChild,1==r.nodeType&&t.dom.hasClass(r,e.className)){for(;r.firstChild;)s.appendChild(r.firstChild);"BR"!==r.nodeName&&s.appendChild(this.doc.createElement("br")),n.removeChild(r)}else s.appendChild(r);else s=null;return s},scrollIntoView:function(){var i,n=this.doc,r=n.documentElement.scrollHeight>n.documentElement.offsetHeight,s=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var e=n.createElement("span");return e.innerHTML=t.INVISIBLE_SPACE,e}();r&&(this.insertNode(s),i=e(s),s.parentNode.removeChild(s),i>=n.body.scrollTop+n.documentElement.offsetHeight-5&&(n.body.scrollTop=i))},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView,e=t.getSelection();e.modify("move","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,i,n,r,s=this.doc.selection.createRange(),o=s.boundingTop,a=this.doc.body.scrollWidth;if(s.moveToPoint){for(0===o&&(i=this.doc.createElement("span"),this.insertNode(i),o=i.offsetTop,i.parentNode.removeChild(i)),o+=1,n=-10;n<a;n+=2)try{s.moveToPoint(n,o);break}catch(t){}for(t=o,e=this.doc.selection.createRange(),r=a;r>=0;r--)try{e.moveToPoint(r,t);break}catch(t){}s.setEndPoint("EndToEnd",e),s.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var i=this.getRange();return i?i.getNodes([t],e):[]},fixRangeOverflow:function(t){if(this.contain&&this.contain.firstChild&&t){var e=t.compareNode(this.contain);if(2!==e)1===e&&t.setStartBefore(this.contain.firstChild),0===e&&t.setEndAfter(this.contain.lastChild),3===e&&(t.setStartBefore(this.contain.firstChild),t.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(t)){var i=t.endContainer.previousElementSibling;i&&t.setEnd(i,this._endOffsetForNode(i))}}},_endOffsetForNode:function(t){var e=document.createRange();return e.selectNodeContents(t),e.endOffset},_detectInlineRangeProblems:function(t){var e=r.compareDocumentPosition(t.startContainer,t.endContainer);return 0==t.endOffset&&4&e},getRange:function(t){var e=this.getSelection(),i=e&&e.rangeCount&&e.getRangeAt(0);return!0!==t&&this.fixRangeOverflow(i),i},getOwnUneditables:function(){var e=r.query(this.contain,"."+this.unselectableClass),i=r.query(e,"."+this.unselectableClass);return t.lang.array(e).without(i)},getOwnRanges:function(){var t,e=[],i=this.getRange();if(i&&e.push(i),this.unselectableClass&&this.contain&&i){var n,r=this.getOwnUneditables();if(r.length>0)for(var s=0,o=r.length;s<o;s++){t=[];for(var a=0,l=e.length;a<l;a++){if(e[a])switch(e[a].compareNode(r[s])){case 2:break;case 3:n=e[a].cloneRange(),n.setEndBefore(r[s]),t.push(n),n=e[a].cloneRange(),n.setStartAfter(r[s]),t.push(n);break;default:t.push(e[a])}e=t}}}return e},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){var e=this.doc.defaultView||this.doc.parentWindow;return rangy.getSelection(e).setSingleRange(t)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(e){var i=this.getRange(),n=i.commonAncestorContainer,r=i.startContainer,s=i.endContainer;if(n.nodeType===t.TEXT_NODE&&(n=n.parentNode),r.nodeType===t.TEXT_NODE&&!/^\s*$/.test(r.data.substr(i.startOffset)))return!1;if(s.nodeType===t.TEXT_NODE&&!/^\s*$/.test(s.data.substr(i.endOffset)))return!1;for(;r&&r!==n;){if(r.nodeType!==t.TEXT_NODE&&!t.dom.contains(n,r))return!1;if(t.dom.domNode(r).prev({ignoreBlankTexts:!0}))return!1;r=r.parentNode}for(;s&&s!==n;){if(s.nodeType!==t.TEXT_NODE&&!t.dom.contains(n,s))return!1;if(t.dom.domNode(s).next({ignoreBlankTexts:!0}))return!1;s=s.parentNode}return!!t.lang.array(e).contains(n.nodeName)&&n},deselect:function(){var t=this.getSelection();t&&t.removeAllRanges()}})}(wysihtml5),function(t,e){function i(t,e,i){if(!t.className)return!1;var n=t.className.match(i)||[];return n[n.length-1]===e}function n(t,e){if(!t.getAttribute||!t.getAttribute("style"))return!1;t.getAttribute("style").match(e);return!!t.getAttribute("style").match(e)}function r(t,e,i){t.getAttribute("style")?(a(t,i),t.getAttribute("style")&&!/^\s*$/.test(t.getAttribute("style"))?t.setAttribute("style",e+";"+t.getAttribute("style")):t.setAttribute("style",e)):t.setAttribute("style",e)}function s(t,e,i){t.className?(o(t,i),t.className+=" "+e):t.className=e}function o(t,e){t.className&&(t.className=t.className.replace(e,""))}function a(t,e){var i,n=[];if(t.getAttribute("style")){i=t.getAttribute("style").split(";");for(var r=i.length;r--;)i[r].match(e)||/^\s*$/.test(i[r])||n.push(i[r]);n.length?t.setAttribute("style",n.join(";")):t.removeAttribute("style")}}function l(t,e){var i=[],n=e.split(";"),r=t.getAttribute("style");if(r){r=r.replace(/\s/gi,"").toLowerCase(),i.push(new RegExp("(^|\\s|;)"+e.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var s=n.length;s-- >0;)/^\s*$/.test(n[s])||i.push(new RegExp("(^|\\s|;)"+n[s].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var o=0,a=i.length;o<a;o++)if(r.match(i[o]))return i[o]}return!1}function h(i,n,r,s){return r?l(i,r):s?t.dom.hasClass(i,s):e.dom.arrayContains(n,i.tagName.toLowerCase())}function c(t,e,i,n){for(var r=t.length;r--;)if(!h(t[r],e,i,n))return!1;return!!t.length}function u(t,e,i){var n=l(t,e);return n?(a(t,n),"remove"):(r(t,e,i),"change")}function d(t,e){return t.className.replace(w," ")==e.className.replace(w," ")}function f(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}function p(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var i,n,r,s=0,o=t.attributes.length;s<o;++s)if(i=t.attributes[s],"class"!=(r=i.name)){if(n=e.attributes.getNamedItem(r),i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function m(t,i){return e.dom.isCharacterDataNode(t)?0==i?!!t.previousSibling:i!=t.length||!!t.nextSibling:i>0&&i<t.childNodes.length}function g(t,i,n,r){var s;if(e.dom.isCharacterDataNode(i)&&(0==n?(n=e.dom.getNodeIndex(i),i=i.parentNode):n==i.length?(n=e.dom.getNodeIndex(i)+1,i=i.parentNode):s=e.dom.splitDataNode(i,n)),!(s||r&&i===r)){s=i.cloneNode(!1),s.id&&s.removeAttribute("id");for(var o;o=i.childNodes[n];)s.appendChild(o);e.dom.insertAfter(s,i)}return i==t?s:g(t,s.parentNode,e.dom.getNodeIndex(s),r)}function v(e){this.isElementMerge=e.nodeType==t.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function y(t,e,i,n,r,s,o){this.tagNames=t||[b],this.cssClass=e||!1!==e&&"",this.similarClassRegExp=i,this.cssStyle=r||"",this.similarStyleRegExp=s,this.normalize=n,this.applyToAnyTagName=!1,this.container=o}var b="span",w=/\s+/g;v.prototype={doMerge:function(){for(var t,e,i,n=[],r=0,s=this.textNodes.length;r<s;++r)t=this.textNodes[r],e=t.parentNode,n[r]=t.data,r&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=i=n.join(""),i},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,i=this.textNodes.length;e<i;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},y.prototype={getAncestorWithClass:function(n){for(var r;n;){if(r=this.cssClass?i(n,this.cssClass,this.similarClassRegExp):""===this.cssStyle,n.nodeType==t.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&r)return n;n=n.parentNode}return!1},getAncestorWithStyle:function(i){for(var r;i;){if(r=!!this.cssStyle&&n(i,this.similarStyleRegExp),i.nodeType==t.ELEMENT_NODE&&"false"!=i.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&r)return i;i=i.parentNode}return!1},getMatchingAncestor:function(t){var e=this.getAncestorWithClass(t),i=!1;return e?this.cssStyle&&(i="class"):(e=this.getAncestorWithStyle(t))&&(i="style"),{element:e,type:i}},postApply:function(t,e){for(var i,n,r,s=t[0],o=t[t.length-1],a=[],l=s,h=o,c=0,u=o.length,d=0,f=t.length;d<f;++d)n=t[d],r=null,n&&n.parentNode&&(r=this.getAdjacentMergeableTextNode(n.parentNode,!1)),r?(i||(i=new v(r),a.push(i)),i.textNodes.push(n),n===s&&(l=i.firstTextNode,c=l.length),n===o&&(h=i.firstTextNode,u=i.getLength())):i=null;if(o&&o.parentNode){var p=this.getAdjacentMergeableTextNode(o.parentNode,!0);p&&(i||(i=new v(o),a.push(i)),i.textNodes.push(p))}if(a.length){for(d=0,f=a.length;d<f;++d)a[d].doMerge();e.setStart(l,c),e.setEnd(h,u)}},getAdjacentMergeableTextNode:function(e,i){var n,r=e.nodeType==t.TEXT_NODE,s=r?e.parentNode:e,o=i?"nextSibling":"previousSibling";if(r){if((n=e[o])&&n.nodeType==t.TEXT_NODE)return n}else if((n=s[o])&&this.areElementsMergeable(e,n))return n[i?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,i){return e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&e.dom.arrayContains(this.tagNames,(i.tagName||"").toLowerCase())&&d(t,i)&&p(t,i)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),this.cssStyle&&e.setAttribute("style",this.cssStyle),e},applyToTextNode:function(t){var i=t.parentNode;if(1==i.childNodes.length&&e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase()))this.cssClass&&s(i,this.cssClass,this.similarClassRegExp),this.cssStyle&&r(i,this.cssStyle,this.similarStyleRegExp);else{var n=this.createContainer(e.dom.getDocument(t));t.parentNode.insertBefore(n,t),n.appendChild(t)}},isRemovable:function(i){return e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&""===t.lang.string(i.className).trim()&&(!i.getAttribute("style")||""===t.lang.string(i.getAttribute("style")).trim())},undoToTextNode:function(t,e,i,n){var r=!i,s=i||n,a=!1;if(!e.containsNode(s)){var l=e.cloneRange();l.selectNode(s),l.isPointInRange(e.endContainer,e.endOffset)&&m(e.endContainer,e.endOffset)&&(g(s,e.endContainer,e.endOffset,this.container),e.setEndAfter(s)),l.isPointInRange(e.startContainer,e.startOffset)&&m(e.startContainer,e.startOffset)&&(s=g(s,e.startContainer,e.startOffset,this.container))}!r&&this.similarClassRegExp&&o(s,this.similarClassRegExp),r&&this.similarStyleRegExp&&(a="change"===u(s,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(s)&&!a&&f(s)},applyToRange:function(e){for(var i,n=e.length;n--;){if(i=e[n].getNodes([t.TEXT_NODE]),!i.length)try{var r=this.createContainer(e[n].endContainer.ownerDocument);return e[n].surroundContents(r),void this.selectNode(e[n],r)}catch(t){}if(e[n].splitBoundaries(),i=e[n].getNodes([t.TEXT_NODE]),i.length){for(var s,o=0,a=i.length;o<a;++o)s=i[o],this.getMatchingAncestor(s).element||this.applyToTextNode(s);e[n].setStart(i[0],0),s=i[i.length-1],e[n].setEnd(s,s.length),this.normalize&&this.postApply(i,e[n])}}},undoToRange:function(e){for(var i,n,r,s=e.length;s--;){if(i=e[s].getNodes([t.TEXT_NODE]),i.length)e[s].splitBoundaries(),i=e[s].getNodes([t.TEXT_NODE]);else{var o=e[s].endContainer.ownerDocument,a=o.createTextNode(t.INVISIBLE_SPACE);e[s].insertNode(a),e[s].selectNode(a),i=[a]}for(var l=0,h=i.length;l<h;++l)e[s].isValid()&&(n=i[l],r=this.getMatchingAncestor(n),"style"===r.type?this.undoToTextNode(n,e[s],!1,r.element):r.element&&this.undoToTextNode(n,e[s],r.element));1==h?this.selectNode(e[s],i[0]):(e[s].setStart(i[0],0),n=i[i.length-1],e[s].setEnd(n,n.length),this.normalize&&this.postApply(i,e[s]))}},selectNode:function(e,i){var n=i.nodeType===t.ELEMENT_NODE,r=!("canHaveHTML"in i)||i.canHaveHTML,s=n?i.innerHTML:i.data,o=""===s||s===t.INVISIBLE_SPACE;if(o&&n&&r)try{i.innerHTML=t.INVISIBLE_SPACE}catch(t){}e.selectNodeContents(i),o&&n?e.collapse(!1):o&&(e.setStartAfter(i),e.setEndAfter(i))},getTextSelectedByRange:function(t,e){var i=e.cloneRange();i.selectNodeContents(t);var n=i.intersection(e),r=n?n.toString():"";return i.detach(),r},isAppliedToRange:function(e){for(var i,n,r=[],s="full",o=e.length;o--;){if(n=e[o].getNodes([t.TEXT_NODE]),!n.length)return!!(i=this.getMatchingAncestor(e[o].startContainer).element)&&{elements:[i],coverage:s};for(var a,l=0,h=n.length;l<h;++l)a=this.getTextSelectedByRange(n[l],e[o]),i=this.getMatchingAncestor(n[l]).element,i&&""!=a?(r.push(i),1===t.dom.getTextNodes(i,!0).length?s="full":"full"===s&&(s="inline")):i||(s="partial")}return!!r.length&&{elements:r,coverage:s}},toggleRange:function(t){var e,i=this.isAppliedToRange(t);i?"full"===i.coverage?this.undoToRange(t):"inline"===i.coverage?(e=c(i.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(t),e||this.applyToRange(t)):(c(i.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(t),this.applyToRange(t)):this.applyToRange(t)}},t.selection.HTMLApplier=y}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var i=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),r=i&&i.exec,s=null;if(this.editor.fire("beforecommand:composer"),r)n.unshift(this.composer),s=r.apply(i,n);else try{s=this.doc.execCommand(t,!1,e)}catch(t){}return this.editor.fire("aftercommand:composer"),s},state:function(t,e){var i=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),r=i&&i.state;if(r)return n.unshift(this.composer),r.apply(i,n);try{return this.doc.queryCommandState(t)}catch(t){return!1}},stateValue:function(t){var e=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),n=e&&e.stateValue;return!!n&&(i.unshift(this.composer),n.apply(e,i))}}),wysihtml5.commands.bold={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"b")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"b")}},function(t){function e(e,i){var o,a,l,h,c,u,d,f,p,m=e.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(t.commands.formatInline.exec(e,n,r,g,v,n,n,!0,!0),a=m.querySelectorAll(r+"."+g),o=a.length;y<o;y++){l=a[y],l.removeAttribute("class");for(p in i)"text"!==p&&l.setAttribute(p,i[p])}u=l,1===o&&(d=s.getTextContent(l),h=!!l.querySelector("*"),c=""===d||d===t.INVISIBLE_SPACE,!h&&c&&(s.setTextContent(l,i.text||l.href),f=m.createTextNode(" "),e.selection.setAfter(l),s.insert(f).after(l),u=f)),e.selection.setAfter(u)}function i(t,e,i){for(var n,r=e.length;r--;){n=e[r].attributes;for(var s=n.length;s--;)e[r].removeAttribute(n.item(s).name);for(var o in i)i.hasOwnProperty(o)&&e[r].setAttribute(o,i[o])}}var n,r="A",s=t.dom;t.commands.createLink={exec:function(t,n,r){var s=this.state(t,n);s?t.selection.executeAndRestore(function(){i(t,s,r)}):(r="object"==typeof r?r:{href:r},e(t,r))},state:function(e,i){return t.commands.formatInline.state(e,i,"A")}}}(wysihtml5),function(t){function e(t,e){for(var n,r,s,o=e.length,a=0;a<o;a++)n=e[a],r=i.getParentElement(n,{nodeName:"code"}),s=i.getTextContent(n),s.match(i.autoLink.URL_REG_EXP)&&!r?r=i.renameElement(n,"code"):i.replaceWithChildNodes(n)}var i=t.dom;t.commands.removeLink={exec:function(t,i){var n=this.state(t,i);n&&t.selection.executeAndRestore(function(){e(t,n)})},state:function(e,i){return t.commands.formatInline.state(e,i,"A")}}}(wysihtml5),function(t){var e=/wysiwyg-font-size-[0-9a-z\-]+/g;t.commands.fontSize={exec:function(i,n,r){t.commands.formatInline.execWithToggle(i,n,"span","wysiwyg-font-size-"+r,e)},state:function(i,n,r){return t.commands.formatInline.state(i,n,"span","wysiwyg-font-size-"+r,e)}}}(wysihtml5),function(t){var e=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;t.commands.fontSizeStyle={exec:function(i,n,r){r="object"==typeof r?r.size:r,/^\s*$/.test(r)||t.commands.formatInline.execWithToggle(i,n,"span",!1,!1,"font-size:"+r,e)},state:function(i,n,r){return t.commands.formatInline.state(i,n,"span",!1,!1,"font-size",e)},stateValue:function(e,i){var n,r=this.state(e,i);return r&&t.lang.object(r).isArray()&&(r=r[0]),!(!r||!(n=r.getAttribute("style")))&&t.quirks.styleParser.parseFontSize(n)}}}(wysihtml5),function(t){var e=/wysiwyg-color-[0-9a-z]+/g;t.commands.foreColor={exec:function(i,n,r){t.commands.formatInline.execWithToggle(i,n,"span","wysiwyg-color-"+r,e)},state:function(i,n,r){return t.commands.formatInline.state(i,n,"span","wysiwyg-color-"+r,e)}}}(wysihtml5),function(t){var e=/(\s|^)color\s*:\s*[^;\s]+;?/gi;t.commands.foreColorStyle={exec:function(i,n,r){var s,o=t.quirks.styleParser.parseColor("object"==typeof r?"color:"+r.color:"color:"+r,"color");o&&(s="color: rgb("+o[0]+","+o[1]+","+o[2]+");",1!==o[3]&&(s+="color: rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+");"),t.commands.formatInline.execWithToggle(i,n,"span",!1,!1,s,e))},state:function(i,n){return t.commands.formatInline.state(i,n,"span",!1,!1,"color",e)},stateValue:function(e,i,n){var r,s=this.state(e,i);return s&&t.lang.object(s).isArray()&&(s=s[0]),!!(s&&(r=s.getAttribute("style"))&&r)&&(val=t.quirks.styleParser.parseColor(r,"color"),t.quirks.styleParser.unparseColor(val,n))}}}(wysihtml5),function(t){var e=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;t.commands.bgColorStyle={exec:function(i,n,r){var s,o=t.quirks.styleParser.parseColor("object"==typeof r?"background-color:"+r.color:"background-color:"+r,"background-color");o&&(s="background-color: rgb("+o[0]+","+o[1]+","+o[2]+");",1!==o[3]&&(s+="background-color: rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+");"),t.commands.formatInline.execWithToggle(i,n,"span",!1,!1,s,e))},state:function(i,n){
return t.commands.formatInline.state(i,n,"span",!1,!1,"background-color",e)},stateValue:function(e,i,n){var r,s=this.state(e,i),o=!1;return s&&t.lang.object(s).isArray()&&(s=s[0]),!(!s||!(r=s.getAttribute("style")))&&(o=t.quirks.styleParser.parseColor(r,"background-color"),t.quirks.styleParser.unparseColor(o,n))}}}(wysihtml5),function(t){function e(e,i,r){e.className?(n(e,r),e.className=t.lang.string(e.className+" "+i).trim()):e.className=i}function i(e,i,n){r(e,n),e.getAttribute("style")?e.setAttribute("style",t.lang.string(e.getAttribute("style")+" "+i).trim()):e.setAttribute("style",i)}function n(e,i){var n=i.test(e.className);return e.className=e.className.replace(i,""),""==t.lang.string(e.className).trim()&&e.removeAttribute("class"),n}function r(e,i){var n=i.test(e.getAttribute("style"));return e.setAttribute("style",(e.getAttribute("style")||"").replace(i,"")),""==t.lang.string(e.getAttribute("style")||"").trim()&&e.removeAttribute("style"),n}function s(t){var e=t.lastChild;e&&o(e)&&e.parentNode.removeChild(e)}function o(t){return"BR"===t.nodeName}function a(e,i){e.selection.isCollapsed()&&e.selection.selectLine();for(var n=e.selection.surround(i),r=0,o=n.length;r<o;r++)t.dom.lineBreaks(n[r]).remove(),s(n[r])}function l(e){return!!t.lang.string(e.className).trim()}function h(e){return!!t.lang.string(e.getAttribute("style")||"").trim()}var c=t.dom,u=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];t.commands.formatBlock={exec:function(s,o,d,f,p,m,g){var v,y,b,w,x,_=(s.doc,this.state(s,o,d,f,p,m,g)),C=s.config.useLineBreaks,k=C?"DIV":"P";if(d="string"==typeof d?d.toUpperCase():d,_.length)return void s.selection.executeAndRestoreRangy(function(){for(var e=_.length;e--;){if(p&&(y=n(_[e],p)),g&&(w=r(_[e],g)),(w||y)&&null===d&&_[e].nodeName!=k)return;var i=l(_[e]),s=h(_[e]);i||s||!C&&"P"!==d?c.renameElement(_[e],"P"===d?"DIV":k):(t.dom.lineBreaks(_[e]).add(),c.replaceWithChildNodes(_[e]))}});(null===d||t.lang.array(u).contains(d))&&(v=s.selection.findNodesInSelection(u).concat(s.selection.getSelectedOwnNodes()),s.selection.executeAndRestoreRangy(function(){for(var t=v.length;t--;)x=c.getParentElement(v[t],{nodeName:u}),x==s.element&&(x=null),x&&(d&&(x=c.renameElement(x,d)),f&&e(x,f,p),m&&i(x,m,g),b=!0)}),b)||a(s,{nodeName:d||k,className:f||null,cssStyle:m||null})},state:function(e,i,n,r,s,o,a){var l,h=e.selection.getSelectedOwnNodes(),u=[];n="string"==typeof n?n.toUpperCase():n;for(var d=0,f=h.length;d<f;d++)(l=c.getParentElement(h[d],{nodeName:n,className:r,classRegExp:s,cssStyle:o,styleRegExp:a}))&&-1==t.lang.array(u).indexOf(l)&&u.push(l);return 0!=u.length&&u}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(t,e,i){var n,r,s,o=this.state(t);o?t.selection.executeAndRestore(function(){n=o.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(o),n&&wysihtml5.dom.replaceWithChildNodes(n)}):(r=t.selection.getRange(),s=r.extractContents(),o=t.doc.createElement("pre"),n=t.doc.createElement("code"),i&&(n.className=i),o.appendChild(n),n.appendChild(s),r.insertNode(o),t.selection.selectNode(o))},state:function(t){var e=t.selection.getSelectedNode();return e&&e.nodeName&&"PRE"==e.nodeName&&e.firstChild&&e.firstChild.nodeName&&"CODE"==e.firstChild.nodeName?e:wysihtml5.dom.getParentElement(e,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(e,{nodeName:"PRE"})}},function(t){function e(t){var e=n[t];return e?[t.toLowerCase(),e.toLowerCase()]:[t.toLowerCase()]}function i(i,n,s,o,a,l){var h=i;return n&&(h+=":"+n),o&&(h+=":"+o),r[h]||(r[h]=new t.selection.HTMLApplier(e(i),n,s,!0,o,a,l)),r[h]}var n={strong:"b",em:"i",b:"strong",i:"em"},r={};t.commands.formatInline={exec:function(t,e,n,r,s,o,a,l,h){var c=t.selection.createRange(),u=t.selection.getOwnRanges();if(!u||0==u.length)return!1;t.selection.getSelection().removeAllRanges(),i(n,r,s,o,a,t.element).toggleRange(u),l?h||t.cleanUp():(c.setStart(u[0].startContainer,u[0].startOffset),c.setEnd(u[u.length-1].endContainer,u[u.length-1].endOffset),t.selection.setSelection(c),t.selection.executeAndRestore(function(){h||t.cleanUp()},!0,!0))},execWithToggle:function(e,i,n,r,s,o,a){var l=this;if(this.state(e,i,n,r,s,o,a)&&e.selection.isCollapsed()&&!e.selection.caretIsLastInSelection()&&!e.selection.caretIsFirstInSelection()){var h=l.state(e,i,n,r,s)[0];e.selection.executeAndRestoreRangy(function(){h.parentNode;e.selection.selectNode(h,!0),t.commands.formatInline.exec(e,i,n,r,s,o,a,!0,!0)})}else this.state(e,i,n,r,s,o,a)&&!e.selection.isCollapsed()?e.selection.executeAndRestoreRangy(function(){t.commands.formatInline.exec(e,i,n,r,s,o,a,!0,!0)}):t.commands.formatInline.exec(e,i,n,r,s,o,a)},state:function(e,r,s,o,a,l,h){var c,u,d=e.doc,f=n[s]||s;return!(!t.dom.hasElementWithTagName(d,s)&&!t.dom.hasElementWithTagName(d,f))&&(!(o&&!t.dom.hasElementWithClassName(d,o))&&(!(!(c=e.selection.getOwnRanges())||0===c.length)&&(!(!(u=i(s,o,a,l,h,e.element).isAppliedToRange(c))||!u.elements)&&u.elements)))}}}(wysihtml5),function(t){t.commands.insertBlockQuote={exec:function(e,i){var n=this.state(e,i),r=e.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);e.selection.executeAndRestore(function(){if(n)e.config.useLineBreaks&&t.dom.lineBreaks(n).add(),t.dom.unwrap(n);else if(e.selection.isCollapsed()&&e.selection.selectLine(),r){var i=r.ownerDocument.createElement("blockquote");t.dom.insert(i).after(r),i.appendChild(r)}else e.selection.surround({nodeName:"blockquote"})})},state:function(e,i){var n=e.selection.getSelectedNode(),r=t.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,e.element);return r||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,i){t.commands.support(e)?t.doc.execCommand(e,!1,i):t.selection.insertHTML(i)},state:function(){return!1}},function(t){t.commands.insertImage={exec:function(e,i,n){n="object"==typeof n?n:{src:n};var r,s,o=e.doc,a=this.state(e);if(a)return e.selection.setBefore(a),s=a.parentNode,s.removeChild(a),t.dom.removeEmptyTextNodes(s),"A"!==s.nodeName||s.firstChild||(e.selection.setAfter(s),s.parentNode.removeChild(s)),void t.quirks.redraw(e.element);a=o.createElement("IMG");for(var l in n)a.setAttribute("className"===l?"class":l,n[l]);e.selection.insertNode(a),t.browser.hasProblemsSettingCaretAfterImg()?(r=o.createTextNode(t.INVISIBLE_SPACE),e.selection.insertNode(r),e.selection.setAfter(r)):e.selection.setAfter(a)},state:function(e){var i,n,r,s=e.doc;return!!t.dom.hasElementWithTagName(s,"IMG")&&(!!(i=e.selection.getSelectedNode())&&("IMG"===i.nodeName?i:i.nodeType===t.ELEMENT_NODE&&(n=e.selection.getText(),!(n=t.lang.string(n).trim())&&(r=e.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName}),1===r.length&&r[0]))))}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(i,n){i.commands.support(n)?(i.doc.execCommand(n,!1,null),t.browser.autoScrollsToCaret()||i.selection.scrollIntoView()):i.commands.exec("insertHTML",e)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"OL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"UL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"UL")}},wysihtml5.commands.insertList=function(t){var e=function(t,e){if(t&&t.nodeName){"string"==typeof e&&(e=[e]);for(var i=e.length;i--;)if(t.nodeName===e[i])return!0}return!1},i=function(i,n,r){var s={el:null,other:!1};if(i){var o=t.dom.getParentElement(i,{nodeName:"LI"}),a="UL"===n?"OL":"UL";e(i,n)?s.el=i:e(i,a)?s={el:i,other:!0}:o&&(e(o.parentNode,n)?s.el=o.parentNode:e(o.parentNode,a)&&(s={el:o.parentNode,other:!0}))}return s.el&&!r.element.contains(s.el)&&(s.el=null),s},n=function(e,i,n){var r,o="UL"===i?"OL":"UL";n.selection.executeAndRestore(function(){var a=s(o,n);if(a.length)for(var l=a.length;l--;)t.dom.renameElement(a[l],i.toLowerCase());else{r=s(["OL","UL"],n);for(var h=r.length;h--;)t.dom.resolveList(r[h],n.config.useLineBreaks);t.dom.resolveList(e,n.config.useLineBreaks)}})},r=function(e,i,n){var r="UL"===i?"OL":"UL";n.selection.executeAndRestore(function(){for(var o=[e].concat(s(r,n)),a=o.length;a--;)t.dom.renameElement(o[a],i.toLowerCase())})},s=function(t,i){for(var n=i.selection.getOwnRanges(),r=[],s=n.length;s--;)r=r.concat(n[s].getNodes([1],function(i){return e(i,t)}));return r},o=function(e,i){i.selection.executeAndRestoreRangy(function(){var n,r,s="_wysihtml5-temp-"+(new Date).getTime(),o=i.selection.deblockAndSurround({nodeName:"div",className:s}),a=/\uFEFF/g;o.innerHTML=o.innerHTML.replace(a,""),o&&(n=t.lang.array(["","<br>",t.INVISIBLE_SPACE]).contains(o.innerHTML),r=t.dom.convertToList(o,e.toLowerCase(),i.parent.config.uneditableContainerClassname),n&&i.selection.selectNode(r.querySelector("li"),!0))})};return{exec:function(t,e,s){var a=t.doc,l="OL"===s?"insertOrderedList":"insertUnorderedList",h=t.selection.getSelectedNode(),c=i(h,s,t);c.el?c.other?r(c.el,s,t):n(c.el,s,t):t.commands.support(l)?a.execCommand(l,!1,null):o(s,t)},state:function(t,e,n){var r=t.selection.getSelectedNode(),s=i(r,n,t);return!(!s.el||s.other)&&s.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"i")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"i")}},function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyCenter={exec:function(i,n){return t.commands.formatBlock.exec(i,"formatBlock",null,"wysiwyg-text-align-center",e)},state:function(i,n){return t.commands.formatBlock.state(i,"formatBlock",null,"wysiwyg-text-align-center",e)}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyLeft={exec:function(i,n){return t.commands.formatBlock.exec(i,"formatBlock",null,"wysiwyg-text-align-left",e)},state:function(i,n){return t.commands.formatBlock.state(i,"formatBlock",null,"wysiwyg-text-align-left",e)}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyRight={exec:function(i,n){return t.commands.formatBlock.exec(i,"formatBlock",null,"wysiwyg-text-align-right",e)},state:function(i,n){return t.commands.formatBlock.state(i,"formatBlock",null,"wysiwyg-text-align-right",e)}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyFull={exec:function(i,n){return t.commands.formatBlock.exec(i,"formatBlock",null,"wysiwyg-text-align-justify",e)},state:function(i,n){return t.commands.formatBlock.state(i,"formatBlock",null,"wysiwyg-text-align-justify",e)}}}(wysihtml5),function(t){var e=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignRightStyle={exec:function(i,n){return t.commands.formatBlock.exec(i,"formatBlock",null,null,null,"text-align: right;",e)},state:function(i,n){return t.commands.formatBlock.state(i,"formatBlock",null,null,null,"text-align: right;",e)}}}(wysihtml5),function(t){var e=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignLeftStyle={exec:function(i,n){return t.commands.formatBlock.exec(i,"formatBlock",null,null,null,"text-align: left;",e)},state:function(i,n){return t.commands.formatBlock.state(i,"formatBlock",null,null,null,"text-align: left;",e)}}}(wysihtml5),function(t){var e=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignCenterStyle={exec:function(i,n){return t.commands.formatBlock.exec(i,"formatBlock",null,null,null,"text-align: center;",e)},state:function(i,n){return t.commands.formatBlock.state(i,"formatBlock",null,null,null,"text-align: center;",e)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(t){return t.undoManager.redo()},state:function(t){return!1}},wysihtml5.commands.underline={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"u")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"u")}},wysihtml5.commands.undo={exec:function(t){return t.undoManager.undo()},state:function(t){return!1}},wysihtml5.commands.createTable={exec:function(t,e,i){var n,r,s;if(i&&i.cols&&i.rows&&parseInt(i.cols,10)>0&&parseInt(i.rows,10)>0){for(s=i.tableStyle?'<table style="'+i.tableStyle+'">':"<table>",s+="<tbody>",r=0;r<i.rows;r++){for(s+="<tr>",n=0;n<i.cols;n++)s+="<td>&nbsp;</td>";s+="</tr>"}s+="</tbody></table>",t.commands.exec("insertHTML",s)}},state:function(t,e){return!1}},wysihtml5.commands.mergeTableCells={exec:function(t,e){t.tableSelection&&t.tableSelection.start&&t.tableSelection.end&&(this.state(t,e)?wysihtml5.dom.table.unmergeCell(t.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(t.tableSelection.start,t.tableSelection.end))},state:function(t,e){if(t.tableSelection){var i=t.tableSelection.start,n=t.tableSelection.end;if(i&&n&&i==n&&(wysihtml5.dom.getAttribute(i,"colspan")&&parseInt(wysihtml5.dom.getAttribute(i,"colspan"),10)>1||wysihtml5.dom.getAttribute(i,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(i,"rowspan"),10)>1))return[i]}return!1}},wysihtml5.commands.addTableCells={exec:function(t,e,i){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var n=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end);"before"==i||"above"==i?wysihtml5.dom.table.addCells(n.start,i):"after"!=i&&"below"!=i||wysihtml5.dom.table.addCells(n.end,i),setTimeout(function(){t.tableSelection.select(n.start,n.end)},0)}},state:function(t,e){return!1}},wysihtml5.commands.deleteTableCells={exec:function(t,e,i){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var n,r=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end),s=wysihtml5.dom.table.indexOf(r.start),o=t.tableSelection.table;wysihtml5.dom.table.removeCells(r.start,i),setTimeout(function(){n=wysihtml5.dom.table.findCell(o,s),n||("row"==i&&(n=wysihtml5.dom.table.findCell(o,{row:s.row-1,col:s.col})),"column"==i&&(n=wysihtml5.dom.table.findCell(o,{row:s.row,col:s.col-1}))),n&&t.tableSelection.select(n,n)},0)}},state:function(t,e){return!1}},wysihtml5.commands.indentList={exec:function(t,e,i){var n=t.selection.getSelectionParentsByTag("LI");return!!n&&this.tryToPushLiLevel(n,t.selection)},state:function(t,e){return!1},tryToPushLiLevel:function(t,e){var i,n,r,s,o,a=!1;return e.executeAndRestoreRangy(function(){for(var e=t.length;e--;)s=t[e],i="OL"===s.parentNode.nodeName?"OL":"UL",n=s.ownerDocument.createElement(i),r=wysihtml5.dom.domNode(s).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),o=r?r.querySelector("ul, ol"):null,r&&(o?o.appendChild(s):(n.appendChild(s),r.appendChild(n)),a=!0)}),a}},wysihtml5.commands.outdentList={exec:function(t,e,i){var n=t.selection.getSelectionParentsByTag("LI");return!!n&&this.tryToPullLiLevel(n,t)},state:function(t,e){return!1},tryToPullLiLevel:function(t,e){var i,n,r,s,o,a=!1,l=this;return e.selection.executeAndRestoreRangy(function(){for(var h=t.length;h--;)if(s=t[h],s.parentNode&&(i=s.parentNode,"OL"===i.tagName||"UL"===i.tagName)){if(a=!0,n=wysihtml5.dom.getParentElement(i.parentNode,{nodeName:["OL","UL"]},!1,e.element),r=wysihtml5.dom.getParentElement(i.parentNode,{nodeName:["LI"]},!1,e.element),n&&r)s.nextSibling&&(o=l.getAfterList(i,s),s.appendChild(o)),n.insertBefore(s,r.nextSibling);else{s.nextSibling&&(o=l.getAfterList(i,s),s.appendChild(o));for(var c=s.childNodes.length;c--;)i.parentNode.insertBefore(s.childNodes[c],i.nextSibling);i.parentNode.insertBefore(document.createElement("br"),i.nextSibling),s.parentNode.removeChild(s)}0===i.childNodes.length&&i.parentNode.removeChild(i)}}),a},getAfterList:function(t,e){for(var i=t.nodeName,n=document.createElement(i);e.nextSibling;)n.appendChild(e.nextSibling);return n}},function(t){var e="data-wysihtml5-selection-node",i="data-wysihtml5-selection-offset",n=(t.INVISIBLE_SPACE,t.INVISIBLE_SPACE,t.dom);t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var t,e=this;this.composer.sandbox.getDocument();n.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var i=t.keyCode,n=90===i&&!t.shiftKey,r=90===i&&t.shiftKey||89===i;n?(e.undo(),t.preventDefault()):r&&(e.redo(),t.preventDefault())}}),n.observe(this.element,"keydown",function(i){var n=i.keyCode;n!==t&&(t=n,8!==n&&46!==n||e.transact())}),this.editor.on("newword:composer",function(){e.transact()}).on("beforecommand:composer",function(){e.transact()})},transact:function(){var n,r,s,o,a,l=this.historyStr[this.position-1],h=this.composer.getValue(!1,!1),c=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(h!==l){(this.historyStr.length=this.historyDom.length=this.position)>25&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,c&&(n=this.composer.selection.getRange(),r=n&&n.startContainer?n.startContainer:this.element,s=n&&n.startOffset?n.startOffset:0,r.nodeType===t.ELEMENT_NODE?o=r:(o=r.parentNode,a=this.getChildNodeIndex(o,r)),o.setAttribute(i,s),void 0!==a&&o.setAttribute(e,a));var u=this.element.cloneNode(!!h);this.historyDom.push(u),this.historyStr.push(h),o&&(o.removeAttribute(i),o.removeAttribute(e))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(t){this.element.innerHTML="";for(var n=0,r=t.childNodes,s=t.childNodes.length;n<s;n++)this.element.appendChild(r[n].cloneNode(!0));var o,a,l;t.hasAttribute(i)?(o=t.getAttribute(i),l=t.getAttribute(e),a=this.element):(a=this.element.querySelector("["+i+"]")||this.element,o=a.getAttribute(i),l=a.getAttribute(e),a.removeAttribute(i),a.removeAttribute(e)),null!==l&&(a=this.getChildNodeByIndex(a,+l)),this.composer.selection.set(a,o)},getChildNodeIndex:function(t,e){for(var i=0,n=t.childNodes,r=n.length;i<r;i++)if(n[i]===e)return i},getChildNodeByIndex:function(t,e){return t.childNodes[e]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,i){this.parent=t,this.element=e,this.config=i,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.on("beforeload",function(){t.parent.on("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,i=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,i){this.base(t,e,i),this.config.noTextarea?this.editableArea=e:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=i.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e,i){var n=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return!1!==e&&(n=this.parent.parse(n,!1!==i)),n},setValue:function(t,e){e&&(t=this.parent.parse(t));try{this.element.innerHTML=t}catch(e){this.element.innerText=t}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=e.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var i=this.element.lastChild;e&&i&&this.selection&&("BR"===i.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var t=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(t)||""===t||"<br>"===t||"<p></p>"===t||"<p><br></p>"===t||this.hasPlaceholderSet()},_initContentEditableArea:function(){var t=this;this.config.noTextarea?this.sandbox=new e.ContentEditableArea(function(){t._create()},{},this.editableArea):(this.sandbox=new e.ContentEditableArea(function(){t._create()}),this.editableArea=this.sandbox.getContentEditable(),e.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var i=this.textarea.element;e.insert(this.editableArea).after(i),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var t=document.createElement("input");t.type="hidden",t.name="_wysihtml5_mode",t.value=1,e.insert(t).after(this.textarea.element)}},_create:function(){var n=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new t.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new t.Commands(this.parent),this.config.noTextarea||e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var r=this.config.name;r&&(e.addClass(this.element,r),this.config.contentEditableMode||e.addClass(this.editableArea,r)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var s="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");s&&e.simulatePlaceholder(this.parent,this,s),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||i.isIos()||setTimeout(function(){n.focus(!0)},100),i.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,r=i.canDisableAutoLinking(),s=i.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!s||s&&r)&&(this.parent.on("newword:composer",function(){e.getTextContent(n.element).match(e.autoLink.URL_REG_EXP)&&n.selection.executeAndRestore(function(i,r){for(var s=n.element.querySelectorAll("."+n.config.uneditableContainerClassname),o=!1,a=s.length;a--;)t.dom.contains(s[a],r)&&(o=!0);o||e.autoLink(r.parentNode,[n.config.uneditableContainerClassname])})}),e.observe(this.element,"blur",function(){e.autoLink(n.element,[n.config.uneditableContainerClassname])}));var o=this.sandbox.getDocument().getElementsByTagName("a"),a=e.autoLink.URL_REG_EXP,l=function(i){var n=t.lang.string(e.getTextContent(i)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};e.observe(this.element,"keydown",function(t){if(o.length){var i,r=n.selection.getSelectedNode(t.target.ownerDocument),s=e.getParentElement(r,{nodeName:"A"},4);s&&(i=l(s),setTimeout(function(){var t=l(s);t!==i&&t.match(a)&&s.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),i.supportsEvent("resizeend")){var n=["width","height"],r=n.length,s=this.element;e.observe(s,"resizeend",function(e){var i,o=e.target||e.srcElement,a=o.style,l=0;if("IMG"===o.nodeName){for(;l<r;l++)i=n[l],a[i]&&(o.setAttribute(i,parseInt(a[i],10)),a[i]="");t.quirks.redraw(s)}})}},_initUndoManager:function(){this.undoManager=new t.UndoManager(this.parent)},_initLineBreaking:function(){function n(t){var i=e.getParentElement(t,{nodeName:["P","DIV"]},2);i&&e.contains(r.element,i)&&r.selection.executeAndRestore(function(){r.config.useLineBreaks?e.replaceWithChildNodes(i):"P"!==i.nodeName&&e.renameElement(i,"p")})}var r=this,s=["LI","P","H1","H2","H3","H4","H5","H6"],o=["UL","OL","MENU"];this.config.useLineBreaks||e.observe(this.element,["focus","keydown"],function(){if(r.isEmpty()){var t=r.doc.createElement("P");r.element.innerHTML="",r.element.appendChild(t),i.displaysCaretInEmptyContentEditableCorrectly()?r.selection.selectNode(t,!0):(t.innerHTML="<br>",r.selection.setBefore(t.firstChild))}}),e.observe(this.element,"keydown",function(i){var a=i.keyCode;if(!i.shiftKey&&(a===t.ENTER_KEY||a===t.BACKSPACE_KEY)){var l=e.getParentElement(r.selection.getSelectedNode(),{nodeName:s},4);if(l)return void setTimeout(function(){var i,s=r.selection.getSelectedNode();if("LI"===l.nodeName){if(!s)return;i=e.getParentElement(s,{nodeName:o},2),i||n(s)}a===t.ENTER_KEY&&l.nodeName.match(/^H[1-6]$/)&&n(s)},0);r.config.useLineBreaks&&a===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(i.preventDefault(),r.commands.exec("insertLineBreak"))}})}})}(wysihtml5),function(t){var e=t.dom,i=document,n=window,r=i.createElement("div"),s=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],o=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],a=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(t){if(t.setActive)try{t.setActive()}catch(t){}else{var r=t.style,s=i.documentElement.scrollTop||i.body.scrollTop,o=i.documentElement.scrollLeft||i.body.scrollLeft,a={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(a).on(t),n.scrollTo&&n.scrollTo(o,s)}};t.views.Composer.prototype.style=function(){var n,h=this,c=i.querySelector(":focus"),u=this.textarea.element,d=u.hasAttribute("placeholder"),f=d&&u.getAttribute("placeholder"),p=u.style.display,m=u.disabled;this.focusStylesHost=r.cloneNode(!1),this.blurStylesHost=r.cloneNode(!1),this.disabledStylesHost=r.cloneNode(!1),d&&u.removeAttribute("placeholder"),u===c&&u.blur(),u.disabled=!1,u.style.display=n="none",(u.getAttribute("rows")&&"auto"===e.getStyle("height").from(u)||u.getAttribute("cols")&&"auto"===e.getStyle("width").from(u))&&(u.style.display=n=p),e.copyStyles(o).from(u).to(this.editableArea).andTo(this.blurStylesHost),e.copyStyles(s).from(u).to(this.element).andTo(this.blurStylesHost),e.insertCSS(a).into(this.element.ownerDocument),u.disabled=!0,e.copyStyles(o).from(u).to(this.disabledStylesHost),e.copyStyles(s).from(u).to(this.disabledStylesHost),u.disabled=m,u.style.display=p,l(u),u.style.display=n,e.copyStyles(o).from(u).to(this.focusStylesHost),e.copyStyles(s).from(u).to(this.focusStylesHost),u.style.display=p,e.copyStyles(["display"]).from(u).to(this.editableArea);var g=t.lang.array(o).without(["display"]);return c?c.focus():u.blur(),d&&u.setAttribute("placeholder",f),this.parent.on("focus:composer",function(){e.copyStyles(g).from(h.focusStylesHost).to(h.editableArea),e.copyStyles(s).from(h.focusStylesHost).to(h.element)}),this.parent.on("blur:composer",function(){e.copyStyles(g).from(h.blurStylesHost).to(h.editableArea),e.copyStyles(s).from(h.blurStylesHost).to(h.element)}),this.parent.observe("disable:composer",function(){e.copyStyles(g).from(h.disabledStylesHost).to(h.editableArea),e.copyStyles(s).from(h.disabledStylesHost).to(h.element)}),this.parent.observe("enable:composer",function(){e.copyStyles(g).from(h.blurStylesHost).to(h.editableArea),e.copyStyles(s).from(h.blurStylesHost).to(h.element)}),this}}(wysihtml5),function(t){var e=t.dom,i=t.browser,n={66:"bold",73:"italic",85:"underline"},r=function(t,e,i){var n=t.getPreviousNode(e,!0),r=t.getSelectedNode();if(1!==r.nodeType&&r.parentNode!==i&&(r=r.parentNode),n)if(1==r.nodeType){var s=r.firstChild;if(1==n.nodeType)for(;r.firstChild;)n.appendChild(r.firstChild);else for(;r.firstChild;)e.parentNode.insertBefore(r.firstChild,e);r.parentNode&&r.parentNode.removeChild(r),t.setBefore(s)}else 1==n.nodeType?n.appendChild(r):e.parentNode.insertBefore(r,e),t.setBefore(r)},s=function(t,e,i,n){if(e.isCollapsed())if(e.caretIsInTheBeginnig("LI"))t.preventDefault(),n.commands.exec("outdentList");else if(e.caretIsInTheBeginnig())t.preventDefault();else{if(e.caretIsFirstInSelection()&&e.getPreviousNode()&&e.getPreviousNode().nodeName&&/^H\d$/gi.test(e.getPreviousNode().nodeName)){var s=e.getPreviousNode();if(t.preventDefault(),/^\s*$/.test(s.textContent||s.innerText))s.parentNode.removeChild(s);else{var o=s.ownerDocument.createRange();o.selectNodeContents(s),o.collapse(!1),e.setSelection(o)}}var a=e.caretIsBeforeUneditable();a&&(t.preventDefault(),r(e,a,i))}else e.containsUneditable()&&(t.preventDefault(),e.deleteContents())},o=function(t,e){if(t.selection.isCollapsed()){if(t.selection.caretIsInTheBeginnig("LI")&&t.commands.exec("indentList"))return}else t.selection.deleteContents();t.commands.exec("insertHTML","&emsp;")};t.views.Composer.prototype.observe=function(){var r=this,a=this.getValue(!1,!1),l=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),h=this.element,c=i.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?h:this.sandbox.getWindow(),u=["drop","paste"],d=["drop","paste","mouseup","focus","keyup"];if(e.observe(l,"DOMNodeRemoved",function(){
clearInterval(f),r.parent.fire("destroy:composer")}),!i.supportsMutationEvents())var f=setInterval(function(){e.contains(document.documentElement,l)||(clearInterval(f),r.parent.fire("destroy:composer"))},250);e.observe(c,d,function(){setTimeout(function(){r.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&t.browser.supportsCommand(this.doc,"enableObjectResizing")&&t.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=e.observe(l,["focus","mouseup","mouseover"],function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false"),r.tableClickHandle.stop()}):setTimeout(function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=t.quirks.tableCellsSelection(h,r.parent)),e.observe(c,"focus",function(t){r.parent.fire("focus",t).fire("focus:composer",t),setTimeout(function(){a=r.getValue(!1,!1)},0)}),e.observe(c,"blur",function(t){if(a!==r.getValue(!1,!1)){var e=t;"function"==typeof Object.create&&(e=Object.create(t,{type:{value:"change"}})),r.parent.fire("change",e).fire("change:composer",e)}r.parent.fire("blur",t).fire("blur:composer",t)}),e.observe(h,"dragenter",function(){r.parent.fire("unset_placeholder")}),e.observe(h,u,function(t){setTimeout(function(){r.parent.fire(t.type,t).fire(t.type+":composer",t)},0)}),e.observe(h,"keyup",function(e){var i=e.keyCode;i!==t.SPACE_KEY&&i!==t.ENTER_KEY||r.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),i.canSelectImagesInContentEditable()||e.observe(h,"mousedown",function(e){var i=e.target,n=h.querySelectorAll("img"),s=h.querySelectorAll("."+r.config.uneditableContainerClassname+" img"),o=t.lang.array(n).without(s);"IMG"===i.nodeName&&t.lang.array(o).contains(i)&&r.selection.selectNode(i)}),i.canSelectImagesInContentEditable()||e.observe(h,"drop",function(t){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}),i.hasHistoryIssue()&&i.supportsSelectionModify()&&e.observe(h,"keydown",function(t){if(t.metaKey||t.ctrlKey){var e=t.keyCode,i=h.ownerDocument.defaultView,n=i.getSelection();37!==e&&39!==e||(37===e&&(n.modify("extend","left","lineboundary"),t.shiftKey||n.collapseToStart()),39===e&&(n.modify("extend","right","lineboundary"),t.shiftKey||n.collapseToEnd()),t.preventDefault())}}),e.observe(h,"keydown",function(t){var e=t.keyCode,i=n[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&i&&(r.commands.exec(i),t.preventDefault()),8===e?s(t,r.selection,h,r):r.config.handleTabKey&&9===e&&(t.preventDefault(),o(r))}),e.observe(h,"keydown",function(e){var i,n=r.selection.getSelectedNode(!0),s=e.keyCode;!n||"IMG"!==n.nodeName||s!==t.BACKSPACE_KEY&&s!==t.DELETE_KEY||(i=n.parentNode,i.removeChild(n),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){t.quirks.redraw(h)},0),e.preventDefault())}),!this.config.contentEditableMode&&i.hasIframeFocusIssue()&&(e.observe(l,"focus",function(){setTimeout(function(){r.doc.querySelector(":focus")!==r.element&&r.focus()},0)}),e.observe(this.element,"blur",function(){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}));var p={IMG:"Image: ",A:"Link: "};e.observe(h,"mouseover",function(t){var e,i=t.target,n=i.nodeName;if("A"===n||"IMG"===n){i.hasAttribute("title")||(e=p[n]+(i.getAttribute("href")||i.getAttribute("src")),i.setAttribute("title",e))}})}}(wysihtml5),function(t){t.views.Synchronizer=Base.extend({constructor:function(t,e,i){this.editor=t,this.textarea=e,this.composer=i,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue(!1,!1)).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue(!1,!1);e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var e,i=this,n=this.textarea.element.form,r=function(){e=setInterval(function(){i.fromComposerToTextarea()},400)},s=function(){clearInterval(e),e=null};r(),n&&(t.dom.observe(n,"submit",function(){i.sync(!0)}),t.dom.observe(n,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(t){"composer"!==t||e?"textarea"===t&&(i.fromComposerToTextarea(!0),s()):(i.fromTextareaToComposer(!0),r())}),this.editor.on("destroy:composer",s)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,i){this.base(t,e,i),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return!1!==t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},cleanUp:function(){var t=this.parent.parse(this.element.value);this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,i=this.element.value,n=!i;return t&&n||i===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,i={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.on("beforeload",function(){wysihtml5.dom.observe(t,n,function(t){var n=i[t.type]||t.type;e.fire(n).fire(n+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};t.Editor=t.lang.Dispatcher.extend({constructor:function(i,n){if(this.editableElement="string"==typeof i?document.getElementById(i):i,this.config=t.lang.object({}).merge(e).merge(n).get(),this._isCompatible=t.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new t.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var r=this;return void setTimeout(function(){r.fire("beforeload").fire("load")},0)}t.dom.addClass(document.body,this.config.bodyClassName),this.composer=new t.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t,e){return this.currentView.getValue(t,e)},setValue:function(t,e){return this.fire("unset_placeholder"),t?(this.currentView.setValue(t,e),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e,i){var n=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,r=this.config.parser(e,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:n,uneditableClass:this.config.uneditableContainerClassname,clearInternals:i});return"object"==typeof e&&t.quirks.redraw(e),r},_initParser:function(){this.on("paste:composer",function(){var e=this;e.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(e.composer.element),e.parse(e.composer.element)},!0)})}})}(wysihtml5),function(t){var e=t.dom,i="wysihtml5-command-dialog-opened";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var n=this,r=function(t){var e=n._serialize();e==n.elementToChange?n.fire("edit",e):n.fire("save",e),n.hide(),t.preventDefault(),t.stopPropagation()};e.observe(n.link,"click",function(){e.hasClass(n.link,i)&&setTimeout(function(){n.hide()},0)}),e.observe(this.container,"keydown",function(e){var i=e.keyCode;i===t.ENTER_KEY&&r(e),i===t.ESCAPE_KEY&&(n.fire("cancel"),n.hide())}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",r),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){n.fire("cancel"),n.hide(),t.preventDefault(),t.stopPropagation()});for(var s=this.container.querySelectorAll("input, select, textarea"),o=0,a=s.length,l=function(){clearInterval(n.interval)};o<a;o++)e.observe(s[o],"change",l);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),i=e.length,n=0;n<i;n++)t[e[n].getAttribute("data-wysihtml5-dialog-field")]=e[n].value;return t},_interpolate:function(t){for(var e,i,n,r=document.querySelector(":focus"),s=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),o=s.length,a=0;a<o;a++)(e=s[a])!==r&&(t&&"hidden"===e.type||(i=e.getAttribute("data-wysihtml5-dialog-field"),n=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(i)||"":e.defaultValue,e.value=n))},show:function(t){if(!e.hasClass(this.link,i)){var n=this,r=this.container.querySelector("input, select, textarea");if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){n._interpolate(!0)},500)),e.addClass(this.link,i),this.container.style.display="",this.fire("show"),r&&!t)try{r.focus()}catch(t){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,i),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,i={position:"relative"},n={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},s={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(o,a){var l=document.createElement("input");if(!t.browser.supportsSpeechApiOn(l))return void(a.style.display="none");var h=o.editor.textarea.element.getAttribute("lang");h&&(s.lang=h);var c=document.createElement("div");t.lang.object(n).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),e.insert(l).into(c),e.insert(c).into(a),e.setStyles(r).on(l),e.setAttributes(s).on(l),e.setStyles(n).on(c),e.setStyles(i).on(a);var u="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";e.observe(l,u,function(){o.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(a,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}}(wysihtml5),function(t){var e=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,i,n){this.editor=e,this.container="string"==typeof i?document.getElementById(i):i,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),n&&this.show();for(var r=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),s=r.length,o=0;o<s;o++)new t.toolbar.Speech(this,r[o])},_getLinks:function(e){for(var i,n,r,s,o,a=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=a.length,h=0,c=this[e+"Mapping"]={};h<l;h++)i=a[h],r=i.getAttribute("data-wysihtml5-"+e),s=i.getAttribute("data-wysihtml5-"+e+"-value"),n=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+r+"']"),o=this._getDialog(i,r),c[r+":"+s]={link:i,group:n,name:r,value:s,dialog:o,state:!1}},_getDialog:function(e,i){var n,r,s=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return o&&(n=t.toolbar["Dialog_"+i]?new t.toolbar["Dialog_"+i](e,o):new t.toolbar.Dialog(e,o),n.on("show",function(){r=s.composer.selection.getBookmark(),s.editor.fire("show:dialog",{command:i,dialogContainer:o,commandLink:e})}),n.on("save",function(t){r&&s.composer.selection.setBookmark(r),s._execCommand(i,t),s.editor.fire("save:dialog",{command:i,dialogContainer:o,commandLink:e})}),n.on("cancel",function(){s.editor.focus(!1),s.editor.fire("cancel:dialog",{command:i,dialogContainer:o,commandLink:e})})),n},execCommand:function(t,e){if(!this.commandsDisabled){var i=this.commandMapping[t+":"+e];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;"change_view"===t&&e.textarea&&(e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")),"showSource"==t&&e.fire("showSource")},_observe:function(){for(var t=this,i=this.editor,n=this.container,r=this.commandLinks.concat(this.actionLinks),s=r.length,o=0;o<s;o++)"A"===r[o].nodeName?e.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[o]):e.setAttributes({unselectable:"on"}).on(r[o]);e.delegate(n,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(t){t.preventDefault()}),e.delegate(n,"[data-wysihtml5-command]","click",function(e){var i=this,n=i.getAttribute("data-wysihtml5-command"),r=i.getAttribute("data-wysihtml5-command-value");t.execCommand(n,r),e.preventDefault()}),e.delegate(n,"[data-wysihtml5-action]","click",function(e){var i=this.getAttribute("data-wysihtml5-action");t.execAction(i),e.preventDefault()}),i.on("interaction:composer",function(){t._updateLinkStates()}),i.on("focus:composer",function(){t.bookmark=null}),this.editor.config.handleTables&&(i.on("tableselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),i.on("tableunselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),i.on("change_view",function(r){i.textarea&&setTimeout(function(){t.commandsDisabled="composer"!==r,t._updateLinkStates(),t.commandsDisabled?e.addClass(n,"wysihtml5-commands-disabled"):e.removeClass(n,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var i,n,r,s,o=this.commandMapping,a=this.actionMapping;for(i in o)s=o[i],this.commandsDisabled?(n=!1,e.removeClass(s.link,"wysihtml5-command-active"),s.group&&e.removeClass(s.group,"wysihtml5-command-active"),s.dialog&&s.dialog.hide()):(n=this.composer.commands.state(s.name,s.value),e.removeClass(s.link,"wysihtml5-command-disabled"),s.group&&e.removeClass(s.group,"wysihtml5-command-disabled")),s.state!==n&&(s.state=n,n?(e.addClass(s.link,"wysihtml5-command-active"),s.group&&e.addClass(s.group,"wysihtml5-command-active"),s.dialog&&("object"==typeof n||t.lang.object(n).isArray()?(!s.dialog.multiselect&&t.lang.object(n).isArray()&&(n=1!==n.length||n[0],s.state=n),s.dialog.show(n)):s.dialog.hide())):(e.removeClass(s.link,"wysihtml5-command-active"),s.group&&e.removeClass(s.group,"wysihtml5-command-active"),s.dialog&&s.dialog.hide()));for(i in a)r=a[i],"change_view"===r.name&&(r.state=this.editor.currentView===this.editor.textarea,r.state?e.addClass(r.link,"wysihtml5-action-active"):e.removeClass(r.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){t.toolbar.Dialog_createTable=t.toolbar.Dialog.extend({show:function(t){this.base(t)}})}(wysihtml5),function(t){t.dom;t.toolbar.Dialog_foreColorStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var t={},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),i=e.length,n=0;n<i;n++)t[e[n].getAttribute("data-wysihtml5-dialog-field")]=e[n].value;return t},_interpolate:function(e){for(var i,n=document.querySelector(":focus"),r=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),s=r.length,o=0,a=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,l=a?a.getAttribute("style"):null,h=l?t.quirks.styleParser.parseColor(l,"color"):null;o<s;o++)(i=r[o])!==n&&(e&&"hidden"===i.type||"color"===i.getAttribute("data-wysihtml5-dialog-field")&&(h?h[3]&&1!=h[3]?i.value="rgba("+h[0]+","+h[1]+","+h[2]+","+h[3]+");":i.value="rgb("+h[0]+","+h[1]+","+h[2]+");":i.value="rgb(0,0,0);"))}})}(wysihtml5),function(t){t.dom;t.toolbar.Dialog_fontSizeStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(e){var i=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),r=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,s=r?r.getAttribute("style"):null,o=s?t.quirks.styleParser.parseFontSize(s):null;n&&n!==i&&o&&!/^\s*$/.test(o)&&(n.value=o)}})}(wysihtml5);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(t){"use strict";function e(t){return a[t]||"&amp;"}function i(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function n(t){return t instanceof o?t.toString():t||0===t?(t=""+t,h.test(t)?t.replace(l,e):t):""}function r(t){return!t&&0!==t||!(!d(t)||0!==t.length)}var s={},o=t,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,h=/[&<>"'`]/;s.extend=i;var c=Object.prototype.toString;s.toString=c;var u=function(t){return"function"==typeof t};u(/x/)&&(u=function(t){return"function"==typeof t&&"[object Function]"===c.call(t)});var u;s.isFunction=u;var d=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===c.call(t)};return s.isArray=d,s.escapeExpression=n,s.isEmpty=r,s}(t),i=function(){"use strict";function t(t,i){var n;i&&i.firstLine&&(n=i.firstLine,t+=" - "+n+":"+i.firstColumn);for(var r=Error.prototype.constructor.call(this,t),s=0;s<e.length;s++)this[e[s]]=r[e[s]];n&&(this.lineNumber=n,this.column=i.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),n=function(t,e){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},n(this)}function n(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new a("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,i){var n=i.inverse||function(){},r=i.fn;return c(e)&&(e=e.call(this)),!0===e?r(this):!1===e||null==e?n(this):h(e)?e.length>0?t.helpers.each(e,i):n(this):r(e)}),t.registerHelper("each",function(t,e){var i,n=e.fn,r=e.inverse,s=0,o="";if(c(t)&&(t=t.call(this)),e.data&&(i=p(e.data)),t&&"object"==typeof t)if(h(t))for(var a=t.length;a>s;s++)i&&(i.index=s,i.first=0===s,i.last=s===t.length-1),o+=n(t[s],{data:i});else for(var l in t)t.hasOwnProperty(l)&&(i&&(i.key=l,i.index=s,i.first=0===s),o+=n(t[l],{data:i}),s++);return 0===s&&(o=r(this)),o}),t.registerHelper("if",function(t,e){return c(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),t.registerHelper("with",function(t,e){return c(t)&&(t=t.call(this)),o.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)})}function r(t,e){f.log(t,e)}var s={},o=t,a=e;s.VERSION="1.3.0";s.COMPILER_REVISION=4;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};s.REVISION_CHANGES=l;var h=o.isArray,c=o.isFunction,u=o.toString,d="[object Object]";s.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:f,log:r,registerHelper:function(t,e,i){if(u.call(t)===d){if(i||e)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else i&&(e.not=i),this.helpers[t]=e},registerPartial:function(t,e){u.call(t)===d?o.extend(this.partials,t):this.partials[t]=e}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(f.level<=t){var i=f.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,e)}}};s.logger=f,s.log=r;var p=function(t){var e={};return o.extend(e,t),e};return s.createFrame=p,s}(e,i),r=function(t,e,i){"use strict";function n(t){var e=t&&t[0]||1,i=d;if(e!==i){if(i>e){var n=f[i],r=f[e];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new u("No environment passed to template");var i=function(t,i,n,r,s,o){var a=e.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(e.compile){var l={helpers:r,partials:s,data:o};return s[i]=e.compile(t,{data:void 0!==o},e),s[i](n,l)}throw new u("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:c.escapeExpression,invokePartial:i,programs:[],program:function(t,e,i){var n=this.programs[t];return i?n=o(t,e,i):n||(n=this.programs[t]=o(t,e)),n},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i={},c.extend(i,e),c.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var s,o,a=r.partial?r:e;r.partial||(s=r.helpers,o=r.partials);var l=t.call(n,a,i,s,o,r.data);return r.partial||e.VM.checkRevision(n.compilerInfo),l}}function s(t,e,i){var n=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||i].concat(n))};return r.program=t,r.depth=n.length,r}function o(t,e,i){var n=function(t,n){return n=n||{},e(t,n.data||i)};return n.program=t,n.depth=0,n}function a(t,e,i,n,r,s){var o={partial:!0,helpers:n,partials:r,data:s};if(void 0===t)throw new u("The partial "+e+" could not be found");return t instanceof Function?t(i,o):void 0}function l(){return""}var h={},c=t,u=e,d=i.COMPILER_REVISION,f=i.REVISION_CHANGES;return h.checkRevision=n,h.template=r,h.programWithDepth=s,h.program=o,h.invokePartial=a,h.noop=l,h}(e,i,n);return function(t,e,i,n,r){"use strict";var s=t,o=e,a=i,l=n,h=r,c=function(){var t=new s.HandlebarsEnvironment;return l.extend(t,s),t.SafeString=o,t.Exception=a,t.Utils=l,t.VM=h,t.template=function(e){return h.template(e,t)},t},u=c();return u.create=c,u}(n,t,i,e,r)}();if(this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(t,e,i,n,r){function s(t,e){var i,n="";return n+="btn-"+u((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===c?i.apply(t):i))}function o(t,e){return' \n      <span class="fa fa-quote-left"></span>\n    '}function a(t,e){return'\n      <span class="glyphicon glyphicon-quote"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var l,h="",c="function",u=this.escapeExpression,d=this;return h+='<li>\n  <a class="btn ',l=i.if.call(e,(l=e&&e.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.size),{hash:{},inverse:d.noop,fn:d.program(1,s,r),data:r}),(l||0===l)&&(h+=l),h+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    ',l=i.if.call(e,(l=e&&e.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.fa),{hash:{},inverse:d.program(5,a,r),fn:d.program(3,o,r),data:r}),(l||0===l)&&(h+=l),h+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.color=Handlebars.template(function(t,e,i,n,r){function s(t,e){var i,n="";return n+="btn-"+h((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===l?i.apply(t):i))}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var o,a="",l="function",h=this.escapeExpression,c=this;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',o=i.if.call(e,(o=e&&e.options,o=null==o||!1===o?o:o.toolbar,null==o||!1===o?o:o.size),{hash:{},inverse:c.noop,fn:c.program(1,s,r),data:r}),(o||0===o)&&(a+=o),a+='" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.black,typeof o===l?o.apply(e):o))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.black,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.silver,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.gray,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.maroon,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.red,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.purple,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.green,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.olive,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.navy,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.blue,typeof o===l?o.apply(e):o))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+h((o=e&&e.locale,o=null==o||!1===o?o:o.colours,o=null==o||!1===o?o:o.orange,typeof o===l?o.apply(e):o))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(t,e,i,n,r){function s(t,e){var i,n="";return n+="btn-"+c((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===h?i.apply(t):i))}function o(t,e){var n,r="";return r+='\n    <a class="btn ',n=i.if.call(t,(n=t&&t.options,n=null==n||!1===n?n:n.toolbar,null==n||!1===n?n:n.size),{hash:{},inverse:u.noop,fn:u.program(1,s,e),data:e}),(n||0===n)&&(r+=n),r+=' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+c((n=t&&t.locale,n=null==n||!1===n?n:n.emphasis,n=null==n||!1===n?n:n.small,typeof n===h?n.apply(t):n))+"</a>\n    "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var a,l="",h="function",c=this.escapeExpression,u=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',a=i.if.call(e,(a=e&&e.options,a=null==a||!1===a?a:a.toolbar,null==a||!1===a?a:a.size),{hash:{},inverse:u.noop,fn:u.program(1,s,r),data:r}),(a||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+c((a=e&&e.locale,a=null==a||!1===a?a:a.emphasis,a=null==a||!1===a?a:a.bold,typeof a===h?a.apply(e):a))+'</a>\n    <a class="btn ',a=i.if.call(e,(a=e&&e.options,a=null==a||!1===a?a:a.toolbar,null==a||!1===a?a:a.size),{hash:{},inverse:u.noop,fn:u.program(1,s,r),data:r}),(a||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+c((a=e&&e.locale,a=null==a||!1===a?a:a.emphasis,a=null==a||!1===a?a:a.italic,typeof a===h?a.apply(e):a))+'</a>\n    <a class="btn ',a=i.if.call(e,(a=e&&e.options,a=null==a||!1===a?a:a.toolbar,null==a||!1===a?a:a.size),{hash:{},inverse:u.noop,fn:u.program(1,s,r),data:r}),(a||0===a)&&(l+=a),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+c((a=e&&e.locale,a=null==a||!1===a?a:a.emphasis,a=null==a||!1===a?a:a.underline,typeof a===h?a.apply(e):a))+"</a>\n    ",a=i.if.call(e,(a=e&&e.options,a=null==a||!1===a?a:a.toolbar,a=null==a||!1===a?a:a.emphasis,null==a||!1===a?a:a.small),{hash:{},inverse:u.noop,fn:u.program(3,o,r),data:r}),(a||0===a)&&(l+=a),l+="\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(t,e,i,n,r){function s(t,e){var i,n="";return n+="btn-"+u((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===c?i.apply(t):i))}function o(t,e){return'\n      <span class="fa fa-font"></span>\n    '}function a(t,e){return'\n      <span class="glyphicon glyphicon-font"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var l,h="",c="function",u=this.escapeExpression,d=this;return h+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',l=i.if.call(e,(l=e&&e.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.size),{hash:{},inverse:d.noop,fn:d.program(1,s,r),data:r}),(l||0===l)&&(h+=l),h+='" data-toggle="dropdown">\n    ',l=i.if.call(e,(l=e&&e.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.fa),{hash:{},inverse:d.program(5,a,r),fn:d.program(3,o,r),data:r}),(l||0===l)&&(h+=l),h+='\n    <span class="current-font">'+u((l=e&&e.locale,
l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.normal,typeof l===c?l.apply(e):l))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+u((l=e&&e.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.normal,typeof l===c?l.apply(e):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+u((l=e&&e.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h1,typeof l===c?l.apply(e):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+u((l=e&&e.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h2,typeof l===c?l.apply(e):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+u((l=e&&e.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h3,typeof l===c?l.apply(e):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+u((l=e&&e.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h4,typeof l===c?l.apply(e):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+u((l=e&&e.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h5,typeof l===c?l.apply(e):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+u((l=e&&e.locale,l=null==l||!1===l?l:l.font_styles,l=null==l||!1===l?l:l.h6,typeof l===c?l.apply(e):l))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(t,e,i,n,r){function s(t,e){var i,n="";return n+="btn-"+u((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===c?i.apply(t):i))}function o(t,e){return'\n        <span class="fa fa-pencil"></span>\n      '}function a(t,e){return'\n        <span class="glyphicon glyphicon-pencil"></span>\n      '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var l,h="",c="function",u=this.escapeExpression,d=this;return h+='<li>\n  <div class="btn-group">\n    <a class="btn ',l=i.if.call(e,(l=e&&e.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.size),{hash:{},inverse:d.noop,fn:d.program(1,s,r),data:r}),(l||0===l)&&(h+=l),h+=' btn-default" data-wysihtml5-action="change_view" title="'+u((l=e&&e.locale,l=null==l||!1===l?l:l.html,l=null==l||!1===l?l:l.edit,typeof l===c?l.apply(e):l))+'" tabindex="-1">\n      ',l=i.if.call(e,(l=e&&e.options,l=null==l||!1===l?l:l.toolbar,null==l||!1===l?l:l.fa),{hash:{},inverse:d.program(5,a,r),fn:d.program(3,o,r),data:r}),(l||0===l)&&(h+=l),h+="\n    </a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl.image=Handlebars.template(function(t,e,i,n,r){function s(t,e){return"modal-sm"}function o(t,e){var i,n="";return n+="btn-"+d((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===u?i.apply(t):i))}function a(t,e){return'\n      <span class="fa fa-file-image-o"></span>\n    '}function l(t,e){return'\n      <span class="glyphicon glyphicon-picture"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var h,c="",u="function",d=this.escapeExpression,f=this;return c+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog ',h=i.if.call(e,(h=e&&e.options,h=null==h||!1===h?h:h.toolbar,null==h||!1===h?h:h.smallmodals),{hash:{},inverse:f.noop,fn:f.program(1,s,r),data:r}),(h||0===h)&&(c+=h),c+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+d((h=e&&e.locale,h=null==h||!1===h?h:h.image,h=null==h||!1===h?h:h.insert,typeof h===u?h.apply(e):h))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+d((h=e&&e.locale,h=null==h||!1===h?h:h.image,h=null==h||!1===h?h:h.cancel,typeof h===u?h.apply(e):h))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+d((h=e&&e.locale,h=null==h||!1===h?h:h.image,h=null==h||!1===h?h:h.insert,typeof h===u?h.apply(e):h))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',h=i.if.call(e,(h=e&&e.options,h=null==h||!1===h?h:h.toolbar,null==h||!1===h?h:h.size),{hash:{},inverse:f.noop,fn:f.program(3,o,r),data:r}),(h||0===h)&&(c+=h),c+=' btn-default" data-wysihtml5-command="insertImage" title="'+d((h=e&&e.locale,h=null==h||!1===h?h:h.image,h=null==h||!1===h?h:h.insert,typeof h===u?h.apply(e):h))+'" tabindex="-1">\n    ',h=i.if.call(e,(h=e&&e.options,h=null==h||!1===h?h:h.toolbar,null==h||!1===h?h:h.fa),{hash:{},inverse:f.program(7,l,r),fn:f.program(5,a,r),data:r}),(h||0===h)&&(c+=h),c+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.link=Handlebars.template(function(t,e,i,n,r){function s(t,e){return"modal-sm"}function o(t,e){var i,n="";return n+="btn-"+d((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===u?i.apply(t):i))}function a(t,e){return'\n      <span class="fa fa-share-square-o"></span>\n    '}function l(t,e){return'\n      <span class="glyphicon glyphicon-share"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var h,c="",u="function",d=this.escapeExpression,f=this;return c+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog ',h=i.if.call(e,(h=e&&e.options,h=null==h||!1===h?h:h.toolbar,null==h||!1===h?h:h.smallmodals),{hash:{},inverse:f.noop,fn:f.program(1,s,r),data:r}),(h||0===h)&&(c+=h),c+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+d((h=e&&e.locale,h=null==h||!1===h?h:h.link,h=null==h||!1===h?h:h.insert,typeof h===u?h.apply(e):h))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+d((h=e&&e.locale,h=null==h||!1===h?h:h.link,h=null==h||!1===h?h:h.target,typeof h===u?h.apply(e):h))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+d((h=e&&e.locale,h=null==h||!1===h?h:h.link,h=null==h||!1===h?h:h.cancel,typeof h===u?h.apply(e):h))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+d((h=e&&e.locale,h=null==h||!1===h?h:h.link,h=null==h||!1===h?h:h.insert,typeof h===u?h.apply(e):h))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',h=i.if.call(e,(h=e&&e.options,h=null==h||!1===h?h:h.toolbar,null==h||!1===h?h:h.size),{hash:{},inverse:f.noop,fn:f.program(3,o,r),data:r}),(h||0===h)&&(c+=h),c+=' btn-default" data-wysihtml5-command="createLink" title="'+d((h=e&&e.locale,h=null==h||!1===h?h:h.link,h=null==h||!1===h?h:h.insert,typeof h===u?h.apply(e):h))+'" tabindex="-1">\n    ',h=i.if.call(e,(h=e&&e.options,h=null==h||!1===h?h:h.toolbar,null==h||!1===h?h:h.fa),{hash:{},inverse:f.program(7,l,r),fn:f.program(5,a,r),data:r}),(h||0===h)&&(c+=h),c+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.lists=Handlebars.template(function(t,e,i,n,r){function s(t,e){var i,n="";return n+="btn-"+v((i=t&&t.options,i=null==i||!1===i?i:i.toolbar,i=null==i||!1===i?i:i.size,typeof i===g?i.apply(t):i))}function o(t,e){return'\n      <span class="fa fa-list-ul"></span>\n    '}function a(t,e){return'\n      <span class="glyphicon glyphicon-list"></span>\n    '}function l(t,e){return'\n      <span class="fa fa-list-ol"></span>\n    '}function h(t,e){return'\n      <span class="glyphicon glyphicon-th-list"></span>\n    '}function c(t,e){return'\n      <span class="fa fa-outdent"></span>\n    '}function u(t,e){return'\n      <span class="glyphicon glyphicon-indent-right"></span>\n    '}function d(t,e){return'\n      <span class="fa fa-indent"></span>\n    '}function f(t,e){return'\n      <span class="glyphicon glyphicon-indent-left"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),r=r||{};var p,m="",g="function",v=this.escapeExpression,y=this;return m+='<li>\n  <div class="btn-group">\n    <a class="btn ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:y.noop,fn:y.program(1,s,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+v((p=e&&e.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.unordered,typeof p===g?p.apply(e):p))+'" tabindex="-1">\n    ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:y.program(5,a,r),fn:y.program(3,o,r),data:r}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:y.noop,fn:y.program(1,s,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+v((p=e&&e.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.ordered,typeof p===g?p.apply(e):p))+'" tabindex="-1">\n    ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:y.program(9,h,r),fn:y.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:y.noop,fn:y.program(1,s,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="Outdent" title="'+v((p=e&&e.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.outdent,typeof p===g?p.apply(e):p))+'" tabindex="-1">\n    ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:y.program(13,u,r),fn:y.program(11,c,r),data:r}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.size),{hash:{},inverse:y.noop,fn:y.program(1,s,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="Indent" title="'+v((p=e&&e.locale,p=null==p||!1===p?p:p.lists,p=null==p||!1===p?p:p.indent,typeof p===g?p.apply(e):p))+'" tabindex="-1">\n    ',p=i.if.call(e,(p=e&&e.options,p=null==p||!1===p?p:p.toolbar,null==p||!1===p?p:p.fa),{hash:{},inverse:y.program(17,f,r),fn:y.program(15,d,r),data:r}),(p||0===p)&&(m+=p),m+="\n    </a>\n  </div>\n</li>\n"}),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],t):t(jQuery,wysihtml5)}(function(t,e){!function(t,e){"use strict";var i=function(t,i,n){if(e.tpl[t])return e.tpl[t]({locale:i,options:n})},n=function(i,n){this.el=i;var r=t.extend(!0,{},s,n);for(var o in r.customTemplates)e.tpl[o]=r.customTemplates[o];this.toolbar=this.createToolbar(i,r),this.editor=this.createEditor(r)};n.prototype={constructor:n,createEditor:function(i){i=i||{},i=t.extend(!0,{},i),i.toolbar=this.toolbar[0];var n=new e.Editor(this.el[0],i);if(n.composer.editableArea.contentDocument?this.addMoreShortcuts(n,n.composer.editableArea.contentDocument.body||n.composer.editableArea.contentDocument,i.shortcuts):this.addMoreShortcuts(n,n.composer.editableArea,i.shortcuts),i&&i.events)for(var r in i.events)n.on(r,i.events[r]);return n.on("beforeload",this.syncBootstrapDialogEvents),n},syncBootstrapDialogEvents:function(){var e=this;t.map(this.toolbar.commandMapping,function(t,e){return[t]}).filter(function(t,e,i){return t.dialog}).map(function(t,e,i){return t.dialog}).forEach(function(i,n,r){i.on("show",function(e){t(this.container).modal("show")}),i.on("hide",function(i){t(this.container).modal("hide"),e.composer.focus()}),t(i.container).on("shown.bs.modal",function(){t(this).find("input, select, textarea").first().focus()})})},createToolbar:function(e,n){var r=this,a=t("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),l=n.locale||s.locale||"en";o.hasOwnProperty(l)||(console.debug("Locale '"+l+"' not found. Available locales are: "+Object.keys(o)+". Falling back to 'en'."),l="en");var h=t.extend(!0,{},o.en,o[l]);for(var c in n.toolbar)n.toolbar[c]&&(a.append(i(c,h,n)),"html"===c&&this.initHtml(a));return a.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var i=e.delegateTarget||e.target||e.srcElement,n=t(i),s=n.data("wysihtml5-display-format-name"),o=n.data("wysihtml5-format-name")||n.html();void 0!==s&&"true"!==s||r.toolbar.find(".current-font").text(o)}),a.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var i=e.target||e.srcElement,n=t(i);r.toolbar.find(".current-color").text(n.html())}),this.el.before(a),a},initHtml:function(t){t.find('a[data-wysihtml5-action="change_view"]').click(function(e){t.find("a.btn").not('a[data-wysihtml5-action="change_view"]').toggleClass("disabled")})},addMoreShortcuts:function(t,i,n){e.dom.observe(i,"keydown",function(i){var r=i.keyCode,s=n[r];if((i.ctrlKey||i.metaKey||i.altKey)&&s&&e.commands[s]){var o=t.toolbar.commandMapping[s+":null"];o&&o.dialog&&!o.state?o.dialog.show():e.commands[s].exec(t.composer,s),i.preventDefault()}})}};var r={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var i=t(this);i.data("wysihtml5",new n(i,e))})},shallowExtend:function(e){var i=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data()),n=this;return r.bypassDefaults.apply(n,[i])},deepExtend:function(e){var i=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),n=this;return r.bypassDefaults.apply(n,[i])},init:function(t){var e=this;return r.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):r.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=n;var s=t.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};void 0===t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var o=t.fn.wysihtml5.locale={}}(t,e)}),function(t){t.commands.small={exec:function(e,i){return t.commands.formatInline.exec(e,i,"small")},state:function(e,i){return t.commands.formatInline.state(e,i,"small")}}}(wysihtml5),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],t):t(jQuery)}(function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(t){function e(t,e,r){var s=t[0],o=/er/.test(r)?m:/bl/.test(r)?f:u,a=r==g?{checked:s[u],disabled:s[f],indeterminate:"true"==t.attr(m)||"false"==t.attr(p)}:s[o];if(/^(ch|di|in)/.test(r)&&!a)i(t,o);else if(/^(un|en|de)/.test(r)&&a)n(t,o);else if(r==g)for(var l in a)a[l]?i(t,l,!0):n(t,l,!0);else e&&"toggle"!=r||(e||t[x]("ifClicked"),a?s[v]!==c&&n(t,o):i(t,o))}function i(e,i,r){var g=e[0],y=e.parent(),x=i==u,_=i==m,k=i==f,S=_?p:x?d:"enabled",T=s(e,S+o(g[v])),A=s(e,i+o(g[v]));if(!0!==g[i]){if(!r&&i==u&&g[v]==c&&g.name){var D=e.closest("form"),E='input[name="'+g.name+'"]';E=D.length?D.find(E):t(E),E.each(function(){this!==g&&t(this).data(l)&&n(t(this),i)})}_?(g[i]=!0,g[u]&&n(e,u,"force")):(r||(g[i]=!0),x&&g[m]&&n(e,m,!1)),a(e,x,i,r)}g[f]&&s(e,C,!0)&&y.find("."+h).css(C,"default"),y[b](A||s(e,i)||""),y.attr("role")&&!_&&y.attr("aria-"+(k?f:u),"true"),y[w](T||s(e,S)||"")}function n(t,e,i){var n=t[0],r=t.parent(),l=e==u,c=e==m,g=e==f,y=c?p:l?d:"enabled",x=s(t,y+o(n[v])),_=s(t,e+o(n[v]));!1!==n[e]&&(!c&&i&&"force"!=i||(n[e]=!1),a(t,l,y,i)),!n[f]&&s(t,C,!0)&&r.find("."+h).css(C,"pointer"),r[w](_||s(t,e)||""),r.attr("role")&&!c&&r.attr("aria-"+(g?f:u),"false"),r[b](x||s(t,y)||"")}function r(e,i){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),i&&e[x](i),e.off(".i").unwrap(),t(_+'[for="'+e[0].id+'"]').add(e.closest(_)).off(".i"))}function s(t,e,i){if(t.data(l))return t.data(l).o[e+(i?"":"Class")]}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a(t,e,i,n){n||(e&&t[x]("ifToggled"),t[x]("ifChanged")[x]("if"+o(i)))}var l="iCheck",h=l+"-helper",c="radio",u="checked",d="un"+u,f="disabled",p="determinate",m="in"+p,g="update",v="type",y="touchbegin.i touchend.i",b="addClass",w="removeClass",x="trigger",_="label",C="cursor",k=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);t.fn[l]=function(s,o){var a='input[type="checkbox"], input[type="'+c+'"]',d=t(),p=function(e){e.each(function(){var e=t(this);d=e.is(a)?d.add(e):d.add(e.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),p(this),d.each(function(){var i=t(this);"destroy"==s?r(i,"ifDestroyed"):e(i,!0,s),t.isFunction(o)&&o()});if("object"!=typeof s&&s)return this;var C=t.extend({checkedClass:u,disabledClass:f,indeterminateClass:m,labelHover:!0},s),S=C.handle,T=C.hoverClass||"hover",A=C.focusClass||"focus",D=C.activeClass||"active",E=!!C.labelHover,N=C.labelHoverClass||"hover",I=0|(""+C.increaseArea).replace("%","");return"checkbox"!=S&&S!=c||(a='input[type="'+S+'"]'),I<-50&&(I=-50),p(this),d.each(function(){var s=t(this);r(s);var o,a=this,d=a.id,p=-I+"%",m=100+2*I+"%",S={position:"absolute",top:p,left:p,display:"block",width:m,height:m,margin:0,padding:0,background:"#fff",border:0,opacity:0},M=k?{position:"absolute",visibility:"hidden"}:I?S:{position:"absolute",opacity:0},O="checkbox"==a[v]?C.checkboxClass||"icheckbox":C.radioClass||"i"+c,P=t(_+'[for="'+d+'"]').add(s.closest(_)),R=!!C.aria,j=l+"-"+Math.random().toString(36).substr(2,6),L='<div class="'+O+'" '+(R?'role="'+a[v]+'" ':"");R&&P.each(function(){L+='aria-labelledby="',this.id?L+=this.id:(this.id=j,L+=j),L+='"'}),L=s.wrap(L+"/>")[x]("ifCreated").parent().append(C.insert),o=t('<ins class="'+h+'"/>').css(S).appendTo(L),s.data(l,{o:C,s:s.attr("style")}).css(M),!!C.inheritClass&&L[b](a.className||""),!!C.inheritID&&d&&L.attr("id",l+"-"+d),"static"==L.css("position")&&L.css("position","relative"),e(s,!0,g),P.length&&P.on("click.i mouseover.i mouseout.i "+y,function(i){var n=i[v],r=t(this);if(!a[f]){if("click"==n){if(t(i.target).is("a"))return;e(s,!1,!0)}else E&&(/ut|nd/.test(n)?(L[w](T),r[w](N)):(L[b](T),r[b](N)));if(!k)return!1;i.stopPropagation()}}),s.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[v],r=t.keyCode;return"click"!=e&&("keydown"==e&&32==r?(a[v]==c&&a[u]||(a[u]?n(s,u):i(s,u)),!1):void("keyup"==e&&a[v]==c?!a[u]&&i(s,u):/us|ur/.test(e)&&L["blur"==e?w:b](A)))}),o.on("click mousedown mouseup mouseover mouseout "+y,function(t){var i=t[v],n=/wn|up/.test(i)?D:T;if(!a[f]){if("click"==i?e(s,!1,!0):(/wn|er|in/.test(i)?L[b](n):L[w](n+" "+D),P.length&&E&&n==T&&P[/ut|nd/.test(i)?w:b](N)),!k)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!1,enableControlTreeView:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"use strict";$("body").removeClass("hold-transition"),void 0!==AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var t=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),t.enableControlTreeView&&$.AdminLTE.tree(".sidebar"),t.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),t.navbarMenuSlimscroll&&void 0!==$.fn.slimscroll&&$(".navbar .menu").slimscroll({height:t.navbarMenuHeight,alwaysVisible:!1,size:t.navbarMenuSlimscrollWidth}).css("width","100%"),t.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(t.sidebarToggleSelector),t.enableBSToppltip&&$("body").tooltip({selector:t.BSTooltipSelector,container:"body"}),t.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),t.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),t.directChat.enable&&$(document).on("click",t.directChat.contactToggleSelector,function(){$(this).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var t=$(this);$(this).find(".btn").on("click",function(e){t.find(".btn.active").removeClass("active"),$(this).addClass("active"),e.preventDefault()})})}),function(t){"use strict";t.fn.boxRefresh=function(e){function i(t){t.append(s),r.onLoadStart.call(t)}function n(t){t.find(s).remove(),r.onLoadDone.call(t)}var r=t.extend({trigger:".refresh-btn",source:"",onLoadStart:function(t){return t},onLoadDone:function(t){return t}},e),s=t('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""===r.source)return void(window.console&&window.console.log("Please specify a source first - boxRefresh()"));var e=t(this);e.find(r.trigger).first().on("click",function(t){t.preventDefault(),i(e),e.find(".box-body").load(r.source,function(){n(e)})})})}}(jQuery),function(t){"use strict";t.fn.activateBox=function(){t.AdminLTE.boxWidget.activate(this)},t.fn.toggleBox=function(){var e=t(t.AdminLTE.boxWidget.selectors.collapse,this);t.AdminLTE.boxWidget.collapse(e)},t.fn.removeBox=function(){var e=t(t.AdminLTE.boxWidget.selectors.remove,this);t.AdminLTE.boxWidget.remove(e)}}(jQuery),function(t){"use strict";t.fn.todolist=function(e){var i=t.extend({onCheck:function(t){return t},onUncheck:function(t){return t}},e);return this.each(function(){void 0!==t.fn.iCheck?(t("input",this).on("ifChecked",function(){var e=t(this).parents("li").first();e.toggleClass("done"),i.onCheck.call(e)}),t("input",this).on("ifUnchecked",function(){var e=t(this).parents("li").first();e.toggleClass("done"),i.onUncheck.call(e)})):t("input",this).on("change",function(){var e=t(this).parents("li").first();e.toggleClass("done"),t("input",e).is(":checked")?i.onCheck.call(e):i.onUncheck.call(e)})})}}(jQuery);var AdminLTEOptions={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!1,enableControlTreeView:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}};$.widget.bridge("uibutton",$.ui.button);var AdminLTE=function(){return{init:function(){$(function(){$.AdminLTE.layout.activate(),$.AdminLTE.layout.fix(),$.AdminLTE.layout.fixSidebar()})}}}(),oldBrowser=document.all&&!document.addEventListener;oldBrowser||function(t,e){function i(t){var e=ot[t]={};return Y.each(t.split(V),function(t,i){e[i]=!0}),e}function n(t,i,n){if(n===e&&1===t.nodeType){var r="data-"+i.replace(lt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:at.test(n)?Y.parseJSON(n):n)}catch(t){}Y.data(t,i,n)}else n=e}return n}function r(t){var e;for(e in t)if(("data"!==e||!Y.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function s(){return!1}function o(){return!0}function a(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function h(t,e,i){if(e=e||0,Y.isFunction(e))return Y.grep(t,function(t,n){return!!e.call(t,n,t)===i});if(e.nodeType)return Y.grep(t,function(t,n){return t===e===i});if("string"==typeof e){var n=Y.grep(t,function(t){return 1===t.nodeType});if(Tt.test(e))return Y.filter(e,n,!i);e=Y.filter(e,n)}return Y.grep(t,function(t,n){return Y.inArray(t,e)>=0===i})}function c(t){var e=Et.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function u(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function d(t,e){if(1===e.nodeType&&Y.hasData(t)){var i,n,r,s=Y._data(t),o=Y._data(e,s),a=s.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,r=a[i].length;n<r;n++)Y.event.add(e,i,a[i][n])}o.data&&(o.data=Y.extend({},o.data))}}function f(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),Y.support.html5Clone&&t.innerHTML&&!Y.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&qt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(Y.expando))}function p(t){return void 0!==t.getElementsByTagName?t.getElementsByTagName("*"):void 0!==t.querySelectorAll?t.querySelectorAll("*"):[]}function m(t){qt.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=ae.length;r--;)if((e=ae[r]+i)in t)return e;return n}function v(t,e){return t=e||t,"none"===Y.css(t,"display")||!Y.contains(t.ownerDocument,t)}function y(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)i=t[s],i.style&&(r[s]=Y._data(i,"olddisplay"),e?(r[s]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&v(i)&&(r[s]=Y._data(i,"olddisplay",_(i.nodeName)))):(n=$t(i,"display"),r[s]||"none"===n||Y._data(i,"olddisplay",n)));for(s=0;s<o;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function b(t,e,i){var n=te.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function w(t,e,i,n){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===i&&(s+=Y.css(t,i+oe[r],!0)),n?("content"===i&&(s-=parseFloat($t(t,"padding"+oe[r]))||0),"margin"!==i&&(s-=parseFloat($t(t,"border"+oe[r]+"Width"))||0)):(s+=parseFloat($t(t,"padding"+oe[r]))||0,"padding"!==i&&(s+=parseFloat($t(t,"border"+oe[r]+"Width"))||0));return s}function x(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,r=!0,s=Y.support.boxSizing&&"border-box"===Y.css(t,"boxSizing");if(n<=0||null==n){if(n=$t(t,e),(n<0||null==n)&&(n=t.style[e]),ee.test(n))return n;r=s&&(Y.support.boxSizingReliable||n===t.style[e]),n=parseFloat(n)||0}return n+w(t,e,i||(s?"border":"content"),r)+"px"}function _(t){if(ne[t])return ne[t];var e=Y("<"+t+">").appendTo(P.body),i=e.css("display");return e.remove(),"none"!==i&&""!==i||(Vt=P.body.appendChild(Vt||Y.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),Gt&&Vt.createElement||(Gt=(Vt.contentWindow||Vt.contentDocument).document,Gt.write("<!doctype html><html><body>"),Gt.close()),e=Gt.body.appendChild(Gt.createElement(t)),i=$t(e,"display"),P.body.removeChild(Vt)),ne[t]=i,i}function C(t,e,i,n){var r;if(Y.isArray(e))Y.each(e,function(e,r){i||ce.test(t)?n(t,r):C(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Y.type(e))n(t,e);else for(r in e)C(t+"["+r+"]",e[r],i,n)}function k(){return setTimeout(function(){pe=e},0),pe=Y.now()}function S(t,e){Y.each(e,function(e,i){for(var n=(we[e]||[]).concat(we["*"]),r=0,s=n.length;r<s;r++)if(n[r].call(t,e,i))return})}function T(t,e,i){var n,r=0,s=be.length,o=Y.Deferred().always(function(){delete a.elem}),a=function(){for(var e=pe||k(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,r=1-n,s=0,a=l.tweens.length;s<a;s++)l.tweens[s].run(r);return o.notifyWith(t,[l,r,i]),r<1&&a?i:(o.resolveWith(t,[l]),!1)},l=o.promise({elem:t,props:Y.extend({},e),opts:Y.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:pe||k(),duration:i.duration,tweens:[],createTween:function(e,i,n){var r=Y.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){for(var i=0,n=e?l.tweens.length:0;i<n;i++)l.tweens[i].run(1);return e?o.resolveWith(t,[l,e]):o.rejectWith(t,[l,e]),this}}),h=l.props;for(A(h,l.opts.specialEasing);r<s;r++)if(n=be[r].call(l,t,h,l.opts))return n;return S(l,h),Y.isFunction(l.opts.start)&&l.opts.start.call(t,l),Y.fx.timer(Y.extend(a,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function A(t,e){var i,n,r,s,o;for(i in t)if(n=Y.camelCase(i),r=e[n],s=t[i],
Y.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=Y.cssHooks[n])&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=r)}else e[n]=r}function D(t,e,i){var n,r,s,o,a,l,h,c,u,d=this,f=t.style,p={},m=[],g=t.nodeType&&v(t);i.queue||(c=Y._queueHooks(t,"fx"),null==c.unqueued&&(c.unqueued=0,u=c.empty.fire,c.empty.fire=function(){c.unqueued||u()}),c.unqueued++,d.always(function(){d.always(function(){c.unqueued--,Y.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===Y.css(t,"display")&&"none"===Y.css(t,"float")&&(Y.support.inlineBlockNeedsLayout&&"inline"!==_(t.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",Y.support.shrinkWrapBlocks||d.done(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],ge.exec(s)){if(delete e[n],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(n)}if(o=m.length){a=Y._data(t,"fxshow")||Y._data(t,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?Y(t).show():d.done(function(){Y(t).hide()}),d.done(function(){var e;Y.removeData(t,"fxshow",!0);for(e in p)Y.style(t,e,p[e])});for(n=0;n<o;n++)r=m[n],h=d.createTween(r,g?a[r]:0),p[r]=a[r]||Y.style(t,r),r in a||(a[r]=h.start,g&&(h.end=h.start,h.start="width"===r||"height"===r?1:0))}}function E(t,e,i,n,r){return new E.prototype.init(t,e,i,n,r)}function N(t,e){var i,n={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i=oe[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function I(t){return Y.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var M,O,P=t.document,R=(t.location,t.navigator),j=t.JQXLite,L=t.$,H=Array.prototype.push,q=Array.prototype.slice,W=Array.prototype.indexOf,B=Object.prototype.toString,F=Object.prototype.hasOwnProperty,z=String.prototype.trim,Y=function(t,e){return new Y.fn.init(t,e,M)},U=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,$=/\S/,V=/\s+/,G=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,X=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,K=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Q=/^[\],:{}\s]*$/,J=/(?:^|:|,)(?:\s*\[)+/g,Z=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,et=/^-ms-/,it=/-([\da-z])/gi,nt=function(t,e){return(e+"").toUpperCase()},rt=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",rt,!1),Y.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",rt),Y.ready())},st={};Y.fn=Y.prototype={constructor:Y,init:function(t,i,n){var r,s,o;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:X.exec(t))||!r[1]&&i)return!i||i.jqx?(i||n).find(t):this.constructor(i).find(t);if(r[1])return i=i instanceof Y?i[0]:i,o=i&&i.nodeType?i.ownerDocument||i:P,t=Y.parseHTML(r[1],o,!0),K.test(r[1])&&Y.isPlainObject(i)&&this.attr.call(t,i,!0),Y.merge(this,t);if((s=P.getElementById(r[2]))&&s.parentNode){if(s.id!==r[2])return n.find(t);this.length=1,this[0]=s}return this.context=P,this.selector=t,this}return Y.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),Y.makeArray(t,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return q.call(this)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=Y.merge(this.constructor(),t);return n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return Y.each(this,t,e)},ready:function(t){return Y.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(q.apply(this,arguments),"slice",q.call(arguments).join(","))},map:function(t){return this.pushStack(Y.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var t,i,n,r,s,o,a=arguments[0]||{},l=1,h=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||Y.isFunction(a)||(a={}),h===l&&(a=this,--l);l<h;l++)if(null!=(t=arguments[l]))for(i in t)n=a[i],r=t[i],a!==r&&(c&&r&&(Y.isPlainObject(r)||(s=Y.isArray(r)))?(s?(s=!1,o=n&&Y.isArray(n)?n:[]):o=n&&Y.isPlainObject(n)?n:{},a[i]=Y.extend(c,o,r)):r!==e&&(a[i]=r));return a},Y.extend({noConflict:function(e){return t.$===Y&&(t.$=L),e&&t.JQXLite===Y&&(t.JQXLite=j),Y},isReady:!1,readyWait:1,holdReady:function(t){t?Y.readyWait++:Y.ready(!0)},ready:function(t){if(!0===t?!--Y.readyWait:!Y.isReady){if(!P.body)return setTimeout(Y.ready,1);Y.isReady=!0,!0!==t&&--Y.readyWait>0||(O.resolveWith(P,[Y]),Y.fn.trigger&&Y(P).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===Y.type(t)},isArray:Array.isArray||function(t){return"array"===Y.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):st[B.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==Y.type(t)||t.nodeType||Y.isWindow(t))return!1;try{if(t.constructor&&!F.call(t,"constructor")&&!F.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var i;for(i in t);return i===e||F.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){var n;return t&&"string"==typeof t?("boolean"==typeof e&&(i=e,e=0),e=e||P,(n=K.exec(t))?[e.createElement(n[1])]:(n=Y.buildFragment([t],e,i?null:[]),Y.merge([],(n.cacheable?Y.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=Y.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):Q.test(e.replace(Z,"@").replace(tt,"]").replace(J,""))?new Function("return "+e)():void Y.error("Invalid JSON: "+e)):null},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(t){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||Y.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&$.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(et,"ms-").replace(it,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,i,n){var r,s=0,o=t.length,a=o===e||Y.isFunction(t);if(n)if(a){for(r in t)if(!1===i.apply(t[r],n))break}else for(;s<o&&!1!==i.apply(t[s++],n););else if(a){for(r in t)if(!1===i.call(t[r],r,t[r]))break}else for(;s<o&&!1!==i.call(t[s],s,t[s++]););return t},trim:z&&!z.call("\ufeff ")?function(t){return null==t?"":z.call(t)}:function(t){return null==t?"":(t+"").replace(G,"")},makeArray:function(t,e){var i,n=e||[];return null!=t&&(i=Y.type(t),null==t.length||"string"===i||"function"===i||"regexp"===i||Y.isWindow(t)?H.call(n,t):Y.merge(n,t)),n},inArray:function(t,e,i){var n;if(e){if(W)return W.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,r=t.length,s=0;if("number"==typeof n)for(;s<n;s++)t[r++]=i[s];else for(;i[s]!==e;)t[r++]=i[s++];return t.length=r,t},grep:function(t,e,i){var n,r=[],s=0,o=t.length;for(i=!!i;s<o;s++)n=!!e(t[s],s),i!==n&&r.push(t[s]);return r},map:function(t,i,n){var r,s,o=[],a=0,l=t.length;if(t instanceof Y||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||Y.isArray(t)))for(;a<l;a++)null!=(r=i(t[a],a,n))&&(o[o.length]=r);else for(s in t)null!=(r=i(t[s],s,n))&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(t,i){var n,r,s;return"string"==typeof i&&(n=t[i],i=t,t=n),Y.isFunction(t)?(r=q.call(arguments,2),s=function(){return t.apply(i,r.concat(q.call(arguments)))},s.guid=t.guid=t.guid||Y.guid++,s):e},access:function(t,i,n,r,s,o,a){var l,h=null==n,c=0,u=t.length;if(n&&"object"==typeof n){for(c in n)Y.access(t,i,c,n[c],1,o,r);s=1}else if(r!==e){if(l=a===e&&Y.isFunction(r),h&&(l?(l=i,i=function(t,e,i){return l.call(Y(t),i)}):(i.call(t,r),i=null)),i)for(;c<u;c++)i(t[c],n,l?r.call(t[c],c,i(t[c],n)):r,a);s=1}return s?t:h?i.call(t):u?i(t[0],n):o},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(e){if(!O)if(O=Y.Deferred(),"complete"===P.readyState)setTimeout(Y.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",rt,!1),t.addEventListener("load",Y.ready,!1);else{P.attachEvent("onreadystatechange",rt),t.attachEvent("onload",Y.ready);var i=!1;try{i=null==t.frameElement&&P.documentElement}catch(t){}i&&i.doScroll&&function t(){if(!Y.isReady){try{i.doScroll("left")}catch(e){return setTimeout(t,50)}Y.ready()}}()}return O.promise(e)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()}),M=Y(P);var ot={};Y.Callbacks=function(t){t="string"==typeof t?ot[t]||i(t):Y.extend({},t);var n,r,s,o,a,l,h=[],c=!t.once&&[],u=function(e){for(n=t.memory&&e,r=!0,l=o||0,o=0,a=h.length,s=!0;h&&l<a;l++)if(!1===h[l].apply(e[0],e[1])&&t.stopOnFalse){n=!1;break}s=!1,h&&(c?c.length&&u(c.shift()):n?h=[]:d.disable())},d={add:function(){if(h){var e=h.length;!function e(i){Y.each(i,function(i,n){var r=Y.type(n);"function"===r?t.unique&&d.has(n)||h.push(n):n&&n.length&&"string"!==r&&e(n)})}(arguments),s?a=h.length:n&&(o=e,u(n))}return this},remove:function(){return h&&Y.each(arguments,function(t,e){for(var i;(i=Y.inArray(e,h,i))>-1;)h.splice(i,1),s&&(i<=a&&a--,i<=l&&l--)}),this},has:function(t){return Y.inArray(t,h)>-1},empty:function(){return h=[],this},disable:function(){return h=c=n=e,this},disabled:function(){return!h},lock:function(){return c=e,n||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!h||r&&!c||(s?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Y.extend({Deferred:function(t){var e=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Y.Deferred(function(i){Y.each(e,function(e,n){var s=n[0],o=t[e];r[n[1]](Y.isFunction(o)?function(){var t=o.apply(this,arguments);t&&Y.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===r?i:this,[t])}:i[s])}),t=null}).promise()},promise:function(t){return null!=t?Y.extend(t,n):n}},r={};return n.pipe=n.then,Y.each(e,function(t,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[s[0]]=o.fire,r[s[0]+"With"]=o.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,s=q.call(arguments),o=s.length,a=1!==o||t&&Y.isFunction(t.promise)?o:0,l=1===a?t:Y.Deferred(),h=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?q.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);r<o;r++)s[r]&&Y.isFunction(s[r].promise)?s[r].promise().done(h(r,n,s)).fail(l.reject).progress(h(r,i,e)):--a;return a||l.resolveWith(n,s),l.promise()}}),Y.support=function(){var e,i,n,r,s,o,a,l,h,c,u,d=P.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!n||!i.length)return{};r=P.createElement("select"),s=r.appendChild(P.createElement("option")),o=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===o.value,optSelected:s.selected,getSetAttribute:"t"!==d.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled;try{delete d.test}catch(t){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",u=function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",u)),o=P.createElement("input"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),d.appendChild(o),a=P.createDocumentFragment(),a.appendChild(d.lastChild),e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=o.checked,a.removeChild(o),a.appendChild(d),d.attachEvent)for(h in{submit:!0,change:!0,focusin:!0})l="on"+h,c=l in d,c||(d.setAttribute(l,"return;"),c="function"==typeof d[l]),e[h+"Bubbles"]=c;return Y(function(){var i,n,r,s,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=P.getElementsByTagName("body")[0];a&&(i=P.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(i,a.firstChild),n=P.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=n.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===n.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(n,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(n,null)||{width:"4px"}).width,s=P.createElement("div"),s.style.cssText=n.style.cssText=o,s.style.marginRight=s.style.width="0",n.style.width="1px",n.appendChild(s),e.reliableMarginRight=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight)),void 0!==n.style.zoom&&(n.innerHTML="",n.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),a.removeChild(i),i=n=r=s=null)}),a.removeChild(d),i=n=r=s=o=a=d=null,e}();var at=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,lt=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(Y.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return!!(t=t.nodeType?Y.cache[t[Y.expando]]:t[Y.expando])&&!r(t)},data:function(t,i,n,r){if(Y.acceptData(t)){var s,o,a=Y.expando,l="string"==typeof i,h=t.nodeType,c=h?Y.cache:t,u=h?t[a]:t[a]&&a;if(u&&c[u]&&(r||c[u].data)||!l||n!==e)return u||(h?t[a]=u=Y.deletedIds.pop()||Y.guid++:u=a),c[u]||(c[u]={},h||(c[u].toJSON=Y.noop)),"object"!=typeof i&&"function"!=typeof i||(r?c[u]=Y.extend(c[u],i):c[u].data=Y.extend(c[u].data,i)),s=c[u],r||(s.data||(s.data={}),s=s.data),n!==e&&(s[Y.camelCase(i)]=n),l?null==(o=s[i])&&(o=s[Y.camelCase(i)]):o=s,o}},removeData:function(t,e,i){if(Y.acceptData(t)){var n,s,o,a=t.nodeType,l=a?Y.cache:t,h=a?t[Y.expando]:Y.expando;if(l[h]){if(e&&(n=i?l[h]:l[h].data)){Y.isArray(e)||(e in n?e=[e]:(e=Y.camelCase(e),e=e in n?[e]:e.split(" ")));for(s=0,o=e.length;s<o;s++)delete n[e[s]];if(!(i?r:Y.isEmptyObject)(n))return}(i||(delete l[h].data,r(l[h])))&&(a?Y.cleanData([t],!0):Y.support.deleteExpando||l!=l.window?delete l[h]:l[h]=null)}}},_data:function(t,e,i){return Y.data(t,e,i,!0)},acceptData:function(t){var e=t.nodeName&&Y.noData[t.nodeName.toLowerCase()];return!e||!0!==e&&t.getAttribute("classid")===e}}),Y.fn.extend({data:function(t,i){var r,s,o,a,l,h=this[0],c=0,u=null;if(t===e){if(this.length&&(u=Y.data(h),1===h.nodeType&&!Y._data(h,"parsedAttrs"))){for(o=h.attributes,l=o.length;c<l;c++)a=o[c].name,a.indexOf("data-")||(a=Y.camelCase(a.substring(5)),n(h,a,u[a]));Y._data(h,"parsedAttrs",!0)}return u}return"object"==typeof t?this.each(function(){Y.data(this,t)}):(r=t.split(".",2),r[1]=r[1]?"."+r[1]:"",s=r[1]+"!",Y.access(this,function(i){if(i===e)return u=this.triggerHandler("getData"+s,[r[0]]),u===e&&h&&(u=Y.data(h,t),u=n(h,t,u)),u===e&&r[1]?this.data(r[0]):u;r[1]=i,this.each(function(){var e=Y(this);e.triggerHandler("setData"+s,r),Y.data(this,t,i),e.triggerHandler("changeData"+s,r)})},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){Y.removeData(this,t)})}}),Y.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Y._data(t,e),i&&(!n||Y.isArray(i)?n=Y._data(t,e,Y.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=Y.queue(t,e),n=i.length,r=i.shift(),s=Y._queueHooks(t,e),o=function(){Y.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Y._data(t,i)||Y._data(t,i,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(t,e+"queue",!0),Y.removeData(t,i,!0)})})}}),Y.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?Y.queue(this[0],t):i===e?this:this.each(function(){var e=Y.queue(this,t,i);Y._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&Y.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Y.dequeue(this,t)})},delay:function(t,e){return t=Y.fx?Y.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,r=1,s=Y.Deferred(),o=this,a=this.length,l=function(){--r||s.resolveWith(o,[o])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)(n=Y._data(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),s.promise(i)}});var ht,ct,ut=/[\t\r\n]/g,dt=/\r/g,ft=/^(?:button|input)$/i,pt=/^(?:button|input|object|select|textarea)$/i,mt=/^a(?:rea|)$/i,gt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,vt=Y.support.getSetAttribute;Y.fn.extend({attr:function(t,e){return Y.access(this,Y.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Y.removeAttr(this,t)})},prop:function(t,e){return Y.access(this,Y.prop,t,e,arguments.length>1)},removeProp:function(t){return t=Y.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(t){}})},addClass:function(t){var e,i,n,r,s,o,a;if(Y.isFunction(t))return this.each(function(e){Y(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(V),i=0,n=this.length;i<n;i++)if(r=this[i],1===r.nodeType)if(r.className||1!==e.length){for(s=" "+r.className+" ",o=0,a=e.length;o<a;o++)s.indexOf(" "+e[o]+" ")<0&&(s+=e[o]+" ");r.className=Y.trim(s)}else r.className=t;return this},removeClass:function(t){var i,n,r,s,o,a,l;if(Y.isFunction(t))return this.each(function(e){Y(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(V),a=0,l=this.length;a<l;a++)if(r=this[a],1===r.nodeType&&r.className){for(n=(" "+r.className+" ").replace(ut," "),s=0,o=i.length;s<o;s++)for(;n.indexOf(" "+i[s]+" ")>=0;)n=n.replace(" "+i[s]+" "," ");r.className=t?Y.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return Y.isFunction(t)?this.each(function(i){Y(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var r,s=0,o=Y(this),a=e,l=t.split(V);r=l[s++];)a=n?a:!o.hasClass(r),o[a?"addClass":"removeClass"](r);else"undefined"!==i&&"boolean"!==i||(this.className&&Y._data(this,"__className__",this.className),this.className=this.className||!1===t?"":Y._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ut," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,r,s=this[0];{if(arguments.length)return r=Y.isFunction(t),this.each(function(n){var s,o=Y(this);1===this.nodeType&&(s=r?t.call(this,n,o.val()):t,null==s?s="":"number"==typeof s?s+="":Y.isArray(s)&&(s=Y.map(s,function(t){return null==t?"":t+""})),(i=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,s,"value")!==e||(this.value=s))});if(s)return(i=Y.valHooks[s.type]||Y.valHooks[s.nodeName.toLowerCase()])&&"get"in i&&(n=i.get(s,"value"))!==e?n:(n=s.value,"string"==typeof n?n.replace(dt,""):null==n?"":n)}}}),Y.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,s="select-one"===t.type||r<0,o=s?null:[],a=s?r+1:n.length,l=r<0?a:s?r:0;l<a;l++)if(i=n[l],(i.selected||l===r)&&(Y.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Y.nodeName(i.parentNode,"optgroup"))){if(e=Y(i).val(),s)return e;o.push(e)}return o},set:function(t,e){var i=Y.makeArray(e);return Y(t).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{},attr:function(t,i,n,r){var s,o,a,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return r&&Y.isFunction(Y.fn[i])?Y(t)[i](n):void 0===t.getAttribute?Y.prop(t,i,n):(a=1!==l||!Y.isXMLDoc(t),a&&(i=i.toLowerCase(),o=Y.attrHooks[i]||(gt.test(i)?ct:ht)),n!==e?null===n?void Y.removeAttr(t,i):o&&"set"in o&&a&&(s=o.set(t,n,i))!==e?s:(t.setAttribute(i,n+""),n):o&&"get"in o&&a&&null!==(s=o.get(t,i))?s:(s=t.getAttribute(i),null===s?e:s))},removeAttr:function(t,e){var i,n,r,s,o=0;if(e&&1===t.nodeType)for(n=e.split(V);o<n.length;o++)(r=n[o])&&(i=Y.propFix[r]||r,s=gt.test(r),s||Y.attr(t,r,""),t.removeAttribute(vt?r:i),s&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(ft.test(t.nodeName)&&t.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&"radio"===e&&Y.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return ht&&Y.nodeName(t,"button")?ht.get(t,e):e in t?t.value:null},set:function(t,e,i){if(ht&&Y.nodeName(t,"button"))return ht.set(t,e,i);t.value=e}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var r,s,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!Y.isXMLDoc(t),o&&(i=Y.propFix[i]||i,s=Y.propHooks[i]),n!==e?s&&"set"in s&&(r=s.set(t,n,i))!==e?r:t[i]=n:s&&"get"in s&&null!==(r=s.get(t,i))?r:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):pt.test(t.nodeName)||mt.test(t.nodeName)&&t.href?0:e}}}}),ct={get:function(t,i){var n,r=Y.prop(t,i);return!0===r||"boolean"!=typeof r&&(n=t.getAttributeNode(i))&&!1!==n.nodeValue?i.toLowerCase():e},set:function(t,e,i){var n;return!1===e?Y.removeAttr(t,i):(n=Y.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},Y.support.enctype||(Y.propFix.enctype="encoding");var yt=/^([^\.]*|)(?:\.(.+)|)$/,bt=/(?:^|\s)hover(\.\S+|)\b/,wt=/^key/,xt=/^(?:mouse|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Ct=function(t){return Y.event.special.hover?t:t.replace(bt,"mouseenter$1 mouseleave$1")};Y.event={add:function(t,i,n,r,s){var o,a,l,h,c,u,d,f,p,m,g;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(o=Y._data(t))){for(n.handler&&(p=n,n=p.handler,s=p.selector),n.guid||(n.guid=Y.guid++),l=o.events,l||(o.events=l={}),a=o.handle,a||(o.handle=a=function(t){return void 0===Y||t&&Y.event.triggered===t.type?e:Y.event.dispatch.apply(a.elem,arguments)},a.elem=t),i=Y.trim(Ct(i)).split(" "),h=0;h<i.length;h++)c=yt.exec(i[h])||[],u=c[1],d=(c[2]||"").split(".").sort(),g=Y.event.special[u]||{},u=(s?g.delegateType:g.bindType)||u,g=Y.event.special[u]||{},f=Y.extend({type:u,origType:c[1],data:r,handler:n,guid:n.guid,selector:s,needsContext:s&&Y.expr.match.needsContext.test(s),namespace:d.join(".")},p),m=l[u],m||(m=l[u]=[],m.delegateCount=0,g.setup&&!1!==g.setup.call(t,r,d,a)||(t.addEventListener?t.addEventListener(u,a,!1):t.attachEvent&&t.attachEvent("on"+u,a))),g.add&&(g.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),s?m.splice(m.delegateCount++,0,f):m.push(f),Y.event.global[u]=!0;t=null}},global:{},remove:function(t,e,i,n,r){var s,o,a,l,h,c,u,d,f,p,m,g=Y.hasData(t)&&Y._data(t);if(g&&(d=g.events)){for(e=Y.trim(Ct(e||"")).split(" "),s=0;s<e.length;s++)if(o=yt.exec(e[s])||[],a=l=o[1],h=o[2],a){for(f=Y.event.special[a]||{},a=(n?f.delegateType:f.bindType)||a,p=d[a]||[],c=p.length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=0;u<p.length;u++)m=p[u],!r&&l!==m.origType||i&&i.guid!==m.guid||h&&!h.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(p.splice(u--,1),m.selector&&p.delegateCount--,f.remove&&f.remove.call(t,m));0===p.length&&c!==p.length&&(f.teardown&&!1!==f.teardown.call(t,h,g.handle)||Y.removeEvent(t,a,g.handle),delete d[a])}else for(a in d)Y.event.remove(t,a+e[s],i,n,!0);Y.isEmptyObject(d)&&(delete g.handle,Y.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,s){if(!r||3!==r.nodeType&&8!==r.nodeType){var o,a,l,h,c,u,d,f,p,m,g=i.type||i,v=[];if(!_t.test(g+Y.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!Y.event.customEvent[g]||Y.event.global[g]))if(i="object"==typeof i?i[Y.expando]?i:new Y.Event(g,i):new Y.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=g.indexOf(":")<0?"on"+g:"",r){if(i.result=e,i.target||(i.target=r),n=null!=n?Y.makeArray(n):[],n.unshift(i),d=Y.event.special[g]||{},!d.trigger||!1!==d.trigger.apply(r,n)){if(p=[[r,d.bindType||g]],!s&&!d.noBubble&&!Y.isWindow(r)){for(m=d.delegateType||g,h=_t.test(m+g)?r:r.parentNode,c=r;h;h=h.parentNode)p.push([h,m]),c=h;c===(r.ownerDocument||P)&&p.push([c.defaultView||c.parentWindow||t,m])}for(l=0;l<p.length&&!i.isPropagationStopped();l++)h=p[l][0],i.type=p[l][1],f=(Y._data(h,"events")||{})[i.type]&&Y._data(h,"handle"),f&&f.apply(h,n),(f=u&&h[u])&&Y.acceptData(h)&&f.apply&&!1===f.apply(h,n)&&i.preventDefault();return i.type=g,s||i.isDefaultPrevented()||d._default&&!1!==d._default.apply(r.ownerDocument,n)||"click"===g&&Y.nodeName(r,"a")||!Y.acceptData(r)||u&&r[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!Y.isWindow(r)&&(c=r[u],c&&(r[u]=null),Y.event.triggered=g,r[g](),Y.event.triggered=e,c&&(r[u]=c)),i.result}}else{o=Y.cache;for(l in o)o[l].events&&o[l].events[g]&&Y.event.trigger(i,n,o[l].handle.elem,!0)}}},dispatch:function(i){i=Y.event.fix(i||t.event);var n,r,s,o,a,l,h,c,u,d=(Y._data(this,"events")||{})[i.type]||[],f=d.delegateCount,p=q.call(arguments),m=!i.exclusive&&!i.namespace,g=Y.event.special[i.type]||{},v=[];if(p[0]=i,i.delegateTarget=this,!g.preDispatch||!1!==g.preDispatch.call(this,i)){if(f&&(!i.button||"click"!==i.type))for(s=i.target;s!=this;s=s.parentNode||this)if(!0!==s.disabled||"click"!==i.type){for(a={},h=[],n=0;n<f;n++)c=d[n],u=c.selector,a[u]===e&&(a[u]=c.needsContext?Y(u,this).index(s)>=0:Y.find(u,this,null,[s]).length),a[u]&&h.push(c);h.length&&v.push({elem:s,matches:h})}for(d.length>f&&v.push({elem:this,matches:d.slice(f)}),n=0;n<v.length&&!i.isPropagationStopped();n++)for(l=v[n],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)c=l.matches[r],(m||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,(o=((Y.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,p))!==e&&(i.result=o,!1===o&&(i.preventDefault(),i.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,r,s,o=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||P,r=n.documentElement,s=n.body,t.pageX=i.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=i.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),t.which||o===e||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Y.expando])return t;var e,i,n=t,r=Y.event.fixHooks[t.type]||{},s=r.props?this.props.concat(r.props):this.props;for(t=Y.Event(n),e=s.length;e;)i=s[--e],t[i]=n[i];return t.target||(t.target=n.srcElement||P),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,n):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){Y.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var r=Y.extend(new Y.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Y.event.trigger(r,null,e):Y.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=P.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(void 0===t[n]&&(t[n]=null),t.detachEvent(n,i))},Y.Event=function(t,e){if(!(this instanceof Y.Event))return new Y.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||!1===t.returnValue||t.getPreventDefault&&t.getPreventDefault()?o:s):this.type=t,e&&Y.extend(this,e),this.timeStamp=t&&t.timeStamp||Y.now(),this[Y.expando]=!0},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){Y.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;s.selector
;return r&&(r===n||Y.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),Y.fn.extend({on:function(t,i,n,r,o){var a,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],o);return this}if(null==n&&null==r?(r=i,n=i=e):null==r&&("string"==typeof i?(r=n,n=e):(r=n,n=i,i=e)),!1===r)r=s;else if(!r)return this;return 1===o&&(a=r,r=function(t){return Y().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Y.guid++)),this.each(function(){Y.event.add(this,t,r,n,i)})},off:function(t,i,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Y(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,i,t[o]);return this}return!1!==i&&"function"!=typeof i||(n=i,i=e),!1===n&&(n=s),this.each(function(){Y.event.remove(this,t,n,i)})},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},trigger:function(t,e){return this.each(function(){Y.event.trigger(t,e,this)})},triggerHandler:function(t,e){if(this[0])return Y.event.trigger(t,e,this[0],!0)},toggle:function(t){var e=arguments,i=t.guid||Y.guid++,n=0,r=function(i){var r=(Y._data(this,"lastToggle"+t.guid)||0)%n;return Y._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),e[r].apply(this,arguments)||!1};for(r.guid=i;n<e.length;)e[n++].guid=i;return this.click(r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Y.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},wt.test(e)&&(Y.event.fixHooks[e]=Y.event.keyHooks),xt.test(e)&&(Y.event.fixHooks[e]=Y.event.mouseHooks)}),function(t,e){function i(t,e,i,n){i=i||[],e=e||I;var r,s,o,a,l=e.nodeType;if(!t||"string"!=typeof t)return i;if(1!==l&&9!==l)return[];if(!(o=x(e))&&!n&&(r=et.exec(t)))if(a=r[1]){if(9===l){if(!(s=e.getElementById(a))||!s.parentNode)return i;if(s.id===a)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(a))&&_(e,s)&&s.id===a)return i.push(s),i}else{if(r[2])return j.apply(i,L.call(e.getElementsByTagName(t),0)),i;if((a=r[3])&&ut&&e.getElementsByClassName)return j.apply(i,L.call(e.getElementsByClassName(a),0)),i}return m(t.replace(Q,"$1"),e,i,n,o)}function n(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function s(t){return q(function(e){return e=+e,q(function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function o(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}function a(t,e){var n,r,s,o,a,l,h,c=F[E][t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],h=b.preFilter;a;){n&&!(r=J.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=Z.exec(a))&&(s.push(n=new N(r.shift())),a=a.slice(n.length),n.type=r[0].replace(Q," "));for(o in b.filter)!(r=ot[o].exec(a))||h[o]&&!(r=h[o](r))||(s.push(n=new N(r.shift())),a=a.slice(n.length),n.type=o,n.matches=r);if(!n)break}return e?a.length:a?i.error(t):F(t,l).slice(0)}function l(t,e,i){var n=e.dir,r=i&&"parentNode"===e.dir,s=P++;return e.first?function(e,i,s){for(;e=e[n];)if(r||1===e.nodeType)return t(e,i,s)}:function(e,i,o){if(o){for(;e=e[n];)if((r||1===e.nodeType)&&t(e,i,o))return e}else for(var a,l=O+" "+s+" ",h=l+v;e=e[n];)if(r||1===e.nodeType){if((a=e[E])===h)return e.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(e.sizset)return e}else{if(e[E]=h,t(e,i,o))return e.sizset=!0,e;e.sizset=!1}}}}function h(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function c(t,e,i,n,r){for(var s,o=[],a=0,l=t.length,h=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),h&&e.push(a)));return o}function u(t,e,i,n,r,s){return n&&!n[E]&&(n=u(n)),r&&!r[E]&&(r=u(r,s)),q(function(s,o,a,l){var h,u,d,f=[],m=[],g=o.length,v=s||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!s&&e?v:c(v,f,t,a,l),b=i?r||(s?t:g||n)?[]:o:y;if(i&&i(y,b,a,l),n)for(h=c(b,m),n(h,[],a,l),u=h.length;u--;)(d=h[u])&&(b[m[u]]=!(y[m[u]]=d));if(s){if(r||t){if(r){for(h=[],u=b.length;u--;)(d=b[u])&&h.push(y[u]=d);r(null,b=[],h,l)}for(u=b.length;u--;)(d=b[u])&&(h=r?H.call(s,d):f[u])>-1&&(s[h]=!(o[h]=d))}}else b=c(b===o?b.splice(g,b.length):b),r?r(null,o,b,l):j.apply(o,b)})}function d(t){for(var e,i,n,r=t.length,s=b.relative[t[0].type],o=s||b.relative[" "],a=s?1:0,c=l(function(t){return t===e},o,!0),f=l(function(t){return H.call(e,t)>-1},o,!0),p=[function(t,i,n){return!s&&(n||i!==T)||((e=i).nodeType?c(t,i,n):f(t,i,n))}];a<r;a++)if(i=b.relative[t[a].type])p=[l(h(p),i)];else{if(i=b.filter[t[a].type].apply(null,t[a].matches),i[E]){for(n=++a;n<r&&!b.relative[t[n].type];n++);return u(a>1&&h(p),a>1&&t.slice(0,a-1).join("").replace(Q,"$1"),i,a<n&&d(t.slice(a,n)),n<r&&d(t=t.slice(n)),n<r&&t.join(""))}p.push(i)}return h(p)}function f(t,e){var n=e.length>0,r=t.length>0,s=function(o,a,l,h,u){var d,f,p,m=[],g=0,y="0",w=o&&[],x=null!=u,_=T,C=o||r&&b.find.TAG("*",u&&a.parentNode||a),k=O+=null==_?1:Math.E;for(x&&(T=a!==I&&a,v=s.el);null!=(d=C[y]);y++){if(r&&d){for(f=0;p=t[f];f++)if(p(d,a,l)){h.push(d);break}x&&(O=k,v=++s.el)}n&&((d=!p&&d)&&g--,o&&w.push(d))}if(g+=y,n&&y!==g){for(f=0;p=e[f];f++)p(w,m,a,l);if(o){if(g>0)for(;y--;)w[y]||m[y]||(m[y]=R.call(h));m=c(m)}j.apply(h,m),x&&!o&&m.length>0&&g+e.length>1&&i.uniqueSort(h)}return x&&(O=k,T=_),w};return s.el=0,n?q(s):s}function p(t,e,n){for(var r=0,s=e.length;r<s;r++)i(t,e[r],n);return n}function m(t,e,i,n,r){var s,o,l,h,c,u=a(t);u.length;if(!n&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(l=o[0]).type&&9===e.nodeType&&!r&&b.relative[o[1].type]){if(!(e=b.find.ID(l.matches[0].replace(st,""),e,r)[0]))return i;t=t.slice(o.shift().length)}for(s=ot.POS.test(t)?-1:o.length-1;s>=0&&(l=o[s],!b.relative[h=l.type]);s--)if((c=b.find[h])&&(n=c(l.matches[0].replace(st,""),it.test(o[0].type)&&e.parentNode||e,r))){if(o.splice(s,1),!(t=n.length&&o.join("")))return j.apply(i,L.call(n,0)),i;break}}return C(t,u)(n,e,r,i,it.test(t)),i}function g(){}var v,y,b,w,x,_,C,k,S,T,A=!0,D="undefined",E=("sizcache"+Math.random()).replace(".",""),N=String,I=t.document,M=I.documentElement,O=0,P=0,R=[].pop,j=[].push,L=[].slice,H=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]===t)return e;return-1},q=function(t,e){return t[E]=null==e||e,t},W=function(){var t={},e=[];return q(function(i,n){return e.push(i)>b.cacheLength&&delete t[e.shift()],t[i+" "]=n},t)},B=W(),F=W(),z=W(),U="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=$.replace("w","w#"),G="\\["+U+"*("+$+")"+U+"*(?:([*^$|!~]?=)"+U+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+U+"*\\]",X=":("+$+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+G+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),J=new RegExp("^"+U+"*,"+U+"*"),Z=new RegExp("^"+U+"*([\\x20\\t\\r\\n\\f>+~])"+U+"*"),tt=new RegExp(X),et=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,nt=/h\d/i,rt=/input|select|textarea|button/i,st=/\\(?!\\)/g,ot={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),NAME:new RegExp("^\\[name=['\"]?("+$+")['\"]?\\]"),TAG:new RegExp("^("+$.replace("w","w*")+")"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+X),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),needsContext:new RegExp("^"+U+"*[>+~]|"+K,"i")},at=function(t){var e=I.createElement("div");try{return t(e)}catch(t){return!1}finally{e=null}},lt=at(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),ht=at(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==D&&"#"===t.firstChild.getAttribute("href")}),ct=at(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),ut=at(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!t.getElementsByClassName||!t.getElementsByClassName("e").length)&&(t.lastChild.className="e",2===t.getElementsByClassName("e").length)}),dt=at(function(t){t.id=E+0,t.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",M.insertBefore(t,M.firstChild);var e=I.getElementsByName&&I.getElementsByName(E).length===2+I.getElementsByName(E+0).length;return y=!I.getElementById(E),M.removeChild(t),e});try{L.call(M.childNodes,0)[0].nodeType}catch(t){L=function(t){for(var e,i=[];e=this[t];t++)i.push(e);return i}}i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){return i(e,null,null,[t]).length>0},w=i.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n];n++)i+=w(e);return i},x=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},_=i.contains=M.contains?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:M.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},i.attr=function(t,e){var i,n=x(t);return n||(e=e.toLowerCase()),(i=b.attrHandle[e])?i(t):n||ct?t.getAttribute(e):(i=t.getAttributeNode(e),i?"boolean"==typeof t[e]?t[e]?e:null:i.specified?i.value:null:null)},b=i.selectors={cacheLength:50,createPseudo:q,match:ot,attrHandle:ht?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:y?function(t,e,i){if(typeof e.getElementById!==D&&!i){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}}:function(t,e,i){if(typeof e.getElementById!==D&&!i){var n=e.getElementById(t);return n?n.id===t||typeof n.getAttributeNode!==D&&n.getAttributeNode("id").value===t?[n]:void 0:[]}},TAG:lt?function(t,e){if(typeof e.getElementsByTagName!==D)return e.getElementsByTagName(t)}:function(t,e){var i=e.getElementsByTagName(t);if("*"===t){for(var n,r=[],s=0;n=i[s];s++)1===n.nodeType&&r.push(n);return r}return i},NAME:dt&&function(t,e){if(typeof e.getElementsByName!==D)return e.getElementsByName(name)},CLASS:ut&&function(t,e,i){if(typeof e.getElementsByClassName!==D&&!i)return e.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(st,""),t[3]=(t[4]||t[5]||"").replace(st,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||i.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&i.error(t[0]),t},PSEUDO:function(t){var e,i;return ot.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(e=t[4])&&(tt.test(e)&&(i=a(e,!0))&&(i=e.indexOf(")",e.length-i)-e.length)&&(e=e.slice(0,i),t[0]=t[0].slice(0,i)),t[2]=e),t.slice(0,3))}},filter:{ID:y?function(t){return t=t.replace(st,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(st,""),function(e){var i=typeof e.getAttributeNode!==D&&e.getAttributeNode("id");return i&&i.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(st,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=B[E][t+" "];return e||(e=new RegExp("(^|"+U+")"+t+"("+U+"|$)"))&&B(t,function(t){return e.test(t.className||typeof t.getAttribute!==D&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r,s){var o=i.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.substr(o.length-n.length)===n:"~="===e?(" "+o+" ").indexOf(n)>-1:"|="===e&&(o===n||o.substr(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n){return"nth"===t?function(t){var e,r,s=t.parentNode;if(1===i&&0===n)return!0;if(s)for(r=0,e=s.firstChild;e&&(1!==e.nodeType||(r++,t!==e));e=e.nextSibling);return(r-=n)===i||r%i==0&&r/i>=0}:function(e){var i=e;switch(t){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===t)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(t,e){var n,r=b.pseudos[t]||b.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return r[E]?r(e):r.length>1?(n=[t,t,"",e],b.setFilters.hasOwnProperty(t.toLowerCase())?q(function(t,i){for(var n,s=r(t,e),o=s.length;o--;)n=H.call(t,s[o]),t[n]=!(i[n]=s[o])}):function(t){return r(t,0,n)}):r}},pseudos:{not:q(function(t){var e=[],i=[],n=C(t.replace(Q,"$1"));return n[E]?q(function(t,e,i,r){for(var s,o=n(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,r,s){return e[0]=t,n(e,null,s,i),!i.pop()}}),has:q(function(t){return function(e){return i(t,e).length>0}}),contains:q(function(t){return function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},parent:function(t){return!b.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},header:function(t){return nt.test(t.nodeName)},text:function(t){var e,i;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(i=t.getAttribute("type"))||i.toLowerCase()===e)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:r("submit"),reset:r("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return rt.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return t===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},active:function(t){return t===t.ownerDocument.activeElement},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,i){return[i<0?i+e:i]}),even:s(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:s(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:s(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:s(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},k=M.compareDocumentPosition?function(t,e){return t===e?(S=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return S=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,r=[],s=[],a=t.parentNode,l=e.parentNode,h=a;if(a===l)return o(t,e);if(!a)return-1;if(!l)return 1;for(;h;)r.unshift(h),h=h.parentNode;for(h=l;h;)s.unshift(h),h=h.parentNode;i=r.length,n=s.length;for(var c=0;c<i&&c<n;c++)if(r[c]!==s[c])return o(r[c],s[c]);return c===i?o(t,s[c],-1):o(r[c],e,1)},[0,0].sort(k),A=!S,i.uniqueSort=function(t){var e,i=[],n=1,r=0;if(S=A,t.sort(k),S){for(;e=t[n];n++)e===t[n-1]&&(r=i.push(n));for(;r--;)t.splice(i[r],1)}return t},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},C=i.compile=function(t,e){var i,n=[],r=[],s=z[E][t+" "];if(!s){for(e||(e=a(t)),i=e.length;i--;)s=d(e[i]),s[E]?n.push(s):r.push(s);s=z(t,f(r,n))}return s},I.querySelectorAll&&function(){var t,e=m,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[":focus"],o=[":active"],l=M.matchesSelector||M.mozMatchesSelector||M.webkitMatchesSelector||M.oMatchesSelector||M.msMatchesSelector;at(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||s.push("\\["+U+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||s.push(":checked")}),at(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&s.push("[*^$]="+U+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")}),s=new RegExp(s.join("|")),m=function(t,i,r,o,l){if(!o&&!l&&!s.test(t)){var h,c,u=!0,d=E,f=i,p=9===i.nodeType&&t;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(h=a(t),(u=i.getAttribute("id"))?d=u.replace(n,"\\$&"):i.setAttribute("id",d),d="[id='"+d+"'] ",c=h.length;c--;)h[c]=d+h[c].join("");f=it.test(t)&&i.parentNode||i,p=h.join(",")}if(p)try{return j.apply(r,L.call(f.querySelectorAll(p),0)),r}catch(t){}finally{u||i.removeAttribute("id")}}return e(t,i,r,o,l)},l&&(at(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),o.push("!=",X)}catch(t){}}),o=new RegExp(o.join("|")),i.matchesSelector=function(e,n){if(n=n.replace(r,"='$1']"),!x(e)&&!o.test(n)&&!s.test(n))try{var a=l.call(e,n);if(a||t||e.document&&11!==e.document.nodeType)return a}catch(t){}return i(n,null,null,[e]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,i.attr=Y.attr,Y.find=i,Y.expr=i.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=i.uniqueSort,Y.text=i.getText,Y.isXMLDoc=i.isXML,Y.contains=i.contains}(t);var kt=/Until$/,St=/^(?:parents|prev(?:Until|All))/,Tt=/^.[^:#\[\.,]*$/,At=Y.expr.match.needsContext,Dt={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(t){var e,i,n,r,s,o,a=this;if("string"!=typeof t)return Y(t).filter(function(){for(e=0,i=a.length;e<i;e++)if(Y.contains(a[e],this))return!0});for(o=this.pushStack("","find",t),e=0,i=this.length;e<i;e++)if(n=o.length,Y.find(t,this[e],o),e>0)for(r=n;r<o.length;r++)for(s=0;s<n;s++)if(o[s]===o[r]){o.splice(r--,1);break}return o},has:function(t){var e,i=Y(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(Y.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(h(this,t,!1),"not",t)},filter:function(t){return this.pushStack(h(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?At.test(t)?Y(t,this.context).index(this[0])>=0:Y.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var i,n=0,r=this.length,s=[],o=At.test(t)||"string"!=typeof t?Y(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i.ownerDocument&&i!==e&&11!==i.nodeType;){if(o?o.index(i)>-1:Y.find.matchesSelector(i,t)){s.push(i);break}i=i.parentNode}return s=s.length>1?Y.unique(s):s,this.pushStack(s,"closest",t)},index:function(t){return t?"string"==typeof t?Y.inArray(this[0],Y(t)):Y.inArray(t.jqx?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?Y(t,e):Y.makeArray(t&&t.nodeType?[t]:t),n=Y.merge(this.get(),i);return this.pushStack(a(i[0])||a(n[0])?n:Y.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Y.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Y.dir(t,"parentNode",i)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Y.dir(t,"nextSibling")},prevAll:function(t){return Y.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Y.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Y.dir(t,"previousSibling",i)},siblings:function(t){return Y.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Y.sibling(t.firstChild)},contents:function(t){return Y.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:Y.merge([],t.childNodes)}},function(t,e){Y.fn[t]=function(i,n){var r=Y.map(this,e,i);return kt.test(t)||(n=i),n&&"string"==typeof n&&(r=Y.filter(n,r)),r=this.length>1&&!Dt[t]?Y.unique(r):r,this.length>1&&St.test(t)&&(r=r.reverse()),this.pushStack(r,t,q.call(arguments).join(","))}}),Y.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?Y.find.matchesSelector(e[0],t)?[e[0]]:[]:Y.find.matches(t,e)},dir:function(t,i,n){for(var r=[],s=t[i];s&&9!==s.nodeType&&(n===e||1!==s.nodeType||!Y(s).is(n));)1===s.nodeType&&r.push(s),s=s[i];return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Et="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Nt=/ JQXLite\d+="(?:null|\d+)"/g,It=/^\s+/,Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,Pt=/<tbody/i,Rt=/<|&#?\w+;/,jt=/<(?:script|style|link)/i,Lt=/<(?:script|object|embed|option|style)/i,Ht=new RegExp("<(?:"+Et+")[\\s/>]","i"),qt=/^(?:checkbox|radio)$/,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Bt=/\/(java|ecma)script/i,Ft=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Yt=c(P),Ut=Yt.appendChild(P.createElement("div"));zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,Y.support.htmlSerialize||(zt._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(t){return Y.access(this,function(t){return t===e?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(Y.isFunction(t))return this.each(function(e){Y(this).wrapAll(t.call(this,e))});if(this[0]){var e=Y(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return Y.isFunction(t)?this.each(function(e){Y(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Y(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Y.isFunction(t);return this.each(function(i){Y(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1!==this.nodeType&&11!==this.nodeType||this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(t,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=Y.clean(arguments);return this.pushStack(Y.merge(t,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=Y.clean(arguments);return this.pushStack(Y.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)t&&!Y.filter(t,[i]).length||(e||1!==i.nodeType||(Y.cleanData(i.getElementsByTagName("*")),Y.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&Y.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Y.clone(this,t,e)})},html:function(t){return Y.access(this,function(t){var i=this[0]||{},n=0,r=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Nt,""):e;if("string"==typeof t&&!jt.test(t)&&(Y.support.htmlSerialize||!Ht.test(t))&&(Y.support.leadingWhitespace||!It.test(t))&&!zt[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Mt,"<$1></$2>");try{for(;n<r;n++)i=this[n]||{},1===i.nodeType&&(Y.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(t){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return a(this[0])?this.length?this.pushStack(Y(Y.isFunction(t)?t():t),"replaceWith",t):this:Y.isFunction(t)?this.each(function(e){var i=Y(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=Y(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;Y(this).remove(),e?Y(e).before(t):Y(i).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){t=[].concat.apply([],t);var r,s,o,a,l=0,h=t[0],c=[],d=this.length;if(!Y.support.checkClone&&d>1&&"string"==typeof h&&Wt.test(h))return this.each(function(){Y(this).domManip(t,i,n)});if(Y.isFunction(h))return this.each(function(r){var s=Y(this);t[0]=h.call(this,r,i?s.html():e),s.domManip(t,i,n)});if(this[0]){if(r=Y.buildFragment(t,this,c),o=r.fragment,s=o.firstChild,1===o.childNodes.length&&(o=s),s)for(i=i&&Y.nodeName(s,"tr"),a=r.cacheable||d-1;l<d;l++)n.call(i&&Y.nodeName(this[l],"table")?u(this[l],"tbody"):this[l],l===a?o:Y.clone(o,!0,!0));o=s=null,c.length&&Y.each(c,function(t,e){e.src?Y.ajax?Y.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):Y.error("no ajax"):Y.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ft,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),Y.buildFragment=function(t,i,n){var r,s,o,a=t[0];return i=i||P,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,!(1===t.length&&"string"==typeof a&&a.length<512&&i===P&&"<"===a.charAt(0))||Lt.test(a)||!Y.support.checkClone&&Wt.test(a)||!Y.support.html5Clone&&Ht.test(a)||(s=!0,r=Y.fragments[a],o=r!==e),r||(r=i.createDocumentFragment(),Y.clean(t,i,r,n),s&&(Y.fragments[a]=o&&r)),{fragment:r,cacheable:s}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Y.fn[t]=function(i){var n,r=0,s=[],o=Y(i),a=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return o[e](this[0]),this;for(;r<a;r++)n=(r>0?this.clone(!0):this).get(),Y(o[r])[e](n),s=s.concat(n);return this.pushStack(s,t,o.selector)}}),Y.extend({clone:function(t,e,i){var n,r,s,o;if(Y.support.html5Clone||Y.isXMLDoc(t)||!Ht.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Ut.innerHTML=t.outerHTML,Ut.removeChild(o=Ut.firstChild)),!(Y.support.noCloneEvent&&Y.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Y.isXMLDoc(t)))for(f(t,o),n=p(t),r=p(o),s=0;n[s];++s)r[s]&&f(n[s],r[s]);if(e&&(d(t,o),i))for(n=p(t),r=p(o),s=0;n[s];++s)d(n[s],r[s]);return n=r=null,o},clean:function(t,e,i,n){var r,s,o,a,l,h,u,d,f,p,g,v=e===P&&Yt,y=[];for(e&&void 0!==e.createDocumentFragment||(e=P),r=0;null!=(o=t[r]);r++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(Rt.test(o)){for(v=v||c(e),u=e.createElement("div"),v.appendChild(u),o=o.replace(Mt,"<$1></$2>"),a=(Ot.exec(o)||["",""])[1].toLowerCase(),l=zt[a]||zt._default,h=l[0],u.innerHTML=l[1]+o+l[2];h--;)u=u.lastChild;if(!Y.support.tbody)for(d=Pt.test(o),f="table"!==a||d?"<table>"!==l[1]||d?[]:u.childNodes:u.firstChild&&u.firstChild.childNodes,s=f.length-1;s>=0;--s)Y.nodeName(f[s],"tbody")&&!f[s].childNodes.length&&f[s].parentNode.removeChild(f[s]);!Y.support.leadingWhitespace&&It.test(o)&&u.insertBefore(e.createTextNode(It.exec(o)[0]),u.firstChild),o=u.childNodes,u.parentNode.removeChild(u)}else o=e.createTextNode(o);o.nodeType?y.push(o):Y.merge(y,o)}if(u&&(o=u=v=null),!Y.support.appendChecked)for(r=0;null!=(o=y[r]);r++)Y.nodeName(o,"input")?m(o):void 0!==o.getElementsByTagName&&Y.grep(o.getElementsByTagName("input"),m);if(i)for(p=function(t){if(!t.type||Bt.test(t.type))return n?n.push(t.parentNode?t.parentNode.removeChild(t):t):i.appendChild(t)},r=0;null!=(o=y[r]);r++)Y.nodeName(o,"script")&&p(o)||(i.appendChild(o),void 0!==o.getElementsByTagName&&(g=Y.grep(Y.merge([],o.getElementsByTagName("script")),p),y.splice.apply(y,[r+1,0].concat(g)),r+=g.length));return y},cleanData:function(t,e){for(var i,n,r,s,o=0,a=Y.expando,l=Y.cache,h=Y.support.deleteExpando,c=Y.event.special;null!=(r=t[o]);o++)if((e||Y.acceptData(r))&&(n=r[a],i=n&&l[n])){if(i.events)for(s in i.events)c[s]?Y.event.remove(r,s):Y.removeEvent(r,s,i.handle);l[n]&&(delete l[n],h?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,Y.deletedIds.push(n))}}}),function(){var t,e;Y.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=Y.uaMatch(R.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),Y.browser=e,Y.sub=function(){function t(e,i){return new t.fn.init(e,i)}Y.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof Y&&!(n instanceof t)&&(n=t(n)),Y.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(P);return t}}();var $t,Vt,Gt,Xt=/alpha\([^)]*\)/i,Kt=/opacity=([^)]*)/,Qt=/^(top|right|bottom|left)$/,Jt=/^(none|table(?!-c[ea]).+)/,Zt=/^margin/,te=new RegExp("^("+U+")(.*)$","i"),ee=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),ie=new RegExp("^([-+])=("+U+")","i"),ne={BODY:"block"},re={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:0,fontWeight:400},oe=["Top","Right","Bottom","Left"],ae=["Webkit","O","Moz","ms"],le=Y.fn.toggle;Y.fn.extend({css:function(t,i){return Y.access(this,function(t,i,n){return n!==e?Y.style(t,i,n):Y.css(t,i)},t,i,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t,e){var i="boolean"==typeof t;return Y.isFunction(t)&&Y.isFunction(e)?le.apply(this,arguments):this.each(function(){(i?t:v(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=$t(t,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,a,l=Y.camelCase(i),h=t.style;if(i=Y.cssProps[l]||(Y.cssProps[l]=g(h,l)),a=Y.cssHooks[i]||Y.cssHooks[l],n===e)return a&&"get"in a&&(s=a.get(t,!1,r))!==e?s:h[i];if(!(o=typeof n,"string"===o&&(s=ie.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(Y.css(t,i)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||Y.cssNumber[l]||(n+="px"),a&&"set"in a&&(n=a.set(t,n,r))===e)))try{h[i]=n}catch(t){}}},css:function(t,i,n,r){var s,o,a,l=Y.camelCase(i);return i=Y.cssProps[l]||(Y.cssProps[l]=g(t.style,l)),a=Y.cssHooks[i]||Y.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,r)),s===e&&(s=$t(t,i)),"normal"===s&&i in se&&(s=se[i]),n||r!==e?(o=parseFloat(s),n||Y.isNumeric(o)?o||0:s):s},swap:function(t,e,i){var n,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];n=i.call(t);for(r in e)t.style[r]=s[r];return n}}),t.getComputedStyle?$t=function(e,i){var n,r,s,o,a=t.getComputedStyle(e,null),l=e.style;return a&&(n=a.getPropertyValue(i)||a[i],""!==n||Y.contains(e.ownerDocument,e)||(n=Y.style(e,i)),ee.test(n)&&Zt.test(i)&&(r=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=a.width,l.width=r,l.minWidth=s,l.maxWidth=o)),n
}:P.documentElement.currentStyle&&($t=function(t,e){var i,n,r=t.currentStyle&&t.currentStyle[e],s=t.style;return null==r&&s&&s[e]&&(r=s[e]),ee.test(r)&&!Qt.test(e)&&(i=s.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),s.left="fontSize"===e?"1em":r,r=s.pixelLeft+"px",s.left=i,n&&(t.runtimeStyle.left=n)),""===r?"auto":r}),Y.each(["height","width"],function(t,e){Y.cssHooks[e]={get:function(t,i,n){if(i)return 0===t.offsetWidth&&Jt.test($t(t,"display"))?Y.swap(t,re,function(){return x(t,e,n)}):x(t,e,n)},set:function(t,i,n){return b(t,i,n?w(t,e,n,Y.support.boxSizing&&"border-box"===Y.css(t,"boxSizing")):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(t,e){return Kt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=Y.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===Y.trim(s.replace(Xt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=Xt.test(s)?s.replace(Xt,r):s+" "+r)}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(t,e){return Y.swap(t,{display:"inline-block"},function(){if(e)return $t(t,"marginRight")})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(t,e){Y.cssHooks[e]={get:function(t,i){if(i){var n=$t(t,e);return ee.test(n)?Y(t).position()[e]+"px":n}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!Y.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||$t(t,"display"))},Y.expr.filters.visible=function(t){return!Y.expr.filters.hidden(t)}),Y.each({margin:"",padding:"",border:"Width"},function(t,e){Y.cssHooks[t+e]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],s={};for(n=0;n<4;n++)s[t+oe[n]+e]=r[n]||r[n-2]||r[0];return s}},Zt.test(t)||(Y.cssHooks[t+e].set=b)});var he=/%20/g,ce=/\[\]$/,ue=/\r?\n/g,de=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,fe=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||fe.test(this.nodeName)||de.test(this.type))}).map(function(t,e){var i=Y(this).val();return null==i?null:Y.isArray(i)?Y.map(i,function(t,i){return{name:e.name,value:t.replace(ue,"\r\n")}}):{name:e.name,value:i.replace(ue,"\r\n")}}).get()}}),Y.param=function(t,i){var n,r=[],s=function(t,e){e=Y.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=Y.ajaxSettings&&Y.ajaxSettings.traditional),Y.isArray(t)||t.jqx&&!Y.isPlainObject(t))Y.each(t,function(){s(this.name,this.value)});else for(n in t)C(n,t[n],i,s);return r.join("&").replace(he,"+")},Y.support.ajax&&Y.ajaxTransport(function(i){if(!i.crossDomain||Y.support.cors){var n;return{send:function(r,s){var o,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(t){}l.send(i.hasContent&&i.data||null),n=function(t,r){var a,h,c,u,d;try{if(n&&(r||4===l.readyState))if(n=e,o&&(l.onreadystatechange=Y.noop,xhrOnUnloadAbort&&delete xhrCallbacks[o]),r)4!==l.readyState&&l.abort();else{a=l.status,c=l.getAllResponseHeaders(),u={},d=l.responseXML,d&&d.documentElement&&(u.xml=d);try{u.text=l.responseText}catch(t){}try{h=l.statusText}catch(t){h=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=u.text?200:404}}catch(t){r||s(-1,t)}u&&s(a,h,u,c)},i.async?4===l.readyState?setTimeout(n,0):(o=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},Y(t).unload(xhrOnUnloadAbort)),xhrCallbacks[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var pe,me,ge=/^(?:toggle|show|hide)$/,ve=new RegExp("^(?:([-+])=|)("+U+")([a-z%]*)$","i"),ye=/queueHooks$/,be=[D],we={"*":[function(t,e){var i,n,r=this.createTween(t,e),s=ve.exec(e),o=r.cur(),a=+o||0,l=1,h=20;if(s){if(i=+s[2],"px"!==(n=s[3]||(Y.cssNumber[t]?"":"px"))&&a){a=Y.css(r.elem,t,!0)||i||1;do{l=l||".5",a/=l,Y.style(r.elem,t,a+n)}while(l!==(l=r.cur()/o)&&1!==l&&--h)}r.unit=n,r.start=a,r.end=s[1]?a+(s[1]+1)*i:i}return r}]};Y.Animation=Y.extend(T,{tweener:function(t,e){Y.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;n<r;n++)i=t[n],we[i]=we[i]||[],we[i].unshift(e)},prefilter:function(t,e){e?be.unshift(t):be.push(t)}}),Y.Tween=E,E.prototype={constructor:E,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(Y.cssNumber[i]?"":"px")},cur:function(){var t=E.propHooks[this.prop];return t&&t.get?t.get(this):E.propHooks._default.get(this)},run:function(t){var e,i=E.propHooks[this.prop];return this.options.duration?this.pos=e=Y.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Y.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Y.fx.step[t.prop]?Y.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Y.cssProps[t.prop]]||Y.cssHooks[t.prop])?Y.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Y.each(["toggle","show","hide"],function(t,e){var i=Y.fn[e];Y.fn[e]=function(n,r,s){return null==n||"boolean"==typeof n||!t&&Y.isFunction(n)&&Y.isFunction(r)?i.apply(this,arguments):this.animate(N(e,!0),n,r,s)}}),Y.fn.extend({fadeTo:function(t,e,i,n){return this.filter(v).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Y.isEmptyObject(t),s=Y.speed(e,i,n),o=function(){var e=T(this,Y.extend({},t),s);r&&e.stop(!0)};return r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,i,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",s=Y.timers,o=Y._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&ye.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));!e&&n||Y.dequeue(this,t)})}}),Y.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Y.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Y.speed=function(t,e,i){var n=t&&"object"==typeof t?Y.extend({},t):{complete:i||!i&&e||Y.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Y.isFunction(e)&&e};return n.duration=Y.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Y.fx.speeds?Y.fx.speeds[n.duration]:Y.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){Y.isFunction(n.old)&&n.old.call(this),n.queue&&Y.dequeue(this,n.queue)},n},Y.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Y.timers=[],Y.fx=E.prototype.init,Y.fx.tick=function(){var t,i=Y.timers,n=0;for(pe=Y.now();n<i.length;n++)(t=i[n])()||i[n]!==t||i.splice(n--,1);i.length||Y.fx.stop(),pe=e},Y.fx.timer=function(t){t()&&Y.timers.push(t)&&!me&&(me=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval(me),me=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(t){return Y.grep(Y.timers,function(e){return t===e.elem}).length});var xe=/^(?:body|html)$/i;Y.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){Y.offset.setOffset(this,t,e)});var i,n,r,s,o,a,l,h={top:0,left:0},c=this[0],u=c&&c.ownerDocument;if(u)return(n=u.body)===c?Y.offset.bodyOffset(c):(i=u.documentElement,Y.contains(i,c)?(void 0!==c.getBoundingClientRect&&(h=c.getBoundingClientRect()),r=I(u),s=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0,a=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:h.top+a-s,left:h.left+l-o}):h)},Y.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(Y.css(t,"marginTop"))||0,i+=parseFloat(Y.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=Y.css(t,"position");"static"===n&&(t.style.position="relative");var r,s,o=Y(t),a=o.offset(),l=Y.css(t,"top"),h=Y.css(t,"left"),c=("absolute"===n||"fixed"===n)&&Y.inArray("auto",[l,h])>-1,u={},d={};c?(d=o.position(),r=d.top,s=d.left):(r=parseFloat(l)||0,s=parseFloat(h)||0),Y.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(u.top=e.top-a.top+r),null!=e.left&&(u.left=e.left-a.left+s),"using"in e?e.using.call(t,u):o.css(u)}},Y.fn.extend({isRendered:function(){var t=this[0];return null!=t.parentNode&&0!==t.offsetWidth&&0!==t.offsetHeight},getSizeFromStyle:function(){var e,i=null,n=null,r=this[0];return r.style.width&&(i=r.style.width),r.style.height&&(n=r.style.height),e=t.getComputedStyle?getComputedStyle(r,null):r.currentStyle,e&&(e.width&&(i=e.width),e.height&&(n=e.height)),"0px"===i&&(i=0),"0px"===n&&(n=0),null===i&&(i=0),null===n&&(n=0),{width:i,height:n}},initAnimate:function(){},sizeStyleChanged:function(t){var e,i=this,n=function(t){var n=e;t&&t[0]&&"style"===t[0].attributeName&&"attributes"===t[0].type&&(n.element.offsetWidth===n.offsetWidth&&n.element.offsetHeight===n.offsetHeight||(n.offsetWidth=n.element.offsetWidth,n.offsetHeight=n.element.offsetHeight,i.isRendered()&&n.callback()))};e={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:t};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver(n),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(t){}},position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),i=this.offset(),n=xe.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(Y.css(t,"marginTop"))||0,i.left-=parseFloat(Y.css(t,"marginLeft"))||0,n.top+=parseFloat(Y.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(Y.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||P.body;t&&!xe.test(t.nodeName)&&"static"===Y.css(t,"position");)t=t.offsetParent;return t||P.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);Y.fn[t]=function(r){return Y.access(this,function(t,r,s){var o=I(t);if(s===e)return o?i in o?o[i]:o.document.documentElement[r]:t[r];o?o.scrollTo(n?Y(o).scrollLeft():s,n?s:Y(o).scrollTop()):t[r]=s},t,r,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(t,i){Y.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,r){Y.fn[r]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===s?"margin":"border");return Y.access(this,function(i,n,r){var s;return Y.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+t],s["scroll"+t],i.body["offset"+t],s["offset"+t],s["client"+t])):r===e?Y.css(i,n,r,a):Y.style(i,n,r,a)},i,o?r:e,o,null)}})}),t.JQXLite=t.jqxHelper=Y,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return Y})}(window),function(t){if(t.jQuery)return void(t.minQuery=t.JQXLite=t.jQuery);t.$?t.minQuery=t.JQXLite=t.$:t.$=t.minQuery=t.JQXLite}(window),JQXLite.generateID=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},e="";do{e="jqx"+t()+t()+t()}while($("#"+e).length>0);return e};var jqxBaseFramework=window.jqxBaseFramework=window.minQuery||window.jQuery;!function(t){t.jqx=t.jqx||{},window.jqx=t.jqx,jqwidgets={createInstance:function(e,i,n){if("jqxDataAdapter"==i){var r=n[0],s=n[1]||{};return new t.jqx.dataAdapter(r,s)}return t(e)[i](n||{}),t(e)[i]("getInstance")}},t.jqx.define=function(t,e,i){t[e]=function(){this.baseType&&(this.base=new t[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},t[e].prototype.defineInstance=function(){},t[e].prototype.metaInfo=function(){},t[e].prototype.base=null,t[e].prototype.baseType=void 0,i&&t[i]&&(t[e].prototype.baseType=i)},t.jqx.invoke=function(e,i){if(0!=i.length){for(var n=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):t({}).toArray();void 0==e[n]&&null!=e.base;){if(void 0!=e[n]&&t.isFunction(e[n]))return e[n].apply(e,r);if("string"==typeof n){var s=n.toLowerCase();if(void 0!=e[s]&&t.isFunction(e[s]))return e[s].apply(e,r)}e=e.base}if(void 0!=e[n]&&t.isFunction(e[n]))return e[n].apply(e,r);if("string"==typeof n){var s=n.toLowerCase();if(void 0!=e[s]&&t.isFunction(e[s]))return e[s].apply(e,r)}}},t.jqx.getByPriority=function(t){for(var e=void 0,i=0;i<t.length&&void 0==e;i++)void 0==e&&void 0!=t[i]&&(e=t[i]);return e},t.jqx.hasProperty=function(t,e){if("object"==typeof e)for(var i in e){for(var n=t;n;){if(n.hasOwnProperty(i))return!0;if(n.hasOwnProperty(i.toLowerCase()))return!0;n=n.base}return!1}else for(;t;){if(t.hasOwnProperty(e))return!0;if(t.hasOwnProperty(e.toLowerCase()))return!0;t=t.base}return!1},t.jqx.hasFunction=function(e,i){if(0==i.length)return!1;if(void 0==e)return!1;var n=typeof i==Array||i.length>0?i[0]:i;for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);void 0==e[n]&&null!=e.base;){if(e[n]&&t.isFunction(e[n]))return!0;if("string"==typeof n){var r=n.toLowerCase();if(e[r]&&t.isFunction(e[r]))return!0}e=e.base}if(e[n]&&t.isFunction(e[n]))return!0;if("string"==typeof n){var r=n.toLowerCase();if(e[r]&&t.isFunction(e[r]))return!0}return!1},t.jqx.isPropertySetter=function(e,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!t.jqx.hasFunction(e,i)},t.jqx.validatePropertySetter=function(e,i,n){if(!t.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var s=e;!s.hasOwnProperty(r)&&s.base;)s=s.base;if(!s||!s.hasOwnProperty(r)){if(!n){if(s.hasOwnProperty(r.toString().toLowerCase()))return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!n)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!e.hasOwnProperty(i[0])&&e.base;)e=e.base;if(!e||!e.hasOwnProperty(i[0])){if(!n)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var s,o,a=[];for(s in r)t.call(r,s)&&a.push(s);if(e)for(o=0;o<n;o++)t.call(r,i[o])&&a.push(i[o]);return a}}()),t.jqx.set=function(e,i){var n=0;if(1==i.length&&"object"==typeof i[0]){if(e.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=e.base?e.base.element:e.element,s=t.data(r,e.widgetName).initArgs;if(s&&JSON&&JSON.stringify&&i[0]&&s[0])try{if(JSON.stringify(i[0])==JSON.stringify(s[0])){var o=!0;if(t.each(i[0],function(t,i){if(e[t]!=i)return o=!1,!1}),o)return}}catch(t){}e.batchUpdate=i[0];var a={},l={};t.each(i[0],function(t,i){for(var r=e;!r.hasOwnProperty(t)&&null!=r.base;)r=r.base;r.hasOwnProperty(t)?e[t]!=i&&(a[t]=e[t],l[t]=i,n++):r.hasOwnProperty(t.toLowerCase())&&e[t.toLowerCase()]!=i&&(a[t.toLowerCase()]=e[t.toLowerCase()],l[t.toLowerCase()]=i,n++)}),n<2&&(e.batchUpdate=null)}t.each(i[0],function(i,n){for(var r=e;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))t.jqx.setvalueraiseevent(r,i,n);else if(r.hasOwnProperty(i.toLowerCase()))t.jqx.setvalueraiseevent(r,i.toLowerCase(),n);else if(t.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=e.batchUpdate&&(e.batchUpdate=null,e.propertiesChangedHandler&&n>1&&e.propertiesChangedHandler(e,a,l))}else if(2==i.length){for(;!e.hasOwnProperty(i[0])&&e.base;)e=e.base;if(e.hasOwnProperty(i[0]))t.jqx.setvalueraiseevent(e,i[0],i[1]);else if(e.hasOwnProperty(i[0].toLowerCase()))t.jqx.setvalueraiseevent(e,i[0].toLowerCase(),i[1]);else if(t.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},t.jqx.setvalueraiseevent=function(t,e,i){var n=t[e];t[e]=i,t.isInitialized&&(void 0!=t.propertyChangedHandler&&t.propertyChangedHandler(t,e,n,i),void 0!=t.propertyChangeMap&&void 0!=t.propertyChangeMap[e]&&t.propertyChangeMap[e](t,e,n,i))},t.jqx.get=function(t,e){if(void 0!=e&&null!=e){if(t.propertyMap){var i=t.propertyMap(e);if(null!=i)return i}if(t.hasOwnProperty(e))return t[e];if(t.hasOwnProperty(e.toLowerCase()))return t[e.toLowerCase()];var n=void 0;if(typeof e==Array){if(1!=e.length)return;n=e[0]}else"string"==typeof e&&(n=e);for(;!t.hasOwnProperty(n)&&t.base;)t=t.base;return t?t[n]:void 0}},t.jqx.serialize=function(e){var i="";if(t.isArray(e)){i="[";for(var n=0;n<e.length;n++)n>0&&(i+=", "),i+=t.jqx.serialize(e[n]);i+="]"}else if("object"==typeof e){i="{";var r=0;for(var n in e)r++>0&&(i+=", "),i+=n+": "+t.jqx.serialize(e[n]);i+="}"}else i=e.toString();return i},t.jqx.propertySetterValidation=!0,t.jqx.jqxWidgetProxy=function(e,i,n){var r=(t(i),t.data(i,e));if(void 0!=r){var s=r.instance;if(t.jqx.hasFunction(s,n))return t.jqx.invoke(s,n);if(t.jqx.isPropertySetter(s,n)){if(t.jqx.validatePropertySetter(s,n))return void t.jqx.set(s,n)}else{if("object"==typeof n&&0==n.length)return;if("object"==typeof n&&1==n.length&&t.jqx.hasProperty(s,n[0]))return t.jqx.get(s,n[0]);if("string"==typeof n&&t.jqx.hasProperty(s,n[0]))return t.jqx.get(s,n)}throw"jqxCore: Invalid parameter '"+t.jqx.serialize(n)+"' does not exist."}},t.jqx.applyWidget=function(e,i,n,r){var s=!1;try{s=void 0!=window.MSApp}catch(t){}var o=t(e);r?(r.host=o,r.element=e):r=new t.jqx["_"+i],""==e.id&&(e.id=t.jqx.utilities.createId());var a={host:o,element:e,instance:r,initArgs:n};r.widgetName=i,t.data(e,i,a),t.data(e,"jqxWidget",a.instance);for(var l=new Array,r=a.instance;r;)r.isInitialized=!1,l.push(r),r=r.base;l.reverse(),l[0].theme=t.jqx.theme||"",t.jqx.jqxWidgetProxy(i,e,n);for(var h in l)r=l[h],0==h&&(r.host=o,r.element=e,r.WinJS=s),void 0!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(s?MSApp.execUnsafeLocalFunction(function(){r.createInstance(n)}):r.createInstance(n)));for(var h in l)void 0!=l[h]&&(l[h].isInitialized=!0);s?MSApp.execUnsafeLocalFunction(function(){a.instance.refresh(!0)}):a.instance.refresh(!0)},t.jqx.jqxWidget=function(e,i,n){try{jqxArgs=Array.prototype.slice.call(n,0)}catch(t){jqxArgs=""}try{void 0!=window.MSApp}catch(t){}var r=e,s="";i&&(s="_"+i),t.jqx.define(t.jqx,"_"+r,s);var o=new Array;if(!window[r]){var a=function(e){if(null==e)return"";switch(t.type(e)){case"string":case"number":case"date":case"boolean":case"bool":return null===e?"":e.toString()}var i="";return t.each(e,function(e,n){var r=n;e>0&&(i+=", "),i+="[";var s=0;if("object"==t.type(r))for(var o in r)s>0&&(i+=", "),i+="{"+o+":"+r[o]+"}",s++;else s>0&&(i+=", "),i+="{"+e+":"+r+"}",s++;i+="]"}),i};jqwidgets[r]=window[r]=function(e,i){var n=[];i||(i={}),n.push(i);var s=e;if("object"===t.type(s)&&e[0]?""===(s=e[0].id)&&(s=e[0].id=t.jqx.utilities.createId()):"object"===t.type(e)&&e&&e.nodeName&&""===(s=e.id)&&(s=e.id=t.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[s]){if(i&&t.each(window.jqxWidgets[s],function(e){var n=t(this.element).data();n&&n.jqxWidget&&t(this.element)[r](i)}),1==window.jqxWidgets[s].length){var l=t(window.jqxWidgets[s][0].widgetInstance.element).data();if(l&&l.jqxWidget)return window.jqxWidgets[s][0]}var l=t(window.jqxWidgets[s][0].widgetInstance.element).data();if(l&&l.jqxWidget)return window.jqxWidgets[s]}var h=t(e);0===h.length&&(h=t("<div></div>"),"jqxInput"!==r&&"jqxPasswordInput"!==r&&"jqxMaskedInput"!==r||(h=t("<input/>")),"jqxTextArea"===r&&(h=t("<textarea></textarea>")),"jqxButton"!==r&&"jqxRepeatButton"!==r&&"jqxToggleButton"!==r||(h=t("<button/>")),"jqxSplitter"===r&&(h=t("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===r&&(h=t("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===r&&(h=t("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===r&&(h=t("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===r&&(h=t("<div><div>Title 1</div><div>Content 1</div></div>")));var c=[];return t.each(h,function(e){var i=h[e];if(t.jqx.applyWidget(i,r,n,void 0),!o[r]){var l=t.data(i,"jqxWidget"),u=t.jqx["_"+r].prototype.defineInstance();t.jqx["_"+r].prototype.metaInfo&&t.jqx["_"+r].prototype.metaInfo(),"jqxDockingLayout"==r&&(u=t.extend(u,t.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=r&&"jqxRepeatButton"!=r||(u=t.extend(u,t.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==r&&(u=t.extend(u,t.jqx._jqxDataTable.prototype.defineInstance()));var d=function(e){var i=t.data(e,"jqxWidget");this.widgetInstance=i;var n=t.extend(this,i);n.on=n.addEventListener=function(t,e){n.addHandler(n.base?n.base.host:n.host,t,e)},n.off=n.removeEventListener=function(t){n.removeHandler(n.base?n.base.host:n.host,t)};for(var r in i)"function"==t.type(i[r])&&(n[r]=t.proxy(i[r],i));return n};o[r]=d,t.each(u,function(e,i){Object.defineProperty(d.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[e]!=i||"width"===e||"height"===e)){var n=this.widgetInstance[e],s=i,o=t.type(n),l=t.type(s),h=!1;if(o==l&&"source"!==e&&"width"!==e&&"height"!==e||(h=!0),h||a(n)!=a(s)){var c={};c[e]=i,this.widgetInstance.host?this.widgetInstance.host[r](c):this.widgetInstance.base.host[r](c),this.widgetInstance[e]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(e,n,i)}}}})})}var l=new o[r](i);c.push(l),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[s]||(window.jqxWidgets[s]=new Array),window.jqxWidgets[s].push(l)}),1===c.length?c[0]:c}}t.fn[r]=function(){var e=Array.prototype.slice.call(arguments,0);if(0==e.length||1==e.length&&"object"==typeof e[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(t(this),this);null==t.data(i,r)?t.jqx.applyWidget(i,r,e,void 0):t.jqx.jqxWidgetProxy(r,this,e)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,n=0;return this.each(function(){var s=t.jqx.jqxWidgetProxy(r,this,e);if(0==n)i=s,n++;else{if(1==n){var o=[];o.push(i),i=o}i.push(s)}}),i};try{t.extend(t.jqx["_"+r].prototype,Array.prototype.slice.call(n,0)[0])}catch(t){}t.extend(t.jqx["_"+r].prototype,{toThemeProperty:function(e,i){return t.jqx.toThemeProperty(this,e,i)}}),t.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},t.jqx["_"+r].prototype.createInstance=function(){},t.jqx["_"+r].prototype.addEventHandler=function(t,e){this.host.on(t,e)},t.jqx["_"+r].prototype.removeEventHandler=function(t,e){this.host.off(t)},t.jqx["_"+r].prototype.applyTo=function(e,i){if(!(i instanceof Array)){var n=[];n.push(i),i=n}t.jqx.applyWidget(e,r,i,this)},t.jqx["_"+r].prototype.getInstance=function(){return this},t.jqx["_"+r].prototype.propertyChangeMap={},t.jqx["_"+r].prototype.addHandler=function(e,i,n,r){t.jqx.addHandler(t(e),i,n,r)},t.jqx["_"+r].prototype.removeHandler=function(e,i,n){t.jqx.removeHandler(t(e),i,n)},t.jqx["_"+r].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return t.jqx.jqxWidgetProxy(r,this.host[0],arguments)}},t.jqx.toThemeProperty=function(t,e,i){if(""==t.theme)return e;for(var n=e.split(" "),r="",s=0;s<n.length;s++){s>0&&(r+=" ");var o=n[s];r+=null!=i&&i?o+"-"+t.theme:o+" "+o+"-"+t.theme}return r},t.jqx.addHandler=function(e,i,n,r){for(var s=i.split(" "),o=0;o<s.length;o++){var a=s[o];if(window.addEventListener)switch(a){case"mousewheel":t.jqx.browser.mozilla?e[0].addEventListener("DOMMouseScroll",n,!1):e[0].addEventListener("mousewheel",n,!1);continue;case"mousemove":if(!r){e[0].addEventListener("mousemove",n,!1);continue}}void 0==r||null==r?e.on?e.on(a,n):e.bind(a,n):e.on?e.on(a,r,n):e.bind(a,r,n)}},t.jqx.removeHandler=function(e,i,n){if(!i)return void(e.off?e.off():e.unbind());for(var r=i.split(" "),s=0;s<r.length;s++){var o=r[s];if(window.removeEventListener)switch(o){case"mousewheel":t.jqx.browser.mozilla?e[0].removeEventListener("DOMMouseScroll",n,!1):e[0].removeEventListener("mousewheel",n,!1);continue;case"mousemove":if(n){e[0].removeEventListener("mousemove",n,!1);continue}}void 0!=o?void 0==n?e.off?e.off(o):e.unbind(o):e.off?e.off(o,n):e.unbind(o,n):e.off?e.off():e.unbind()}},t.jqx.theme=t.jqx.theme||"",t.jqx.scrollAnimation=t.jqx.scrollAnimation||!1,t.jqx.resizeDelay=t.jqx.resizeDelay||10,t.jqx.ready=function(){t(window).trigger("jqxReady")},t.jqx.init=function(){t.each(arguments[0],function(e,i){"theme"==e&&(t.jqx.theme=i),"scrollBarSize"==e&&(t.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==e&&(t.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==e&&(t.jqx.utilities.scrollBarButtonsVisibility=i)})},t.jqx.utilities=t.jqx.utilities||{},t.extend(t.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:8,scrollBarButtonsVisibility:"visible",createId:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+t()+t()+t()},setTheme:function(e,i,n){if(void 0!==n&&n[0].className.split){for(var r=n[0].className.split(" "),s=[],o=[],a=n.children(),l=0;l<r.length;l+=1)r[l].indexOf(e)>=0&&(e.length>0?(s.push(r[l]),o.push(r[l].replace(e,i))):o.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(s,n),this._addNewClasses(o,n);for(var l=0;l<a.length;l+=1)this.setTheme(e,i,t(a[l]))}},_removeOldClasses:function(t,e){for(var i=0;i<t.length;i+=1)e.removeClass(t[i])},_addNewClasses:function(t,e){for(var i=0;i<t.length;i+=1)e.addClass(t[i])},getOffset:function(e){var i=t.jqx.mobile.getLeftPos(e[0]);return{top:t.jqx.mobile.getTopPos(e[0]),left:i}},resize:function(e,i,n,r){void 0===r&&(r=!0);var s=-1,o=this,a=function(t){if(!o.hiddenWidgets)return-1;for(var e=-1,i=0;i<o.hiddenWidgets.length;i++)if(t.id){if(o.hiddenWidgets[i].id==t.id){e=i;break}}else if(o.hiddenWidgets[i].id==t[0].id){e=i;break}return e};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(e.id){if(this.resizeHandlers[l].id==e.id){s=l;break}}else if(this.resizeHandlers[l].id==e[0].id){s=l;break}if(!0===n){if(-1!=s&&(this.resizeHandlers.splice(s,1),this.watchedElementData&&this.watchedElementData.length>0&&this.watchedElementData.splice(s,1)),0==this.resizeHandlers.length){var h=t(window);h.off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var c=a(e);return void(-1!=c&&this.hiddenWidgets&&this.hiddenWidgets.splice(c,1))}}else if(!0===n){var c=a(e);return void(-1!=c&&this.hiddenWidgets&&this.hiddenWidgets.splice(c,1))}var o=this,u=function(e,i){if(o.resizeHandlers){var n=function(t){for(var e=-1,i=t.parentNode;i;)e++,i=i.parentNode;return e},r=function(t,e){if(!t.widget||!e.widget)return 0;var i=n(t.widget[0]),r=n(e.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(t){}return 0},s=function(e){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(r);var n=function(){for(var e=!1,n=new Array,r=0;r<o.hiddenWidgets.length;r++){var s=o.hiddenWidgets[r];t.jqx.isHidden(s.widget)?(e=!0,n.push(s)):s.callback&&s.callback(i)}o.hiddenWidgets=n,e||clearInterval(o.__resizeInterval)};if(0==e)return n(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval(function(){n()},100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&s(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(r);for(var l=0;l<o.resizeHandlers.length;l++){var h=o.resizeHandlers[l],c=h.widget,u=h.data;if(u&&u.jqxWidget){var d=u.jqxWidget.width,f=u.jqxWidget.height;u.jqxWidget.base&&(void 0==d&&(d=u.jqxWidget.base.width),void 0==f&&(f=u.jqxWidget.base.height)),void 0===d&&void 0===f&&(d=u.jqxWidget.element.style.width,f=u.jqxWidget.element.style.height);var p=!1;if(null!=d&&-1!=d.toString().indexOf("%")&&(p=!0),null!=f&&-1!=f.toString().indexOf("%")&&(p=!0),t.jqx.isHidden(c))-1===a(c)&&(p||!0===e)&&!0!==h.data.nestedWidget&&o.hiddenWidgets.push(h);else if(void 0===e||!0!==e){if(p){if(h.callback(i),o.watchedElementData)for(var m=0;m<o.watchedElementData.length;m++)if(o.watchedElementData[m].element==u.jqxWidget.element){o.watchedElementData[m].offsetWidth=u.jqxWidget.element.offsetWidth,o.watchedElementData[m].offsetHeight=u.jqxWidget.element.offsetHeight;break}o.hiddenWidgets.indexOf(h)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(h),1)}if(u.jqxWidget.element){var g=u.jqxWidget.element.className;if((g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)&&u.jqxWidget.isOpened){var v=u.jqxWidget.isOpened();if(v){if(i&&"resize"==i&&t.jqx.mobile.isTouchDevice())continue;u.jqxWidget.close()}}}}}}s()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var h=t(window);h.on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",function(e){void 0!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._initResize?o._resizeTimer=setTimeout(function(){u(null,"resize")},t.jqx.resizeDelay):(o._initResize=!0,u(null,"resize"))}),h.on("orientationchange.jqx",function(t){u(null,"orientationchange")}),h.on("orientationchanged.jqx",function(t){u(null,"orientationchange")})):(h.bind("resize.jqx",function(t){u(null,"orientationchange")}),h.bind("orientationchange.jqx",function(t){u(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(t){u(null,"orientationchange")}))}var d=e.data();r&&-1===s&&this.resizeHandlers.push({id:e[0].id,widget:e,callback:i,data:d});try{var f=d.jqxWidget.width,p=d.jqxWidget.height;d.jqxWidget.base&&(void 0==f&&(f=d.jqxWidget.base.width),void 0==p&&(p=d.jqxWidget.base.height)),void 0===f&&void 0===p&&(f=d.jqxWidget.element.style.width,p=d.jqxWidget.element.style.height);var m=!1;if(null!=f&&-1!=f.toString().indexOf("%")&&(m=!0),null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),m){this.watchedElementData||(this.watchedElementData=[]);var o=this,g=function(e){o.watchedElementData.forEach&&o.watchedElementData.forEach(function(e){e.element.offsetWidth===e.offsetWidth&&e.element.offsetHeight===e.offsetHeight||(e.offsetWidth=e.element.offsetWidth,e.offsetHeight=e.element.offsetHeight,e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){t.jqx.isHidden(t(e.element))?e.timer=setInterval(function(){t.jqx.isHidden(t(e.element))||(clearInterval(e.timer),e.callback())},100):e.callback()}))})};o.watchedElementData.push({element:e[0],offsetWidth:e[0].offsetWidth,offsetHeight:e[0].offsetHeight,
callback:i}),o.observer||(o.observer=new MutationObserver(g),o.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(t){}t.jqx.isHidden(e)&&!0===r&&u(!0),t.jqx.resize=function(){u(null,"resize")}},parseJSON:function(e){if(!e||"string"!=typeof e)return null;var i=/^[\],:{}\s]*$/,n=/(?:^|:|,)(?:\s*\[)+/g,r=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,s=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g;if(e=t.trim(e),window.JSON&&window.JSON.parse)return window.JSON.parse(e);if(i.test(e.replace(r,"@").replace(s,"]").replace(n,"")))return new Function("return "+e)();throw new Error("Invalid JSON: "+e)},html:function(e,i){if(!t(e).on)return t(e).html(i);try{return t.access(e,function(i){var n=e[0]||{},r=0,s=e.length;if(void 0===i)return 1===n.nodeType?n.innerHTML.replace(rinlinejQuery,""):void 0;var o=/<(?:script|style|link)/i,a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,l=/<([\w:]+)/,h=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i"),c=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof i&&!o.test(i)&&(t.support.htmlSerialize||!h.test(i))&&(t.support.leadingWhitespace||!c.test(i))&&!u[(l.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(a,"<$1></$2>");try{for(;r<s;r++)n=this[r]||{},1===n.nodeType&&(t.cleanData(n.getElementsByTagName("*")),n.innerHTML=i);n=0}catch(t){}}n&&e.empty().append(i)},null,i,arguments.length)}catch(n){return t(e).html(i)}},hasTransform:function(e){var i="";if(""==(i=e.css("transform"))||"none"==i){if(""!=(i=e.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i;var n=t.jqx.utilities.getBrowser();"msie"==n.browser?""!=(i=e.css("-ms-transform"))&&"none"!=i||(i=e.parents().css("-ms-transform")):"chrome"==n.browser?""!=(i=e.css("-webkit-transform"))&&"none"!=i||(i=e.parents().css("-webkit-transform")):"opera"==n.browser?""!=(i=e.css("-o-transform"))&&"none"!=i||(i=e.parents().css("-o-transform")):"mozilla"==n.browser&&(""!=(i=e.css("-moz-transform"))&&"none"!=i||(i=e.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=t(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i={browser:e[1]||"",version:e[2]||"0"};return t.indexOf("rv:11.0")>=0&&t.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",e[1]="msie"),t.indexOf("edge")>=0&&(i.browser="msie",i.version="12",e[1]="msie"),i[e[1]]=e[1],i}}),t.jqx.browser=t.jqx.utilities.getBrowser(),t.jqx.isHidden=function(t){if(!t||!t[0])return!1;var e=t[0].offsetWidth,i=t[0].offsetHeight;return 0===e||0===i},t.jqx.ariaEnabled=!0,t.jqx.aria=function(e,i,n){if(t.jqx.ariaEnabled)if(void 0==i)t.each(e.aria,function(i,n){var r=e.base?e.base.host.attr(i):e.host.attr(i);if(void 0==r||t.isFunction(r)){var r=e[n.name];t.isFunction(r)&&(r=e[n.name]()),void 0==r&&(r="");try{e.base?e.base.host.attr(i,r.toString()):e.host.attr(i,r.toString())}catch(t){}}else{var s=r;switch(n.type){case"number":s=new Number(r),isNaN(s)&&(s=r);break;case"boolean":s="true"==r;break;case"date":s=new Date(r),("Invalid Date"==s||isNaN(s))&&(s=r)}e[n.name]=s}});else try{e.host?e.base?e.base.host?e.base.host.attr(i,n.toString()):e.attr(i,n.toString()):e.host?e.element.setAttribute?e.element.setAttribute(i,n.toString()):e.host.attr(i,n.toString()):e.attr(i,n.toString()):e.setAttribute&&e.setAttribute(i,n.toString())}catch(t){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length,i=Number(arguments[1])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=e);i<e;i++)if(i in this&&this[i]===t)return i;return-1}),t.jqx.mobile=t.jqx.mobile||{},t.jqx.position=function(e){var i=parseInt(e.pageX),n=parseInt(e.pageY);if(t.jqx.mobile.isTouchDevice()){var r=t.jqx.mobile.getTouches(e),s=r[0];i=parseInt(s.pageX),n=parseInt(s.pageY)}return{left:i,top:n}},t.extend(t.jqx.mobile,{_touchListener:function(t,e){var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},n=function(t,e){var i=document.createEvent("MouseEvents");return i.initMouseEvent(t,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),i._pageX=e.pageX,i._pageY=e.pageY,i}(i[t.type],t);t.target.dispatchEvent(n);var r=t.target["on"+i[t.type]];"function"==typeof r&&r(t)},setMobileSimulator:function(e,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var s=function(){for(var t in n)e.addEventListener&&(e.removeEventListener(t,r._touchListener),e.addEventListener(t,r._touchListener,!1))};t.jqx.browser.msie,s()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t="Browser CodeName: "+navigator.appCodeName;if(t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,t+="User-agent header: "+navigator.userAgent,-1!=t.indexOf("Android"))return!0;if(-1!=t.indexOf("IEMobile"))return!0;if(-1!=t.indexOf("Windows Phone"))return!0;if(-1!=t.indexOf("WPDesktop"))return!0;if(-1!=t.indexOf("ZuneWP7"))return!0;if(-1!=t.indexOf("BlackBerry")&&-1!=t.indexOf("Mobile Safari"))return!0;if(-1!=t.indexOf("ipod"))return!0;if(-1!=t.indexOf("nokia")||-1!=t.indexOf("Nokia"))return!0;if(-1!=t.indexOf("Chrome/17"))return!1;if(-1!=t.indexOf("CrOS"))return!1;if(-1!=t.indexOf("Opera")&&-1==t.indexOf("Mobi")&&-1==t.indexOf("Mini")&&-1!=t.indexOf("Platform: Win"))return!1;if(-1!=t.indexOf("HybridDeviceTouch"))return!0;if(-1!=t.indexOf("HybridDeviceMouse"))return!1;if(-1!=t.indexOf("Opera")&&-1!=t.indexOf("Mobi")&&-1!=t.indexOf("Opera Mobi"))return!0;var e={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in e)if(e.hasOwnProperty(i)&&(prefix=e[i],match=t.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var n=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(n.indexOf("Windows Phone")>=0||n.indexOf("WPDesktop")>=0||n.indexOf("IEMobile")>=0||n.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(n.indexOf("Touch")>=0){return"MSPointerDown"in window||"pointerdown"in window?(this.touchDevice=!0,!0):n.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(t){return this.touchDevice=!1,!1}},getLeftPos:function(t){for(var e=t.offsetLeft;null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(e+=t.offsetLeft,document.all&&(e+=t.clientLeft));return e},getTopPos:function(e){for(var i=e.offsetTop,n=t(e).coord();null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(i+=e.offsetTop-e.scrollTop,document.all&&(i+=e.clientTop));var r=navigator.userAgent.toLowerCase();return-1==r.indexOf("windows phone")&&-1==r.indexOf("WPDesktop")&&-1==r.indexOf("ZuneWP7")&&-1==r.indexOf("msie 9")&&-1==r.indexOf("msie 11")&&-1==r.indexOf("msie 10")||-1==r.indexOf("touch")?this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?n.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(i+=t(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+t(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+t(window).scrollTop():n.top):i:n.top},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("opera mini")||-1!=t.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var t=navigator.userAgent.toLowerCase(),e=-1!=t.indexOf("ipad")||-1!=t.indexOf("iphone")||-1!=t.indexOf("ipod");return e=e&&-1!=t.indexOf("version/5")},isSafari4MobileBrowser:function(){var t=navigator.userAgent.toLowerCase(),e=-1!=t.indexOf("ipad")||-1!=t.indexOf("iphone")||-1!=t.indexOf("ipod");return e=e&&-1!=t.indexOf("version/4")},isWindowsPhone:function(){var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("windows phone")||-1!=t.indexOf("WPDesktop")||-1!=t.indexOf("ZuneWP7")||-1!=t.indexOf("msie 9")||-1!=t.indexOf("msie 11")||-1!=t.indexOf("msie 10")&&-1!=t.indexOf("touch")},isSafariMobileBrowser:function(){var t=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=t.indexOf("ipad")||-1!=t.indexOf("iphone")||-1!=t.indexOf("ipod")||-1!=t.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("ipad")||-1!=t.indexOf("iphone")||-1!=t.indexOf("android")},getTouches:function(t){if(t.originalEvent){if(t.originalEvent.touches&&t.originalEvent.touches.length)return t.originalEvent.touches;if(t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length)return t.originalEvent.changedTouches}return t.touches||(t.touches=new Array,t.touches[0]=void 0!=t.originalEvent?t.originalEvent:t,void 0!=t.originalEvent&&t.pageX&&(t.touches[0]=t),"mousemove"==t.type&&(t.touches[0]=t)),t.touches},getTouchEventName:function(t){if(!this.isWindowsPhone())return t;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=t.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=t.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=t.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=t.toLowerCase().indexOf("start")?"pointerdown":-1!=t.toLowerCase().indexOf("move")?"pointermove":-1!=t.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(t,e,i){if(!this.simulatetouches){var n=document.createEvent("MouseEvent");n.initMouseEvent(t,!0,!0,e.view,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(n)}},getRootNode:function(t){for(;1!==t.nodeType;)t=t.parentNode;return t},setTouchScroll:function(t,e){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=t},touchScroll:function(e,i,n,r,s,o){function a(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.originalEvent&&void 0!==t.originalEvent.clientY?t.originalEvent.clientY:u.getTouches(t)[0].clientY}function l(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.originalEvent&&void 0!==t.originalEvent.clientX?t.originalEvent.clientX:u.getTouches(t)[0].clientX}function h(){var t,e;O&&(t=Date.now()-I,e=-O*Math.exp(-t/L),e>.5||e<-.5?(z(P+e),requestAnimationFrame(h)):z(P))}function c(){var t,e;O&&(t=Date.now()-I,e=-O*Math.exp(-t/L),e>.5||e<-.5?(Y(R+e),requestAnimationFrame(c)):Y(R))}if(null!=e){var u=this,d=0,f=0,p=0,m=0,g=0,v=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var y=!1,b=t(e),w=["select","input","textarea"],x=0,_=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;var C,k,S,T,A,D,E,N,I,M,O,P,R,j,L,r=r,H=this.getTouchEventName("touchstart")+".touchScroll",q=this.getTouchEventName("touchend")+".touchScroll",W=this.getTouchEventName("touchmove")+".touchScroll";S=i,k=0,T=0,xoffset=0,initialOffset=0,initialXOffset=0,C=s.jqxScrollBar("max"),L=325;var B=function(){var t,e,i,n;t=Date.now(),e=t-I,I=t,i=T-N,xdelta=xoffset-xframe,N=T,xframe=xoffset,D=!0,n=1e3*i/(1+e),xv=1e3*xdelta/(1+e),E=.8*n+.2*E,xjqxAnimations=.8*xv+.2*xjqxAnimations},F=!1,x=function(e){if(!u.enableScrolling[r])return!0;if(-1===t.inArray(e.target.tagName.toLowerCase(),w)){T=o.jqxScrollBar("value"),xoffset=s.jqxScrollBar("value");var i=u.getTouches(e),n=i[0];return 1==i.length&&u.dispatchMouseEvent("mousedown",n,u.getRootNode(n.target)),C=s.jqxScrollBar("max"),S=o.jqxScrollBar("max"),function(t){F=!1,D=!0,A=a(t),j=l(t),E=O=xjqxAnimations=0,N=T,xframe=xoffset,I=Date.now(),clearInterval(M),M=setInterval(B,100),initialOffset=T,initialXOffset=xoffset,T>0&&T<S&&o[0].style.visibility}(e),y=!1,f=n.pageY,g=n.pageX,u.simulatetouches&&void 0!=n._pageY&&(f=n._pageY,g=n._pageX),u.scrolling[r]=!0,d=0,m=0,!0}};b.on?b.on(H,x):b.bind(H,x);var z=function(t,e){return T=t>S?S:t<k?k:t,n(null,t,0,0,e),t>S?"max":t<k?"min":"value"},Y=function(t,e){return xoffset=t>C?C:t<k?k:t,n(t,null,0,0,e),t>C?"max":t<k?"min":"value"},U=function(t){if(!u.enableScrolling[r])return!0;if(!u.scrolling[r])return!0;F&&(t.preventDefault(),t.stopPropagation());var e=u.getTouches(t);if(e.length>1)return!0;var i=e[0].pageY,n=e[0].pageX;u.simulatetouches&&void 0!=e[0]._pageY&&(i=e[0]._pageY,n=e[0]._pageX);var h=i-f,c=n-g;_=i,touchHorizontalEnd=n,p=h-d,v=c-m,y=!0,d=h,m=c;var b=null==s||"hidden"!=s[0].style.visibility,w=null==o||"hidden"!=o[0].style.visibility;(b||w)&&(b||w)&&function(t){var e,i,n;if(D){e=a(t),n=l(t),i=A-e,xdelta=j-n;var r="value";if(i>2||i<-2)return A=e,r=z(T+i,t),B(),"min"==r&&0===initialOffset||"max"==r&&initialOffset===S||!w||(t.preventDefault(),t.stopPropagation(),F=!0,!1);if(xdelta>2||xdelta<-2)return j=n,r=Y(xoffset+xdelta,t),B(),"min"==r&&0===initialXOffset||"max"==r&&initialXOffset===C||!b||(F=!0,t.preventDefault(),t.stopPropagation(),!1);t.preventDefault()}}(t)};b.on?b.on(W,U):b.bind(W,U);var $=function(t){if(!u.enableScrolling[r])return!0;var e=u.getTouches(t)[0];if(!u.scrolling[r])return!0;if(D=!1,clearInterval(M),E>10||E<-10?(O=.8*E,P=Math.round(T+O),I=Date.now(),requestAnimationFrame(h)):(xjqxAnimations>10||xjqxAnimations<-10)&&(O=.8*xjqxAnimations,R=Math.round(xoffset+O),I=Date.now(),requestAnimationFrame(c)),u.scrolling[r]=!1,!y){var e=u.getTouches(t)[0],i=u.getRootNode(e.target);return u.dispatchMouseEvent("mouseup",e,i),u.dispatchMouseEvent("click",e,i),!0}u.dispatchMouseEvent("mouseup",e,t.target)};if(this.simulatetouches){var V=(void 0!=t(window).on||t(window).bind,function(t){try{$(t)}catch(t){}u.scrolling[r]=!1});if(void 0!=t(window).on?t(document).on("mouseup.touchScroll",V):t(document).bind("mouseup.touchScroll",V),window.frameElement&&null!=window.top){var G=function(t){try{$(t)}catch(t){}u.scrolling[r]=!1};window.top.document&&(t(window.top.document).on?t(window.top.document).on("mouseup",G):t(window.top.document).bind("mouseup",G))}var X=(void 0!=t(document).on||t(document).bind,function(t){if(!u.scrolling[r])return!0;u.scrolling[r]=!1;var e=u.getTouches(t)[0],i=u.getRootNode(e.target);u.dispatchMouseEvent("mouseup",e,i),u.dispatchMouseEvent("click",e,i)});void 0!=t(document).on?t(document).on("touchend",X):t(document).bind("touchend",X)}b.on&&(b.on("dragstart",function(t){t.preventDefault()}),b.on("selectstart",function(t){t.preventDefault()})),b.on?b.on(q+" touchcancel.touchScroll",$):b.bind(q+" touchcancel.touchScroll",$)}}}),t.jqx.cookie=t.jqx.cookie||{},t.extend(t.jqx.cookie,{cookie:function(e,i,n){if(arguments.length>1&&"[object Object]"!==String(i)){if(n=t.extend({},n),null!==i&&void 0!==i||(n.expires=-1),"number"==typeof n.expires){var r=n.expires,s=n.expires=new Date;s.setDate(s.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(e),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=i||{};var o,a=n.raw?function(t){return t}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),t.jqx.string=t.jqx.string||{},t.extend(t.jqx.string,{replace:function(t,e,i){if(e===i)return this;for(var n=t,r=n.indexOf(e);-1!=r;)n=n.replace(e,i),r=n.indexOf(e);return n},contains:function(t,e){return null!=t&&null!=e&&-1!=t.indexOf(e)},containsIgnoreCase:function(t,e){return null!=t&&null!=e&&-1!=t.toString().toUpperCase().indexOf(e.toString().toUpperCase())},equals:function(t,e){return null!=t&&null!=e&&(t=this.normalize(t),e.length==t.length&&t.slice(0,e.length)==e)},equalsIgnoreCase:function(t,e){return null!=t&&null!=e&&(t=this.normalize(t),e.length==t.length&&t.toUpperCase().slice(0,e.length)==e.toUpperCase())},startsWith:function(t,e){return null!=t&&null!=e&&t.slice(0,e.length)==e},startsWithIgnoreCase:function(t,e){return null!=t&&null!=e&&t.toUpperCase().slice(0,e.length)==e.toUpperCase()},normalize:function(t){return 65279==t.charCodeAt(t.length-1)&&(t=t.substring(0,t.length-1)),t},endsWith:function(t,e){return null!=t&&null!=e&&(t=this.normalize(t),t.slice(-e.length)==e)},endsWithIgnoreCase:function(t,e){return null!=t&&null!=e&&(t=this.normalize(t),t.toUpperCase().slice(-e.length)==e.toUpperCase())}}),t.extend(t.easing,{easeOutBack:function(t,e,i,n,r,s){return void 0==s&&(s=1.70158),n*((e=e/r-1)*e*((s+1)*e+s)+1)+i},easeInQuad:function(t,e,i,n,r){return n*(e/=r)*e+i},easeInOutCirc:function(t,e,i,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInOutSine:function(t,e,i,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+i},easeInCubic:function(t,e,i,n,r){return n*(e/=r)*e*e+i},easeOutCubic:function(t,e,i,n,r){return n*((e=e/r-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,r){return(e/=r/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInSine:function(t,e,i,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,r){return n*Math.sin(e/r*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+i}})}(jqxBaseFramework),function(t){t.event&&t.event.special&&t.extend(t.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),t.fn.extend&&t.fn.extend({ischildof:function(e){if(!t(this).parents){return e.element.contains(this.element)}for(var i=t(this).parents().get(),n=0;n<i.length;n++)if("string"!=typeof e){var r=i[n];if(void 0!==e&&r==e[0])return!0}else if(void 0!==e&&t(i[n]).is(e))return!0;return!1}}),t.fn.jqxProxy=function(){var e=t(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),n=e.element;return n||(n=e.base.element),t.jqx.jqxWidgetProxy(e.widgetName,n,i)};var e=this.originalVal=t.fn.val;t.fn.val=function(i){if(void 0===i){if(t(this).hasClass("jqx-widget")){var n=t(this).data().jqxWidget;if(n&&n.val)return n.val()}if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0){var n=t(this).find(".jqx-widget").data().jqxWidget;if(n&&n.val)return n.val()}return e.call(this)}if(t(this).hasClass("jqx-widget")){var n=t(this).data().jqxWidget;if(n&&n.val)return 2!=arguments.length?n.val(i):n.val(i,arguments[1])}if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0){var n=t(this).find(".jqx-widget").data().jqxWidget;if(n&&n.val)return 2!=arguments.length?n.val(i):n.val(i,arguments[1])}return e.call(this,i)},t.fn.modal&&t.fn.modal.Constructor&&(t.fn.modal.Constructor.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){if(t(e.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),t.fn.coord=function(e){var i,n,r={top:0,left:0},s=this[0],o=s&&s.ownerDocument;if(o){if(i=o.documentElement,!t.contains(i,s))return r;void 0!==typeof s.getBoundingClientRect&&(r=s.getBoundingClientRect());n=function(e){return t.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}(o);var a=0,l=0,h=navigator.userAgent.toLowerCase();if((-1!=h.indexOf("ipad")||-1!=h.indexOf("iphone"))&&(a=2),1==e&&"static"!=document.body.style.position&&""!=document.body.style.position){var c=t(document.body).coord();a=-c.left,l=-c.top}return{top:l+r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:a+r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(t){t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}}),t.jqx.jqxWidget("jqxSortable","",{}),t.extend(t.jqx._jqxSortable.prototype,{defineInstance:function(){var e={appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,maxItems:9999,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholderShow:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:!1,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:!1,create:null,_touchEvents:{mousedown:t.jqx.mobile.getTouchEventName("touchstart"),click:t.jqx.mobile.getTouchEventName("touchstart"),mouseup:t.jqx.mobile.getTouchEventName("touchend"),mousemove:t.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","remove","sort","start","stop","update","create"]};return this===t.jqx._jqxSortable.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){this._render()},_render:function(){var e=this;this._isTouchDevice=t.jqx.mobile.isTouchDevice(),this.containerCache={};var i=t(i||e.defaultElement||this)[0];e.document=t(i.style?i.ownerDocument:i.document||i),e.window=t(e.document[0].defaultView||e.document[0].parentWindow),e.host.addClass(e.toThemeProperty("jqx-widget jqx-sortable")),e.refresh(),e.floating=!!e.itemsArray.length&&("x"===e.axis||e._isFloating(e.itemsArray[0].item)),e.offset=e.host.offset(),e._handleMouse(),e._cancelSelect(),e.ready=!0},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_getEvent:function(t){return this._isTouchDevice?this._touchEvents[t]+".jqxSortable"+this.element.id:t+".jqxSortable"+this.element.id},_handleMouse:function(){var e=this;e.addHandler(this.host,this._getEvent("mousedown"),function(t){return e._mouseDown(t)}),e.addHandler(e.host,this._getEvent("click"),function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),e.started=!1},widget:function(){return this.host},_mouseDestroy:function(){var e=this;e.host.off("."+this.widgetName),e._mouseMoveDelegate&&(e.removeHandler(t(document),this._getEvent("mousemove")),e.removeHandler(t(document),this._getEvent("mouseup")))},_mouseDown:function(e){var i=this;if(!i.mouseHandled){if(i._mouseMoved=!1,i._isTouchDevice){var n=t.jqx.position(e);e.pageX=n.left,e.pageY=n.top}i._mouseStarted&&i._mouseUp(e),i._mouseDownEvent=e,this._isTouchDevice&&(e.which=1);var r=1===e.which,s=!("string"!=typeof this.cancel||!e.target.nodeName)&&t(e.target).closest(this.cancel).length;if(this._isTouchDevice&&(r=!0),!r||s||!this._mouseCapture(e))return!0;if(i.mouseDelayMet=!i.delay,i.mouseDelayMet||(i._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},i.delay)),i._mouseDistanceMet(e)&&i._mouseDelayMet(e)&&(i._mouseStarted=!1!==i._mouseStart(e),!i._mouseStarted))return e.preventDefault(),!0;!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),i._mouseMoveDelegate=function(t){return i._mouseMove(t)},i._mouseUpDelegate=function(t){return i._mouseUp(t)},i.addHandler(t(document),this._getEvent("mousemove"),i._mouseMoveDelegate),i.addHandler(t(document),this._getEvent("mouseup"),i._mouseUpDelegate);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var o=function(t){i._mouseUp(t)},a=null;window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",o,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",o))}}catch(t){}return e.preventDefault(),mouseHandled=!0,!0}},_mouseMove:function(e){var i=this;if(this._isTouchDevice){e.which=1;var n=t.jqx.position(e);e.pageX=n.left,e.pageY=n.top}if(i._mouseMoved)if(t.jqx.browser.msie&&t.jqx.browser.version>11){if(!e.which)return i._mouseUp(e)}else{if(t.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!e.button)return i._mouseUp(e);if(!e.which)return i._mouseUp(e)}return(e.which||e.button)&&(i._mouseMoved=!0),i._mouseStarted?(i._mouseDrag(e),e.preventDefault()):(i._mouseDistanceMet(e)&&i._mouseDelayMet(e)&&(i._mouseStarted=!1!==i._mouseStart(i._mouseDownEvent,e),i._mouseStarted?i._mouseDrag(e):i._mouseUp(e)),!i._mouseStarted)},_mouseUp:function(e){var i=this;try{i.removeHandler(t(document),this._getEvent("mousemove")),i.removeHandler(t(document),this._getEvent("mouseup")),i._mouseStarted&&(i._mouseStarted=!1,e.target===i._mouseDownEvent.target&&t.data(e.target,i.widgetName+".preventClickEvent",!0),i._mouseStop(e)),mouseHandled=!1}catch(t){}return!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.distance},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle"),this._mouseDestroy();for(var t=this.itemsArray.length-1;t>=0;t--)this.itemsArray[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,s=this;return!s.reverting&&(!s.disabled&&"static"!==s.type&&(s._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,s.widgetName+"-item")===s)return n=t(this),!1}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),!!n&&(!(s.handle&&!i&&(t(s.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(s.currentItem=n,s._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var r,s,o=this;if(o.currentContainer=this,o._currentContainer=this,o.refreshPositions(),o.helper=o._utility(e),o._cacheHelperProportions(),o._storeMargins(),o.scrollParent=o.helper.scrollParent(),o.offset=o.currentItem.offset(),o.offset={top:o.offset.top-o.margins.top,left:o.offset.left-o.margins.left},t.extend(o.offset,{click:{left:e.pageX-o.offset.left,top:e.pageY-o.offset.top},parent:o._getParentOffset(),relative:o._getRelativeOffset()}),o.helper.css("position","absolute"),o.cssPosition=o.helper.css("position"),o.originalPosition=o._generatePosition(e),o.originalPageX=e.pageX,o.originalPageY=e.pageY,o.cursorAt&&o._adjustOffsetFromHelper(o.cursorAt),o.domPosition={prev:o.currentItem.prev()[0],parent:o.currentItem.parent()[0]},o.helper[0]!==o.currentItem[0]&&o.currentItem.hide(),o._createPlaceholder(),o.containment&&o._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=o.document.find("body"),o.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),o.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(o.helper.css("opacity")&&(o._storedOpacity=o.helper.css("opacity")),o.helper.css("opacity",o.opacity)),o.zIndex&&(o.helper.css("zIndex")&&(o._storedZIndex=o.helper.css("zIndex")),o.helper.css("zIndex",o.zIndex)),o.scrollParent[0]!==o.document[0]&&"HTML"!==o.scrollParent[0].tagName&&(o.overflowOffset=o.scrollParent.offset()),o._raiseEvent("9",o._uiHash()),o._preserveHelperProportions||o._cacheHelperProportions(),!n)for(r=o.owners.length-1;r>=0;r--)o.owners[r]._raiseEvent("0",o._uiHash(this));return t.jqx.ddmanager&&(t.jqx.ddmanager.current=this),t.jqx.ddmanager&&!o.dropBehaviour&&t.jqx.ddmanager.prepareOffsets(this,e),o.dragging=!0,o.helper.addClass("jqx-sortable-helper"),o._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,s,o=this,a=!1,l=this;for(l.position=l._generatePosition(e),l.positionAbs=l._convertPositionTo("absolute"),l.lastPositionAbs||(l.lastPositionAbs=l.positionAbs),l.scroll&&(l.scrollParent[0]!==l.document[0]&&"HTML"!==l.scrollParent[0].tagName?(l.overflowOffset.top+l.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-l.overflowOffset.top<o.scrollSensitivity&&(l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop-o.scrollSpeed),l.overflowOffset.left+l.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-l.overflowOffset.left<o.scrollSensitivity&&(l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-l.document.scrollTop()<o.scrollSensitivity?a=l.document.scrollTop(l.document.scrollTop()-o.scrollSpeed):l.window.height()-(e.pageY-l.document.scrollTop())<o.scrollSensitivity&&(a=l.document.scrollTop(l.document.scrollTop()+o.scrollSpeed)),e.pageX-l.document.scrollLeft()<o.scrollSensitivity?a=l.document.scrollLeft(l.document.scrollLeft()-o.scrollSpeed):l.window.width()-(e.pageX-l.document.scrollLeft())<o.scrollSensitivity&&(a=l.document.scrollLeft(l.document.scrollLeft()+o.scrollSpeed))),!1!==a&&t.jqx.ddmanager&&!o.dropBehaviour&&t.jqx.ddmanager.prepareOffsets(this,e)),l.positionAbs=l._convertPositionTo("absolute"),l.axis&&"y"===l.axis||(l.helper[0].style.left=l.position.left+"px"),l.axis&&"x"===l.axis||(l.helper[0].style.top=l.position.top+"px"),i=l.itemsArray.length-1;i>=0;i--)if(n=l.itemsArray[i],r=n.item[0],(s=l._intersectsWithPointer(n))&&n.instance===l.currentContainer&&!(r===l.currentItem[0]||l.placeholder[1===s?"next":"prev"]()[0]===r||t.contains(l.placeholder[0],r)||"semi-dynamic"===l.type&&t.contains(l.host[0],r))){if(l.direction=1===s?"down":"up","pointer"!==l.tolerance&&!l._intersectsWithSides(n))break;l._rearrange(e,n),l._raiseEvent("2",l._uiHash());break}return l._contactOwners(e),t.jqx.ddmanager&&t.jqx.ddmanager.drag(this,e),l._raiseEvent("8",l._uiHash()),l.lastPositionAbs=l.positionAbs,!1},_mouseStop:function(e,i){var n=this;if(e){if(t.jqx.ddmanager&&!this.dropBehaviour&&t.jqx.ddmanager.drop(this,e),n.revert){var n=this,r=n.placeholder.offset(),s=n.axis,o={};s&&"x"!==s||(o.left=r.left-n.offset.parent.left-n.margins.left+(n.offsetParent[0]===n.document[0].body?0:n.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=r.top-n.offset.parent.top-n.margins.top+(n.offsetParent[0]===n.document[0].body?0:n.offsetParent[0].scrollTop)),n.reverting=!0,t(this.helper).animate(o,parseInt(this.revert,10)||500,function(){n._clear(e)})}else n._clear(e,i);return!1}},cancelSort:function(){var e=this;if(e.dragging){e._mouseUp({
target:null}),"original"===e.helper?e.currentItem.css(e._storedCSS).removeClass("jqx-sortable-helper"):e.currentItem.show();for(var i=e.owners.length-1;i>=0;i--)e.owners[i]._raiseEvent("3",e._uiHash(this)),e.owners[i].containerCache.over&&(e.owners[i]._raiseEvent("4",e._uiHash(this)),e.owners[i].containerCache.over=0)}return e.placeholder&&(e.placeholder[0].parentNode&&e.placeholder[0].parentNode.removeChild(e.placeholder[0]),"original"!==e.helper&&e.helper&&e.helper[0].parentNode&&e.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),e.domPosition.prev?t(e.domPosition.prev).after(e.currentItem):t(e.domPosition.parent).prepend(e.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.axis||n+h>a&&n+h<l,d="y"===this.axis||e+c>s&&e+c<o,f=u&&d;return"pointer"===this.tolerance||this.forcePointerForowners||"pointer"!==this.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!n&&(this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,s,o,a=[],l=[],h=this._connectWith();if(h&&e)for(n=h.length-1;n>=0;n--)for(s=t(h[n],this.document[0]),r=s.length-1;r>=0;r--)(o=t.data(s[r],this.widgetFullName).instance)&&o!==this&&!o.disabled&&l.push([t.isFunction(o.items)?o.items.call(o.host):t(o.items,o.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),o]);for(l.push([t.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):t(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=t.grep(this.itemsArray,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.itemsArray=[],this.owners=[this];var i,n,r,s,o,a,l,h,c=this.itemsArray,u=[[t.isFunction(this.items)?this.items.call(this.host[0],e,{item:this.currentItem}):t(this.items,this.host),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=t(d[i],this.document[0]),n=r.length-1;n>=0;n--)(s=t.data(r[n],this.widgetName))&&s!==this&&!s.instance.disabled&&(u.push([t.isFunction(s.instance.items)?s.items.call(s.instance.host[0],e,{item:this.currentItem}):t(s.instance.items,s.instance.host),s.instance]),this.owners.push(s.instance));for(i=u.length-1;i>=0;i--)for(o=u[i][1],a=u[i][0],n=0,h=a.length;n<h;n++)l=t(a[n]),l.data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,s;for(i=this.itemsArray.length-1;i>=0;i--)n=this.itemsArray[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.toleranceElement?t(this.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.custom&&this.custom.refreshowners)this.custom.refreshowners.call(this);else for(i=this.owners.length-1;i>=0;i--)s=this.owners[i].host.offset(),this.owners[i].containerCache.left=s.left,this.owners[i].containerCache.top=s.top,this.owners[i].containerCache.width=this.owners[i].host.outerWidth(),this.owners[i].containerCache.height=this.owners[i].host.outerHeight();return this},_cancelSelect:function(){that=this,that.host.addClass("jqx-disableselect")},_createPlaceholder:function(e){e=e||this;var i,n=e;n.placeholderShow&&n.placeholderShow.constructor!==String||(i=n.placeholderShow,n.placeholderShow={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholderShow.element.call(e.host,e.currentItem)),e.currentItem.after(e.placeholder),e.placeholderShow.update(e,e.placeholder)},_contactOwners:function(e){var i,n,r,s,o,a,l,h,c,u,d=null,f=null;for(i=this.owners.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.owners[i].host[0]))if(this._intersectsWith(this.owners[i].containerCache)){if(d&&t.contains(this.owners[i].host[0],d.host[0]))continue;d=this.owners[i],f=i}else this.owners[i].containerCache.over&&(this.owners[i]._raiseEvent("4",this._uiHash(this)),this.owners[i].containerCache.over=0);if(d)if(1===this.owners.length)this.owners[f].containerCache.over||(this.owners[f]._raiseEvent("5",this._uiHash(this)),this.owners[f].containerCache.over=1);else{r=1e4,s=null,c=d.floating||this._isFloating(this.currentItem),o=c?"left":"top",a=c?"width":"height",u=c?"clientX":"clientY";var p=this.itemsArray;for(n=p.length-1;n>=0;n--)t.contains(this.owners[f].host[0],p[n].item[0])&&p[n].item[0]!==this.currentItem[0]&&(l=p[n].item.offset()[o],h=!1,e[u]-l>p[n][a]/2&&(h=!0),Math.abs(e[u]-l)<r&&(r=Math.abs(e[u]-l),s=p[n],this.direction=h?"up":"down"));if(!s&&!this.dropOnEmpty)return;if(this.currentContainer===this.owners[f])return void(this.currentContainer.containerCache.over||(this.owners[f]._raiseEvent("5",this._uiHash()),this.currentContainer.containerCache.over=1));if(this.owners[f].host.children().length+1>this.owners[f].maxItems)return this.currentContainer=this._currentContainer,s=this._rearrange(e,null,this.currentContainer.host,!0),this._currentContainer.containerCache.over=1,void this.placeholderShow.update(this.currentContainer,this.placeholder);s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.owners[f].host,!0),this._raiseEvent("2",this._uiHash()),this.owners[f]._raiseEvent("2",this._uiHash(this)),this.currentContainer=this.owners[f],this.placeholderShow.update(this.currentContainer,this.placeholder),this.owners[f]._raiseEvent("5",this._uiHash(this)),this.owners[f].containerCache.over=1}},_utility:function(e){var i=this,n=t.isFunction(i.helper)?t(i.helper.apply(this.host[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.jqx.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_storeMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this;"parent"===t.containment&&(t.containment=this.helper[0].parentNode),"document"!==t.containment&&"window"!==t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===t.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===t.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this,s=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_clear:function(t,e){function i(t,e,i){return function(n){var r=this._events.indexOf(t);i._raiseEvent(r,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._raiseEvent("6",this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".jqx-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._raiseEvent("11",this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._raiseEvent("7",this._uiHash())}),r.push(function(t){return function(e){t._raiseEvent("6",this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._raiseEvent("11",this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.owners.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.owners[n])),this.owners[n].containerCache.over&&(r.push(i("out",this,this.owners[n])),this.owners[n].containerCache.over=0);return this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._raiseEvent("1",this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),e||this._raiseEvent("10",this._uiHash()),this.fromOutside=!1,!this.cancelHelperRemoval},disable:function(){that=this,that.disabled=!0},enable:function(){that=this,that.disabled=!1},instance:function(){return that=this,that},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.host:null}},_raiseEvent:function(e,i){that=this;var n=t.Event(that._events[e]);return n.args=i,that.host.trigger(n)},propertyChangedHandler:function(t,e,i,n){if(that=this,n!==i)switch(e){case"disabled":that.disabled=n}}})}(jqxBaseFramework),function(t){t.jqx.jqxWidget("jqxKanban","",{}),t.extend(t.jqx._jqxKanban.prototype,{defineInstance:function(){var e={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:!1,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:t.jqx.browser.msie&&8==t.jqx.browser.version,_ie7:t.jqx.browser.msie&&t.jqx.browser.version<8,_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};return this===t.jqx._jqxKanban.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){var e=this;t("#"+e.element.id).empty(),e._createKanban()},_createKanban:function(){var t=this;t._ie8Plugin(),t._kanbanId=t.element.id;var e=function(){t._getParent(),t._createKanbanField(),t._createKanbanLayout(),t._addCSS();var e=function(){t._setKanbanConnections(),t._transformToSortable(),t._addEventHandlers(),t._rtlCheck(),t._refreshEventHandlers(),t._recalculateContainersHeight(),t._handlerExpandCollapse(),t._raiseEvent("0"),t._ready()};t._populateKanban(e)};t._serializeSource(e)},propertyChangedHandler:function(e,i,n,r){return"width"===i?(e.host.width(r-4),e._recalculateContainersHeight(),void e._calculateExpandedColumnsWidth()):"height"===i?void e.host.height(r):(t("#"+e.element.id).empty(),void e._createKanban())},_getParent:function(){var t=this;t._parentsTag=t.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var e=this,i=e.columns.length;if(null==e.width&&null==e.height)"body"==e._parentsTag?(e.width=t(window).innerWidth(),e.height=t(window).innerHeight(),(e._ie7||e._ie8)&&e.host.height(e.height),e.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))):(e.width=e.host.parent().width(),e.height=e.host.parent().height(),e.host.addClass(this.toThemeProperty("jqx-kanban-in-frame")));else if(null!=e.width&&null==e.height){if(e.width<=e.headerWidth*i)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");e.host.width(e.width)}else if(null!=e.heigth&&null==e.width){if(e.height<=e.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");e.host.heigth(e.heigth)}else{if(e.width<=e.headerWidth*i)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");if(e.height<=e.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");e.host.width(e.width),e.host.height(e.height)}e.host.addClass(this.toThemeProperty("jqx-widget"))},_createKanbanLayout:function(){var e=this,i=e.columns.length;e._expandedColumns=i;for(var n=e._calculateColumnDimensions(i),r=e._calculateContainerDimensions(i),s=0;s<i;s++){var o=t("<div id='"+e._kanbanId+"-column-"+s+"' class='jqx-kanban-column' data-column-data-field='"+e.columns[s].dataField+"' style='width:"+n[0]+"; height:"+n[1]+";'></div>");void 0===e.columns[s].maxItems&&(e.columns[s].maxItems=9999),e._columns.push(o),e.host.append(o);var a="jqx-kanban-column-vertical-container",l=e.columns[s].collapseDirection;l||(l="left"),"right"==l&&(a="jqx-kanban-column-vertical-container-inverse")
;var h=e.columns[s].iconClassName?e.toThemeProperty(e.columns[s].iconClassName):"",c=h?"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+h+"'></div></div>":"",u=h?"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+h+"'></div></div>":"",d=t("<div id='"+e._kanbanId+"-column-header-collapsed-"+s+"' data-kanban-column-header-collapsed='"+s+"' class='"+e.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+a+"'><span class='"+e.toThemeProperty("jqx-kanban-column-header-title")+"'>"+e.columns[s].text+"</span><span class='"+e.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+c+"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+e.toThemeProperty("jqx-window-collapse-button "+("right"==l?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>");o.append(d);var f=t("<div id='"+e._kanbanId+"-column-header-"+s+"' data-kanban-column-header='"+s+"' class='"+e.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+e.toThemeProperty("jqx-kanban-column-header-title")+"'>"+e.columns[s].text+"</span><span class='"+e.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+u+"<div class='"+e.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+e.toThemeProperty("jqx-window-collapse-button "+("right"==l?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>");e.rtl&&(f.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl"),f.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")),f.outerHeight(e.headerHeight),f.css("line-height",e.headerHeight+"px"),o.append(f);var p=t("<div id='"+e._kanbanId+"-column-container-"+s+"' data-kanban-column-container='"+e.columns[s].dataField+"' class='jqx-kanban-column-container' style='height:"+r[1]+"; overflow-y: auto;'></div>");if(o.append(p),o.data("kanban-column-collapsed",!1),e.columns[s].headerElement=f,e.columns[s].collapsedHeaderElement=d,e.columnRenderer&&e.columnRenderer(f,d,e.columns[s]),"left"==l){var m=f.find(".jqx-kanban-column-header-title").width();m+=f.find(".jqx-kanban-column-header-status").width(),m-=10,o.find(".jqx-kanban-column-header-title").css("left",-m+"px"),o.find(".jqx-kanban-column-header-status").css("left",-m+"px")}!1===e.columns[s].collapsible&&o.find(".jqx-kanban-column-header-button").hide()}1==i&&e.host.find(".jqx-kanban-column-header-button").hide()},_calculateColumnDimensions:function(e){var i=this,n=[],r=100/e,s=100,o=100;return 0==this.host.height()&&this.host.height(400),0==this.host.width()&&this.host.width(600),i._ie7?(r=this.host.width()/e-(this._columnBorders[1]+this._columnBorders[3]),s=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]),o=s-this.headerHeight,r+="px",s+="px",o+="px"):(o=this.host.height()-t("#"+i._kanbanId+" div.jqx-kanban-column-header").outerHeight(),r+="%",s+="%",o+="px"),n.push(r),n.push(s),n.push(o),n},_calculateContainerDimensions:function(t){var e=this,i=[],n=100,r=100;return e._ie7?(n=this.host.width()/t-20,r=this.host.height()-this.headerHeight,n+="px",r+="px"):(r=this.host.height()-this.headerHeight,n+="%",r+="px"),i.push(n),i.push(r),i},_recalculateContainersHeight:function(){for(var e=this,i=document.getElementById(e._kanbanId+"-column-header-0"),n=0,r=0;r<e.columns.length;r++)if(!e.columns[r].collapsed){n=r,i=e.columns[r].headerElement[0];break}var s=parseInt(getComputedStyle(i).getPropertyValue("margin-top")),o=parseInt(getComputedStyle(i).getPropertyValue("margin-Bottom")),a=document.getElementById(e._kanbanId+"-column-container-"+n),l=parseInt(getComputedStyle(a).getPropertyValue("margin-top")),h=parseInt(getComputedStyle(a).getPropertyValue("margin-Bottom")),c=i.offsetHeight+s+o,u=l+h,d=this.host.height()-c-u;t("#"+e._kanbanId+" div.jqx-kanban-column-container").outerHeight(d)},_addCSS:function(){var e=this;if(t(e.host).addClass(e.toThemeProperty("jqx-kanban")),t("#"+e._kanbanId+" div.jqx-kanban-column").addClass(e.toThemeProperty("jqx-widget-content")),t("#"+e._kanbanId+" div.jqx-kanban-column-header").addClass(e.toThemeProperty("jqx-widget-header")),t("#"+e._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(e.toThemeProperty("jqx-widget-header")),t("#"+e._kanbanId+" div.jqx-kanban-column-container").addClass(e.toThemeProperty("jqx-widget-content")),e._ie8||e._ie7?t("#"+e._kanbanId+"-column-0").addClass(e.toThemeProperty("jqx-kanban-column-first")):(e._columnBorders[0]=t("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2),e._columnBorders[1]=t("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2),e._columnBorders[2]=t("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2),e._columnBorders[3]=t("#"+e._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)),"bottomToTop"==e.verticalTextOrientation){var i=t("#"+e._kanbanId).find(".jqx-kanban-column-vertical-container");i.removeClass("jqx-kanban-column-vertical-container"),i.addClass("jqx-kanban-column-vertical-container-inverse")}},_rtlCheck:function(){var e=this;1==e.rtl&&(t(e.host).addClass(e.toThemeProperty("jqx-kanban-rtl")),t("#"+e._kanbanId+" div.jqx-kanban-column-container").addClass(e.toThemeProperty("jqx-kanban-rtl")),t("#"+e._kanbanId+" div.jqx-kanban-item-keyword").addClass(e.toThemeProperty("jqx-kanban-item-keyword-rtl")))},_serializeSource:function(t){var e=this;e._source=[],e._sourceKeys=[];var i=function(i){if(i){for(var n=0;n<i.length;n++){var r={};r.id=void 0!=i[n].id?i[n].id:e.element.id+"_"+n,r.status=i[n].status||e.templateContent.status,r.text=i[n].text||e.templateContent.text,r.content=i[n].content||e.templateContent.content,r.tags=i[n].tags||e.templateContent.tags,r.color=i[n].color||e.templateContent.color,r.resourceId=i[n].resourceId||e.templateContent.resourceId,r.className=i[n].className||e.templateContent.className,e._source.push(r),e._sourceKeys[r.id]=r}t()}};if(e.source&&e.source.dataBind){var n=e.element.id;if(e.source.unbindBindingUpdate(n),e.source.dataBind(),0==e.source.records.length){var r=function(){i(e.source.records)};e.source.unbindDownloadComplete(n),e.source.bindDownloadComplete(n,r)}else i(e.source.records);return e.source.unbindBindingUpdate(n),void e.source.bindBindingUpdate(n,function(){i(e.source.records)})}i(e.source)},_populateKanban:function(e){var i=this,n=0;null!==i._source&&(n=i._source.length||0),i._resources=new Array;var r=function(r){if(i._resources=r,null!==r&&void 0!==r){i._resourcesLength=r.length;for(var s=0;s<i._resourcesLength;s++)1==r[s].common&&(i._commonItem=r[s])}for(var s=0;s<n;s++){var o=t(i.template);o.data("kanban-item-id",i._source[s].id);for(var a=i._commonItem,l=0;l<i._resourcesLength;l++)r[l].id==i._source[s].resourceId&&(a=r[l]);var h="<img class='jqx-kanban-item-avatar-image' alt='"+a.name+"' title='"+a.name+"' src='"+a.image+"' />";o.addClass(i.toThemeProperty("jqx-rc-all")),o.find(".jqx-kanban-item-avatar").append(h),""!=i.theme&&o.addClass(i.toThemeProperty("jqx-kanban-item"));var c=i.host.find("[data-kanban-column-container='"+i._source[s].status+"']");o.find(".jqx-kanban-item-color-status").css({"background-color":i._source[s].color}),i.rtl&&(o.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl"),o.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")),o.find(".jqx-kanban-item-text").append(i._source[s].text),o.find(".jqx-kanban-item-content").append(i._source[s].content);var u="",d=[];null!==i._source[s].tags&&void 0!==i._source[s].tags&&(d=i._source[s].tags.replace(/\,\s/g,",").split(",")),d.forEach(function(t){u=u+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+t+"</div>"}),u+=i._clearing,o.find(".jqx-kanban-item-footer").append(u),o.append(i._clearing),o.attr("id",i._kanbanId+"_"+i._source[s].id),null!==i._source[s].className&&void 0!==i._source[s].className&&o.addClass(i.toThemeProperty(i._source[s].className)),i.itemRenderer&&i.itemRenderer(o,i._source[s],a),c.append(o),i._items[i._source[s].id]=o}e()};if(i.resources&&i.resources.dataBind){var s=i.element.id;if(i.resources.dataBind(),0==i.resources.records.length){var o=function(){r(i.resources.records)};i.resources.unbindDownloadComplete(s),i.resources.bindDownloadComplete(s,o)}else r(i.resources.records);return i.resources.unbindBindingUpdate(s),void i.resources.bindBindingUpdate(s,function(){r(i.resources.records)})}i._resources=i.resources,r(i.resources),t("#"+i._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){var t=this;null!=t.ready&&"function"==typeof t.ready&&t.ready()},collapseColumn:function(t){for(var e=0;e<this.columns.length;e++)if(this.columns[e].dataField==t)return this._collapseColumn(e),!0;return!1},expandColumn:function(t){for(var e=0;e<this.columns.length;e++)if(this.columns[e].dataField==t)return this._expand(e),!0;return!1},_collapseColumn:function(e){var i=this,n=e||0;t("#"+i._kanbanId+"-column-header-collapsed-"+n).addClass(i.toThemeProperty("jqx-kanban-column-header-collapsed-show")),t("#"+i._kanbanId+"-column-header-"+n).addClass(i.toThemeProperty("jqx-kanban-column-hide")),t("#"+i._kanbanId+"-column-container-"+n).addClass(i.toThemeProperty("jqx-kanban-column-hide")),(i._ie8||i._ie7)&&(t("#"+i._kanbanId+" .jqx-kanban-column-vertical-container").addClass(i.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix")),t("#"+i._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(i.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))),i._columns[n].data("kanban-column-collapsed",!0),i.columns[n].collapsed=!0,i._calculateExpandedColumnsWidth(),i._raiseEvent("7",{column:i.columns[n]})},_expandColumn:function(e){var i=this,n=e||0;t("#"+i._kanbanId+"-column-header-collapsed-"+n).removeClass(i.toThemeProperty("jqx-kanban-column-header-collapsed-show")),t("#"+i._kanbanId+"-column-header-"+n).removeClass(i.toThemeProperty("jqx-kanban-column-hide")),t("#"+i._kanbanId+"-column-container-"+n).removeClass(i.toThemeProperty("jqx-kanban-column-hide")),i.columns[n].collapsed=!1,i._columns[n].data("kanban-column-collapsed",!1),i._calculateExpandedColumnsWidth(),i._raiseEvent("8",{column:i.columns[n]})},_calculateExpandedColumnsWidth:function(){var t=this,e=t._columns.length;t._collapsedColumns=0,t._expandedColumns=0;for(var i=0,n=t.headerWidth,r=0;r<e;r++)1==t._columns[r].data("kanban-column-collapsed")?t._collapsedColumns++:t._expandedColumns++;i=(t.host.width()-t.headerWidth*t._collapsedColumns)/t._expandedColumns;var s=i-(this._columnBorders[1]+this._columnBorders[3]);if(t._ie7&&(i=s,n=t.headerWidth-2),t.width&&t.width.toString().indexOf("%")>=0)for(var o=(t.host.width()+2)/100,a=1/o,l=n*a,r=0;r<e;r++)1==t._columns[r].data("kanban-column-collapsed")?t._columns[r][0].style.width=l+"%":t._columns[r][0].style.width=i*a+"%";else for(var r=0;r<e;r++)1==t._columns[r].data("kanban-column-collapsed")?t._columns[r].outerWidth(n):t._columns[r].outerWidth(i)},_handlerExpandCollapse:function(){var e=this;e.addHandler(t("#"+e._kanbanId+" .jqx-kanban-column-header"),"click",function(i){var n=t(this).parent().index(),r=e.columns[n],s={attribute:"title",column:r,cancelToggle:!1};if(t(i.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)var s={attribute:"button",column:r,cancelToggle:!1};if(e._raiseEvent("10",s),!s.cancelToggle&&e._expandedColumns>1){if(!1===r.collapsible)return;e._collapseColumn(n)}}),e.addHandler(t("#"+e._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(i){var n=t(this).parent().index(),n=t(this).parent().index(),r=e.columns[n],s={attribute:"title",cancelToggle:!1,column:r};if(t(i.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)var s={attribute:"button",cancelToggle:!1,column:r};e._raiseEvent("10",s),s.cancelToggle||e._expandColumn(n)})},_setKanbanConnections:function(){var t=this;if(t._kanbanColumns="#"+t._kanbanId+" div.jqx-kanban-column-container",t._connectWith=t._kanbanColumns,null!=t.connectWith){t.connectWith.replace(/\,\s/g,",").split(",").forEach(function(e){t._connectWith=t._connectWith+", "+e+" div.jqx-kanban-column-container"})}},_transformToSortable:function(){for(var e=this,i=0;i<t(e._kanbanColumns).length;i++)t(t(e._kanbanColumns)[i]).jqxSortable({connectWith:e._connectWith,maxItems:e.columns[i].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:e.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"});t.jqx.utilities.resize(e.host,null,!0),t.jqx.utilities.resize(e.host,function(){for(var i=0;i<t(e._kanbanColumns).length;i++)t(t(e._kanbanColumns)[i]).jqxSortable({containment:"window"})}),null!==e.handle&&(t(e._kanbanColumns).jqxSortable({handle:"."+e.handle}),t("#"+e._kanbanId+" ."+e.handle).addClass("jqx-kanban-handle"))},_calculateItemsPerColumn:function(t){},_calculateRestrictions:function(){},_redrawColumnHeader:function(t,e){},addItem:function(e){var i=this,n=e.id,r=null!=i._source?i._source.length:0;void 0==n&&(n=r);var s=i._kanbanId+"_"+n;i._source=null!=i._source?i._source:[];var o=null;i._css_color_names.indexOf(e.color)>-1?o=e.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e.color)?o=e.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e.color)&&(o="#"+e.color);var a={id:n,status:e.status||i.templateContent.status,text:e.text||i.templateContent.text,content:e.content||i.templateContent.content,tags:e.tags||i.templateContent.tags,color:o||i.templateContent.color,resourceId:e.resourceId||i.templateContent.resourceId,className:e.className||i.templateContent.className},l=this.getColumn(a.status);if(l.maxItems||(l.maxItems=9999),!(l.maxItems<this.getColumnItems(l.dataField).length+1)){for(var h=i._commonItem,c=0;c<i._resources.length;c++)i._resources[c].id==a.resourceId&&(h=i._resources[c]);var u=i.host.find("[data-kanban-column-container='"+a.status+"']"),e=t(i.template);""!=i.theme&&e.addClass(i.toThemeProperty("jqx-kanban-item")),e.find(".jqx-kanban-item-color-status").css({"background-color":a.color});var d="<img class='jqx-kanban-item-avatar-image' alt='"+h.name+"' title='"+h.name+"' src='"+h.image+"' />";e.find(".jqx-kanban-item-avatar").append(d),e.find(".jqx-kanban-item-text").append(a.text),e.find(".jqx-kanban-item-content").append(a.content);var f=a.tags.replace(/\,\s/g,",").split(","),p="";f.forEach(function(t){p=p+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+t+"</div>"}),p+="<div style='clear:both'></div>",e.find(".jqx-kanban-item-footer").append(p),u.append(e),t("#"+i._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),t("#"+i._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),e.attr("id",s),i._source[r]=a,i._sourceKeys[n]=a,e.data("kanban-item-id",r),null!==a.className&&void 0!==a.className&&e.addClass(this.toThemeProperty(a.className)),i.itemRenderer&&i.itemRenderer(e,a,h);var l=this.getColumn(a.status);l&&i.columnRenderer&&(i.columnRenderer(l.headerElement,l.collapsedHeaderElement,l),i._updateColumnTitle(l)),i._raiseEvent("2",{itemId:s}),i._refreshEventHandlers()}},_updateColumnTitle:function(t){if("left"==t.collapseDirection){var e=t.headerElement.find(".jqx-kanban-column-header-title").width();e+=t.headerElement.find(".jqx-kanban-column-header-status").width(),e-=10,t.headerElement.find(".jqx-kanban-column-header-title").css("left",-e+"px"),t.headerElement.find(".jqx-kanban-column-header-status").css("left",-e+"px")}},_selectItem:function(e){var i=this,n=e.data.self;n._selectedItemId=t(i).attr("id"),t("#"+n._kanbanId+" .jqx-kanban-item").removeClass(n.toThemeProperty("jqx-kanban-item-selected")),t(i).addClass(n.toThemeProperty("jqx-kanban-item-selected"));var r=t(this).data().kanbanItemId;n._selectedId=r,n._raiseEvent("1",{item:n._sourceKeys[r]}),n._refreshEventHandlers()},selectItem:function(e){var i=this,n=t("#"+i._kanbanId+"_"+e);0!=n.length&&(t("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected")),t(n).addClass(i.toThemeProperty("jqx-kanban-item-selected")),i._selectedId=e)},_selectColumn:function(e){for(var i,n,r=this,s=e.data.self,o=t(r).attr("data-column-data-field"),a=s.columns.length,l=0;l<a;l++)s.columns[l].dataField==o&&(n=l),s.columns[l].dataField==s._selectedColumn&&(i=l);t("#"+s._kanbanId+" .jqx-kanban-column").removeClass(s.toThemeProperty("jqx-kanban-column-selected")),t(r).addClass(s.toThemeProperty("jqx-kanban-column-selected")),null!=s._selectedColumn&&s._selectedColumn!=o&&s._raiseEvent("6",{column:s._selectedColumn,dataField:i}),s._selectedColumn=o,s._raiseEvent("5",{column:s._selectedColumn,dataField:n})},getSelectedColumn:function(){return this._selectedColumn},_removeSourceIndexById:function(e){var i=this,n=-1;t.each(i._source,function(t,i){if(this&&this.id==e)return n=t,!1}),-1!=n&&i._source.splice(n,1),i._sourceKeys[e]=null,delete i._sourceKeys[e]},removeItem:function(e){var i=this,n="#"+i._kanbanId+"_"+e,r=e.toString().replace(i._kanbanId+"_","");t(n).remove();var s=this.getColumn(i._sourceKeys[e].status);i._items[r]=null,i._removeSourceIndexById(e),i._sourceKeys[e]=null,s&&i.columnRenderer&&(i.columnRenderer(s.headerElement,s.collapsedHeaderElement,s),i._updateColumnTitle(s)),i._selectedItemId=null},updateItem:function(e,i){var n=this,r=t("#"+n._kanbanId+"_"+e);if(0!=r.length){var s=r.data("kanban-item-id"),o=n._sourceKeys[s],a=o.className||"",l=null;n._css_color_names.indexOf(i.color)>-1?l=i.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i.color)?l=i.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(i.color)?l="#"+i.color:i.color&&(l=i.color);var h={id:o.id,status:o.status,text:i.text||o.text,content:i.content||o.content,tags:i.tags||o.tags,color:l||o.color,resourceId:i.resourceId||o.resourceId,className:i.className||o.className};n._source[s]=h,n._sourceKeys[s]=h;for(var c=n._commonItem,u=0;u<n._resources.length;u++)n._resources[u].id==h.resourceId&&(c=n._resources[u]);var d="<img class='jqx-kanban-item-avatar-image' alt='"+c.name+"' title='"+c.name+"' src='"+c.image+"' />";r.find(".jqx-kanban-item-avatar").html(d),r.find(".jqx-kanban-item-color-status").css({"background-color":h.color}),r.find(".jqx-kanban-item-text").html(h.text),r.find(".jqx-kanban-item-content").html(h.content);var f=h.tags.replace(/\,\s/g,",").split(","),p="";f.forEach(function(t){p=p+"<div class='"+n.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+t+"</div>"}),p+="<div style='clear:both'></div>",r.find(".jqx-kanban-item-footer").html(p),null!==h.className&&void 0!==h.className&&(r.removeClass(this.toThemeProperty(a)),r.addClass(this.toThemeProperty(h.className))),n.itemRenderer&&n.itemRenderer(r,h,c);var m=this.getColumn(h.status);m&&n.columnRenderer&&(n.columnRenderer(m.headerElement,m.collapsedHeaderElement,m),n._updateColumnTitle(m))}},getSelectedItem:function(){var t=this;return t._sourceKeys[t._selectedId]},getColumn:function(t){for(var e=0;e<this.columns.length;e++)if(this.columns[e].dataField==t)return this.columns[e];return null},getColumnItems:function(t){for(var e=this,i=[],n=e._source.length,r=0;r<n;r++)null!=e._source[r]&&e._source[r].status==t&&i.push(e._source[r]);return i},getItems:function(){var t=this;return null!==t._source?t._source.filter(function(t){return null!=t}):null},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t.apply(this,[this[e],e,this])}),window.getComputedStyle||(window.getComputedStyle=function(t,e){return this.el=t,this.getPropertyValue=function(e){var i=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),i.test(e)&&(e=e.replace(i,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this})},_addEventHandlers:function(){var e=this;e.addHandler(t(window),"resize.kanban"+e.element.id,function(t){e._recalculateContainersHeight(),e._calculateExpandedColumnsWidth()}),e.addHandler(t(e._kanbanColumns),"start",function(i){e._selectedItemId=i.args.item[0].id,e._draggedItemId=e._selectedItemId,e._draggedItemDataId=t("#"+e._draggedItemId).data().kanbanItemId,e._draggedItemValues=e._sourceKeys[e._draggedItemDataId],e._selectedItemValues=e._draggedItemValues;var n=t("#"+e._draggedItemId).height();t(".jqx-kanban-item-placeholder").height(n)}),e.addHandler(t(e._kanbanColumns),"stop",function(i){for(var n=t("#"+e._draggedItemId).parent().attr("data-kanban-column-container"),r=n,s=null,o=0;o<e.columns.length;o++)if(e.columns[o].dataField==r){s=e.columns[o];break}if(e._sourceKeys[e._draggedItemDataId]){for(var a=null,l=t("#"+e._kanbanId).jqxKanban("columns"),h=e._sourceKeys[e._draggedItemDataId].status,o=0;o<l.length;o++)if(l[o].dataField==h){a=l[o];break}if(e._kanbanId!==e._dropKanbanId){e._raiseEvent("3",{oldParentId:e._kanbanId,newParentId:e._dropKanbanId,itemId:e._selectedId,newColumn:s,oldColumn:a,itemData:e._draggedItemValues});e._source.length;e._draggedItemValues.status=n,t("#"+e._dropKanbanId).trigger("_itemReceived",[e._selectedItemId,e._kanbanId,e._dropKanbanId,e._draggedItemValues,e._selectedId,s,a]),e._sourceKeys[e._draggedItemDataId]=null}else e._raiseEvent("3",{newColumn:s,oldColumn:a,oldParentId:e._kanbanId,newParentId:e._dropKanbanId,itemId:e._selectedId,itemData:e._draggedItemValues}),e._raiseEvent("4",{newColumn:s,oldColumn:a,oldParentId:e._kanbanId,newParentId:e._dropKanbanId,itemId:e._selectedId,itemData:e._draggedItemValues}),e._sourceKeys[e._draggedItemDataId].status=n;if(e.columnRenderer)for(var o=0;o<e.columns.length;o++)e.columns[o].dataField==r&&(e.columnRenderer(e.columns[o].headerElement,e.columns[o].collapsedHeaderElement,e.columns[o]),e._updateColumnTitle(e.columns[o])),e.columns[o].dataField==h&&(e.columnRenderer(e.columns[o].headerElement,e.columns[o].collapsedHeaderElement,e.columns[o]),e._updateColumnTitle(e.columns[o]))}e._draggedItemDataId=null,e._draggedItemId=null,e._draggedItemValues=null}),e.addHandler(t(e._kanbanColumns),"sort",function(i){e._dropKanbanId=t(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")}),e.addHandler(t(e.host),"_itemReceived",function(i,n,r,s,o){e._raiseEvent("4",{itemId:n,oldParentId:r,newParentId:s,itemData:o});var a=t("#"+n),l=t(e.template);""!=e.theme&&l.addClass(e.toThemeProperty("jqx-kanban-item")),l.data("kanban-item-id",o.id);for(var h=e._commonItem,c=0;c<e._resources.length;c++)e._resources[c].id==o.resourceId&&(h=e._resources[c]);var u="<img class='jqx-kanban-item-avatar-image' alt='"+h.name+"' title='"+h.name+"' src='"+h.image+"' />";l.find(".jqx-kanban-item-avatar").append(u),l.find(".jqx-kanban-item-text").append(o.text),l.find(".jqx-kanban-item-color-status").css({"background-color":o.color}),l.find(".jqx-kanban-item-content").append(o.content);var d=o.tags.replace(/\,\s/g,",").split(","),f="";d.forEach(function(t){f=f+"<div class='"+e.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+t+"</div>"}),f+="<div style='clear:both'></div>",l.find(".jqx-kanban-item-footer").append(f),l.attr("id",e._kanbanId+"_"+o.id),a.replaceWith(l),t("#"+s+" div.jqx-kanban-item").addClass(e.toThemeProperty("jqx-widget-content")),null!==o.className&&void 0!==o.className&&l.addClass(e.toThemeProperty(o.className)),t("#"+s+" div.jqx-kanban-item").removeClass(e.toThemeProperty("jqx-kanban-item-selected")),t("#"+n).addClass(e.toThemeProperty("jqx-kanban-item-selected")),t("#"+s).jqxKanban("_refreshEventHandlers"),e._source.push(o);var p=t("#"+s).jqxKanban("getInstance"),m=t("#"+r).jqxKanban("getInstance");if(p._sourceKeys[o.id]=o,m._removeSourceIndexById(o.id),p.columnRenderer)for(var g=0;g<p.columns.length;g++)p.columnRenderer(p.columns[g].headerElement,p.columns[g].collapsedHeaderElement,p.columns[g]);if(m.columnRenderer)for(var g=0;g<m.columns.length;g++)m.columnRenderer(m.columns[g].headerElement,m.columns[g].collapsedHeaderElement,m.columns[g])}),e.addHandler(t("#"+e._kanbanId+" .jqx-kanban-item"),"click",e._selectItem,{self:this}),e.addHandler(t("#"+e._kanbanId+" .jqx-kanban-column"),"click",e._selectColumn,{self:this}),e.addHandler(t(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click",function(){for(var i="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" "),n=t(this).attr("class").split(" "),r=n.length,s=null,o=t(this).parents(".jqx-kanban-item").data().kanbanItemId,a={attribute:null,item:e._sourceKeys[o],itemId:o},l=0;l<r;l++)i.indexOf(n[l])>-1&&(s=n[l]);switch(s){case"jqx-kanban-item-color-status":a.attribute="colorStatus";break;case"jqx-kanban-item-avatar":a.attribute="avatar";break;case"jqx-kanban-item-text":a.attribute="text";break;case"jqx-kanban-item-content":a.attribute="content";break;case"jqx-kanban-item-keyword":a.attribute="keyword";break;case"jqx-kanban-item-template-content":a.attribute="template"}e._raiseEvent("9",a)})},destroy:function(){var e=this;t.jqx.utilities.resize(e.host,null,!0),e._removeEventHandlers(),e.host.remove()},_removeEventHandlers:function(){var e=this;e.removeHandler(t(window),"resize.kanban"+e.element.id),e.removeHandler(t(e._kanbanColumns),"start"),e.removeHandler(t(e._kanbanColumns),"stop"),e.removeHandler(t(e._kanbanColumns),"sort"),e.removeHandler(t(e.host),"_itemReceived"),e.removeHandler(t("#"+e._kanbanId+" .jqx-kanban-item"),"click"),e.removeHandler(t("#"+e._kanbanId+" .jqx-kanban-column"),"click"),e.removeHandler(t(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){var t=this;t._removeEventHandlers(),t._addEventHandlers()},_raiseEvent:function(e,i){that=this;var n=t.Event(that._events[e]);return n.args=i,that.host.trigger(n)},_getEvent:function(t){return that=this,that._isTouchDevice?that._touchEvents[t]:t}})}(jqxBaseFramework),function(t){function e(e){return function(i,n){"string"!=typeof i&&(n=i,i="*");var r,s,o,a=i.toLowerCase().split(y),l=0,h=a.length;if(t.isFunction(n))for(;l<h;l++)r=a[l],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),s=e[r]=e[r]||[],s[o?"unshift":"push"](n)}}function i(t,e,n,r,s,o){s=s||e.dataTypes[0],o=o||{},o[s]=!0;for(var a,l=t[s],h=0,c=l?l.length:0,u=t===b;h<c&&(u||!a);h++)"string"==typeof(a=l[h](e,n,r))&&(!u||o[a]?a=void 0:(e.dataTypes.unshift(a),a=i(t,e,n,r,a,o)));return!u&&a||o["*"]||(a=i(t,e,n,r,"*",o)),a}function n(e,i){var n,r,s=t.jqx.data.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((s[n]?e:r||(r={}))[n]=i[n]);r&&t.extend(!0,e,r)}function r(t,e,i){var n,r,s,o,a=t.contents,l=t.dataTypes,h=t.responseFields;for(r in h)r in i&&(e[h[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("content-type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}function s(t,e){var i,n,r,s,o=t.dataTypes.slice(),a=o[0],l={},h=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),o[1])for(i in t.converters)l[i.toLowerCase()]=t.converters[i];for(;r=o[++h];)if("*"!==r){if("*"!==a&&a!==r){if(!(i=l[a+" "+r]||l["* "+r]))for(n in l)if(s=n.split(" "),s[1]===r&&(i=l[a+" "+s[0]]||l["* "+s[0]])){!0===i?i=l[n]:!0!==l[n]&&(r=s[0],o.splice(h--,0,r));break}if(!0!==i)if(i&&t.throws)e=i(e);else try{e=i(e)}catch(t){return{state:"parsererror",error:i?t:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:e}}function o(){try{return new window.XMLHttpRequest}catch(t){}}function a(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}t.jqx.observableArray=function(e,i){if("string"==typeof e&&(e=t.parseJSON(e)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()){var n=Object.defineProperty;Object.defineProperty=function(t,e,i){if(n)try{return n(t,e,i)}catch(t){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(t,e,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(t,e,i.set),"value"in i?t[e]=i.value:t[e]||(t[e]=i),t}}Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var n,r=arguments[1];for(n=0;n<i;n++)n in e&&t.call(r,e[n],n,e)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(t){if(t!==Object(t))throw TypeError("Object.getOwnPropertyNames called on non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i});var r,s=this,o=[];s.notifier=null,s.name="observableArray",s.observing=!0,s.changes=new Array;var i=i;return s.observe=function(){s.observing=!0,1==arguments.length&&(i=arguments[0])},s.unobserve=function(){s.observing=!1},s.toArray=function(){return o.slice(0)},s.toJSON=function(t,e){function i(t){return'"'+t.replace(d,function(t){var e=f[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"'}function n(t){return t<10?"0"+t:t}function r(t){return isFinite(t.valueOf())?t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+'Z"':"null"}function s(t){var e,i=t.length,n=[];for(e=0;e<i;e++)n.push(c(e,t)||"null");return"["+n.join(",")+"]"}function a(e){var n,r,s=[];for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(""!=n&&t&&-1===t.indexOf(n))continue;r=c(n,e),r&&s.push(i(n)+":"+r)}return"{"+s.join(",")+"}"}function l(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return r(t);case"[object Array]":return s(t)}return a(t)}function h(t,e){switch(e){case"string":return i(t);case"number":case"float":case"integer":case"int":return isFinite(t)?t:"null";case"boolean":return t}return"null"}function c(t,e){var i=e[t],n=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(t),n=typeof i),/(number|float|int|integer|string|boolean)/.test(n)||!i&&"object"===n?h(i,n):l(i)}var u=o;e&&(u=e);var d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!t&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(u):c("",{"":u})},s.defineIndexProperty=function(e){if(!(e in s)){var i=function(e,i,n,a){var l=e[i],h=l,c=function(){return h},u=function(e){if(l=e,h!==l){var n=h;if(h=l,"function"==typeof r){var c=o.indexOf(a),u="",d=function(e,n){Object.getOwnPropertyNames(e).forEach(function(r){var s=t.type(e[r]);"array"==s||"object"==s?d(e[r],n+"."+r):i===r&&(u=n+"."+r)})};d(a,c),r({object:s,type:"update",path:u,index:c,name:i,newValue:l,oldValue:n})}}return h=l,l};void 0!=e[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(e,i,{get:c,set:u}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(e,i,c),Object.prototype.__defineSetter__.call(e,i,u)))},n=function(e,r,s){
/(number|float|int|integer|string|boolean)/.test(t.type(e))||void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(o){var a=t.type(e[o]);"array"==a||"object"==a?(i(e,o,0,s),n(e[o],r+"."+o,s)):i(e,o,0,s)})};Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){return o[e]},set:function(t){var i=o[e];s.toJSON(null,i)!=s.toJSON(null,t)&&(o[e]=t,"function"==typeof r&&r({object:s,type:"update",path:e.toString(),index:e,name:"index",newValue:t,oldValue:i}),n(t,e,t))}}),n(s[e],e,s[e])}},s.push=function(){for(var t,e=0,i=arguments.length;e<i;e++)t=o.length,o.push(arguments[e]),s.defineIndexProperty(t),"function"==typeof r&&r({object:s,type:"add",name:"length",index:t,newValue:o.length,oldValue:t});return o.length},s.pop=function(){if(~o.length){var t=o.length-1,e=o.pop();return delete s[t],"function"==typeof r&&r({object:s,type:"delete",name:"length",index:t,newValue:o.length,oldValue:t}),e}},s.unshift=function(){for(var t=o.length,e=0,i=arguments.length;e<i;e++)o.splice(e,0,arguments[e]),s.defineIndexProperty(o.length-1);return"function"==typeof r&&r({object:s,type:"add",index:0,name:"length",newValue:o.length,oldValue:t}),o.length},s.shift=function(){var t=o.length;if(~o.length){var e=o.shift();return 0===o.length&&delete s[t],"function"==typeof r&&r({object:s,type:"delete",index:t,name:"length",newValue:o.length,oldValue:t}),e}},s.slice=function(e,i,n){var r=o.slice(e,i);return new t.jqx.observableArray(r,n)},s.splice=function(e,i,n){var a,l=[];for(e=~e?e:o.length-e,i=(null==i?o.length-e:i)||0;i--;)a=o.splice(e,1)[0],l.push(a),delete s[o.length],"function"==typeof r&&r({object:s,type:"delete",index:e,name:"length",newValue:-1,oldValue:e});for(var h=2,c=arguments.length;h<c;h++)o.splice(e,0,arguments[h]),defineIndexProperty(o.length-1),"function"==typeof r&&r({object:s,type:"add",index:e,name:"length",newValue:o.length-1,oldValue:e}),e++;return new t.jqx.observableArray(l,n)},Object.defineProperty(s,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(t){var e=Number(t);if(!(e%1==0&&e>=0))throw new RangeError("Invalid array length");return e<o.length?s.splice(e):e>o.length&&s.push.apply(s,new Array(e-o.length)),t}}),t.jqx.observableArray.prototype.fromArray=function(e,i){return new t.jqx.observableArray(e,i)},t.jqx.observableArray.prototype.clone=function(){var e=new t.jqx.observableArray(o,i);return e.observing=s.observing,e.changes=s.changes,e.notifier=s.notifier,e},s.remove=function(t){if(t<0||t>=s.length)throw new Error("Invalid index : "+t);if(s.hasOwnProperty(t)){var e=s[t];return s[t]=void 0,o[t]=void 0,"function"==typeof r&&r({object:s,type:"delete",index:t,name:"index",newValue:void 0,oldValue:e}),!0}return!1},s.concat=function(e,i){var n=o.concat(e);return new t.jqx.observableArray(n,i)},Object.getOwnPropertyNames(Array.prototype).forEach(function(t){if(!(t in s)){var e=function(){var e=s.observing;s.observing=!1;var i=o[t],n=i.apply(o,arguments);return s.observing=e,n};Object.defineProperty(s,t,{configurable:!1,enumerable:!0,writeable:!1,value:e})}}),s.set=function(e,i){if("string"==t.type(e)&&e.split(".").length>1){for(var n=e.split("."),r=s,o=0;o<n.length;o++){if(0===o&&n[o]>=s.length)throw new Error("Invalid Index: "+e);o<n.length-1?r=r[n[o]]:r[n[o]]=i}return!0}return e>=s.length?s.push(i):s[e]=i,!0},s.get=function(t){return s[t]},e instanceof Array&&s.push.apply(s,e),r=function(){s.observing&&(arguments&&arguments[0]&&s.changes.push(arguments[0]),i&&i.apply(s,arguments),s.notifier&&s.notifier.apply(s,arguments))},s},t.jqx.formatDate=function(e,i,n){return t.jqx.dataFormat.formatdate(e,i,n)},t.jqx.formatNumber=function(e,i,n){return t.jqx.dataFormat.formatnumber(e,i,n)},t.jqx.dataAdapter=function(e,i){if(void 0!=e&&(void 0!==e.dataFields&&(e.datafields=e.dataFields),void 0!==e.dataType&&(e.datatype=e.dataType),void 0!==e.localData&&(e.localdata=e.localData),void 0!==e.sortColumn&&(e.sortcolumn=e.sortColumn),void 0!==e.sortDirection&&(e.sortdirection=e.sortDirection),void 0!==e.sortOrder&&(e.sortdirection=e.sortOrder),void 0!==e.formatData&&(e.formatdata=e.formatData),void 0!==e.processData&&(e.processdata=e.processData),void 0!==e.pageSize&&(e.pagesize=e.pageSize),void 0!==e.pageNum&&(e.pagenum=e.pageNum),void 0!==e.updateRow&&(e.updaterow=e.updateRow),void 0!==e.addRow&&(e.addrow=e.addRow),void 0!==e.deleteRow&&(e.deleterow=e.deleteRow),void 0!==e.contentType&&(e.contenttype=e.contentType),void 0!=e.totalRecords&&(e.totalrecords=e.totalRecords),void 0!=e.loadError&&(e.loadError=e.loadError),void 0!=e.sortComparer&&(e.sortcomparer=e.sortComparer)),this._source=e,this._options=i||{},void 0!=e.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=e.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=e.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=e.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=e.formatData&&(this._options.formatData=this._source.formatData),void 0!=e.loadError&&(this._options.loadError=this._source.loadError),void 0!=e.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=e.contentType&&(this._options.contentType=this._source.contentType),void 0!=e.async&&(this._options.async=this._source.async),void 0!=e.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=e.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=e&&null!=e.localdata&&"function"==typeof e.localdata){var n=e.localdata();if(null!=n){e._localdata=e.localdata;var r=this;e._localdata.subscribe&&(r._oldlocaldata=[],e._localdata.subscribe(function(e){var i=function(e){return t.isArray(e)?t.makeArray(i(t(e))):t.extend(!0,{},e)};0!=r.suspendKO&&void 0!=r.suspendKO&&0!=r._oldlocaldata.length||(r._oldlocaldata=i(e))},e._localdata,"beforeChange"),e._localdata.subscribe(function(t){if(0==r.suspendKO||void 0==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(e.localdata=e._localdata()),0==r._oldlocaldata.length?i="change":t&&(r._oldlocaldata.length==t.length&&(i="update"),r._oldlocaldata.length>t.length&&(i="remove"),r._oldlocaldata.length<t.length&&(i="add")),r.dataBind(null,i)}},e._localdata,"change"),r._knockoutdatasource=!0),e.localdata=n}}1==this._options.autoBind&&this.dataBind()},t.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(t){this.isUpdating=!1,0!=t&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(e,i,n){return t.jqx.dataFormat.formatdate(e,i,n)},formatNumber:function(e,i,n){return t.jqx.dataFormat.formatnumber(e,i,n)},dataBind:function(e,i){if(1!=this.isUpdating){var n=this._source;if(n){n.generatedfields&&(n.datafields=null,n.generatedfields=null),t.jqx.dataFormat.datescache=new Array,null!=n.dataFields&&(n.datafields=n.dataFields),void 0==n.recordstartindex&&(n.recordstartindex=0),void 0==n.recordendindex&&(n.recordendindex=0),void 0==n.loadallrecords&&(n.loadallrecords=!0),void 0==n.root&&(n.root=""),void 0==n.record&&(n.record=""),void 0!=n.sort&&(this.sort=n.sort),void 0!=n.filter?this.filter=n.filter:this.filter=null,void 0!=n.sortcolumn&&(this.sortcolumn=n.sortcolumn),void 0!=n.sortdirection&&(this.sortdirection=n.sortdirection),void 0!=n.sortcomparer&&(this.sortcomparer=n.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=void 0!=r.virtualmode&&r.virtualmode,this.totalrecords=void 0!=r.totalrecords?r.totalrecords:0,this.pageable=void 0!=r.pageable&&r.pageable,this.pagesize=void 0!=r.pagesize?r.pagesize:0,this.pagenum=void 0!=r.pagenum?r.pagenum:0,this.cachedrecords=void 0!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=r.updaterow?r.updaterow:null,this.addrow=void 0!=r.addrow?r.addrow:null,this.deleterow=void 0!=r.deleterow?r.deleterow:null,this.cache=void 0!=r.cache&&r.cache,this.unboundmode=!1,void 0!=n.formatdata&&(r.formatData=n.formatdata),void 0!=n.data&&(void 0==r.data&&(r.data={}),t.extend(r.data,n.data)),void 0!=n.mapChar&&(n.mapchar=n.maxChar),void 0!=n.mapchar?this.mapChar=n.mapchar?n.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||n.unboundmode)&&(this.unboundmode=r.unboundmode||n.unboundmode),void 0!=n.cache&&(this.cache=n.cache),this.koSubscriptions)for(var s=0;s<this.koSubscriptions.length;s++)this.koSubscriptions[s].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,a=n.datatype;"csv"!==n.datatype&&"tab"!==n.datatype&&"tsv"!==n.datatype&&"text"!=n.datatype||(a="text");var l=void 0==r.async||r.async;switch(void 0!=n.async&&(l=n.async),a){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==n.localdata&&n.length){n.localdata=new Array;for(var h=0;h<n.length;h++)n.localdata[n.localdata.length]=n[h],n[h].uid=h}n.beforeprocessing&&t.isFunction(n.beforeprocessing)&&n.beforeprocessing(n.localdata);var c=n.localdata.length;if(this.totalrecords=this.virtualmode?n.totalrecords||c:c,this.unboundmode){this.totalrecords=this.unboundmode?n.totalrecords||c:c;var u=n.datafields?n.datafields.length:0;if(u>0)for(var h=0;h<this.totalrecords;h++){for(var d={},f=0;f<u;f++)d[n.datafields[f].name]="";d.uid=h,n.localdata[n.localdata.length]=d}}void 0==this.totalrecords&&(this.totalrecords=0);var u=n.datafields?n.datafields.length:0,p=function(e,i){for(var r={},s=0;s<i;s++){var a=n.datafields?n.datafields[s]:{},l="";if(void 0!=a&&null!=a){if(a.map){if(t.isFunction(a.map))l=a.map(e);else{var h=a.map.split(o.mapChar);if(h.length>0){for(var c=e,u=0;u<h.length;u++)c&&(c=c[h[u]]);l=c}else l=e[a.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}var d=!1;""==l&&(d=!0,void 0!=(l=e[a.name])&&null!=l&&(n._localdata&&l.subscribe?l=l():"array"!=a.type&&("date"===a.type?l&&l instanceof Date&&(l=l):l=l.toString()))),"[object Object]"==l&&a.map&&d&&(l=""),l=o.getvaluebytype(l,a),void 0!=a.displayname?r[a.displayname]=l:r[a.name]=l}}return r};if(n._localdata){this._changedrecords=[],this.records=new Array;var m=n._localdata();if(t.each(m,function(e,r){if("string"==typeof r)o.records.push(r);else{var s={},a=0,l=this;t.each(this,function(i,r){var h=null,c="string",d=i;if(u>0){for(var f=!1,p=!1,m=0;m<u;m++){var g=n.datafields[m];if(void 0!=g&&g.name==i){f=!0,h=g.map,c=g.type,d=g.name;break}if(void 0!=g&&g.map&&g.map.indexOf(i)>=0){f=!0,h=g.map,c=g.type,d=g.name,p=!0;var v=l[i];if(null!=h){var y=h.split(o.mapChar);if(y.length>0){for(var b=l,w=0;w<y.length;w++)b=b[y[w]];v=b}else v=l[h]}"string"!=c&&(v=o.getvaluebytype(v,{type:c})),s[d]=v,void 0!=s[d]&&(a+=s[d].toString().length+s[d].toString().substr(0,1))}}if(!f)return!0;if(p)return!0}if(t.isFunction(l[i])){var v=l[i]();if("string"!=c&&(v=o.getvaluebytype(v,{type:c})),s[i]=v,l[i].subscribe){var x=e;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe(function(t){var e=x;s[i]=t;var n={index:e,oldrecord:s,record:s};if(o._changedrecords.push(n),!o.isUpdating)return o.callBindingUpdate("update"),o._changedrecords=[],!1})}}else{var v=l[i];if(null!=h){var y=h.split(o.mapChar);if(y.length>0){for(var b=l,w=0;w<y.length;w++)b=b[y[w]];v=b}else v=l[h]}"string"!=c&&(v=o.getvaluebytype(v,{type:c})),s[d]=v,void 0!=s[d]&&(a+=s[d].toString().length+s[d].toString().substr(0,1))}});var h=o.getid(n.id,l,e);if(s.uid=h,o.records.push(s),s._koindex=a,o._oldrecords){var c=o.records.length-1;if("update"==i&&o._oldrecords[c]._koindex!=a){var d={index:c,oldrecord:o._oldrecords[c],record:s};o._changedrecords.push(d)}}}}),"add"==i)for(var c=o.records.length,h=0;h<c;h++){for(var d=o.records[h],g=!1,v=0;v<o._oldrecords.length;v++)if(o._oldrecords[v]._koindex===d._koindex){g=!0;break}g||o._changedrecords.push({index:h,oldrecord:null,record:d,position:0!=h?"last":"first"})}else if("remove"==i)for(var c=o._oldrecords.length,h=0;h<c;h++){var y=o._oldrecords[h];o.records[h]?o.records[h]._koindex!=y._koindex&&o._changedrecords.push({index:h,oldrecord:y,record:null}):o._changedrecords.push({index:h,oldrecord:y,record:null})}}else if(t.isArray(n.localdata))if(0==u){var b=0,w=new Array;t.each(n.localdata,function(e,i){var r=new Object(this);if("string"==typeof i)return o.records=n.localdata,!1;var s=o.getid(n.id,r,e);if("object"==typeof s&&(s=e),r.uid=s,0==e){for(var a in this){b++;var l=t.type(this[a]);w.push({name:a,type:l})}u=b,n.datafields=w,n.generatedfields=w}if(u>0){var h=p(r,u);h.uid=s,o.records[o.records.length]=h}else o.records[o.records.length]=r})}else t.each(n.localdata,function(t){var e=this,i=p(e,u),r=o.getid(n.id,i,t);"object"==typeof r&&(r=t);var e=new Object(i);e.uid=r,o.records[o.records.length]=e});else{this.records=new Array;var b=0,w=new Array;t.each(n.localdata,function(e){var i=o.getid(n.id,this,e);if(0==u&&!("string"==typeof this||this instanceof String)){for(var r in this){b++;var s=t.type(this[r]);w.push({name:r,type:s})}u=b,n.datafields=w,n.generatedfields=w}if(u>0){var a=this,l=p(a,u);l.uid=i,o.records[o.records.length]=l}else this.uid=i,o.records[o.records.length]=this})}if(this.originaldata=n.localdata,this.cachedrecords=this.records,this.addForeignValues(n),r.uniqueDataFields){var x=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=x,this.cachedrecords=x}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(o.records,this.originaldata);void 0!=_&&(o.records=_,o.cachedrecords=_)}if(r.autoSort&&r.autoSortField){var C=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},o.records.sort(function(e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),null===e&&null===i)return 0;if(null===e&&null!==i)return 1;if(null!==e&&null===i)return-1;if(e=e.toString(),i=i.toString(),null===e&&null===i)return 0;if(null===e&&null!==i)return 1;if(null!==e&&null===i)return-1;if(t.jqx.dataFormat.isNumber(e)&&t.jqx.dataFormat.isNumber(i))return e<i?-1:e>i?1:0;if(t.jqx.dataFormat.isDate(e)&&t.jqx.dataFormat.isDate(i))return e<i?-1:e>i?1:0;t.jqx.dataFormat.isNumber(e)||t.jqx.dataFormat.isNumber(i)||(e=String(e).toLowerCase(),i=String(i).toLowerCase());try{if(e<i)return-1;if(e>i)return 1}catch(t){}return 0}),Object.prototype.toString=C}o.loadedData=n.localdata,o.buildHierarchy(),t.isFunction(r.loadComplete)&&r.loadComplete(n.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=n.localdata&&!n.url){if(t.isFunction(n.beforeprocessing)&&n.beforeprocessing(n.localdata),"xml"===n.datatype?o.loadxml(n.localdata,n.localdata,n):"text"===a?o.loadtext(n.localdata,n):"ics"===a?o.loadics(n.localdata,n):o.loadjson(n.localdata,n.localdata,n),o.addForeignValues(n),r.uniqueDataFields){var x=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=x,o.cachedrecords=x}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(o.records,this.originaldata);void 0!=_&&(o.records=_,o.cachedrecords=_)}return o.loadedData=n.localdata,o.buildHierarchy.call(o),t.isFunction(r.loadComplete)&&r.loadComplete(n.localdata,o.records),void o.callBindingUpdate(i)}var k=void 0!=r.data?r.data:{};if(n.processdata&&n.processdata(k),t.isFunction(r.processData)&&r.processData(k),t.isFunction(r.formatData)){var S=r.formatData(k);void 0!=S&&(k=S)}var T="application/x-www-form-urlencoded";r.contentType&&(T=r.contentType);var A="GET";n.type&&(A=n.type),r.type&&(A=r.type);var D=a;if("ics"==a&&(D="text"),n.url&&n.url.length>0)t.isFunction(r.loadServerData)?o._requestData(k,n,r):this.xhr=t.jqx.data.ajax({dataType:D,cache:this.cache,type:A,url:n.url,async:l,timeout:n.timeout,contentType:T,data:k,success:function(e,i,s){if(t.isFunction(n.beforeprocessing)){var l=n.beforeprocessing(e,i,s);void 0!=l&&(e=l)}if(t.isFunction(r.downloadComplete)){var l=r.downloadComplete(e,i,s);void 0!=l&&(e=l)}if(null==e)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(t.isFunction(r.loadComplete)&&r.loadComplete(new Array));var h=e;if(e.records&&(h=e.records),void 0!=e.totalrecords?n.totalrecords=e.totalrecords:void 0!=e.totalRecords&&(n.totalrecords=e.totalRecords),"xml"===n.datatype?o.loadxml(null,h,n):"text"===a?o.loadtext(h,n):"ics"===a?o.loadics(h,n):o.loadjson(null,h,n),o.addForeignValues(n),r.uniqueDataFields){var c=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=c,o.cachedrecords=c}if(r.beforeLoadComplete){var u=r.beforeLoadComplete(o.records,e);void 0!=u&&(o.records=u,o.cachedrecords=u)}o.loadedData=e,o.buildHierarchy.call(o),o.callDownloadComplete(),t.isFunction(r.loadComplete)&&r.loadComplete(e,i,s,o.records)},error:function(e,i,s){t.isFunction(n.loaderror)&&n.loaderror(e,i,s),t.isFunction(r.loadError)&&r.loadError(e,i,s),e=null,o.callDownloadComplete()},beforeSend:function(e,i){t.isFunction(r.beforeSend)&&r.beforeSend(e,i),t.isFunction(n.beforesend)&&n.beforesend(e,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),t.isFunction(r.loadComplete)){if(!E)var E={};r.loadComplete(E)}}this.callBindingUpdate(i)}}},buildHierarchy:function(t){var e=this._source,i=new Array;if(e.datafields){if(e.hierarchy&&!e.hierarchy.reservedNames)e.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(e.hierarchy){var n=e.hierarchy.reservedNames;n.leaf||(n.leaf="leaf"),n.parent||(n.parent="parent"),n.expanded||(n.expanded="expanded"),n.checked||(n.checked="checked"),n.selected||(n.selected="selected"),n.level||(n.level="level"),n.data||(n.data="data")}if(e.hierarchy){var r=this,n=e.hierarchy.reservedNames;if(e.hierarchy.root){if("xml"==e.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,t);return this.hierarchy=i,i}this.hierarchy=this.records;for(var s=e.hierarchy.root,o=0;o<this.records.length;o++){var a=this.records[o];if(a){var l=function(t){if(e.hierarchy.record)t.records=t[s][e.hierarchy.record];else{var i=s.split(r.mapChar),o=null;if(i.length>1){for(var a=t,l=0;l<i.length;l++)void 0!=a&&(a=a[i[l]]);o=a}else o=t[s];t.records=o}(null==t.records||t.records&&0==t.records.length)&&(t[n.leaf]=!0)};l(a),a[n.level]=0;var h=this.getid(e.id,a,o);a.uid=h,a[n.parent]=null,a[n.data]=a,void 0===a[n.expanded]&&(a[n.expanded]=!1);var c=function(t,i){if(!i)return void(t.records=new Array);for(var s=0;s<i.length;s++){var o=i[s];if(o){l(o),o[n.level]=t[n.level]+1,o[n.parent]=t,o[n.data]=o;var a=r.getid(e.id,o,s);a==s&&null==e.id?o.uid=t.uid+"_"+a:o.uid=a,void 0===o[n.expanded]&&(o[n.expanded]=!1),c(o,o.records)}}};c(a,a.records)}}return this.hierarchy}if(e.hierarchy.keyDataField&&e.hierarchy.parentDataField){var i=this.getRecordsHierarchy(e.hierarchy.keyDataField.name,e.hierarchy.parentDataField.name,"records",null,t);return this.hierarchy=i,i}if(e.hierarchy.groupingDataFields){for(var u=new Array,o=0;o<e.hierarchy.groupingDataFields.length;o++)u.push(e.hierarchy.groupingDataFields[o].name);var i=this.getGroupedRecords(u,"records","label",null,"data",null,"parent",t);return this.hierarchy=i,i}}}},addRecord:function(t,e,i,n){var r=this,s=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=t){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||n)){var o=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==o&&(o=s()),t[o.level]=0,"last"==e?this.hierarchy.push(t):"number"==typeof e&&isFinite(e)?this.hierarchy.splice(e,0,t):this.hierarchy.splice(0,0,t)}else"last"==e?this.records.push(t):"number"==typeof e&&isFinite(e)?this.records.splice(e,0,t):this.records.splice(0,0,t);return!0}if(this.hierarchy.length>0){var a=function(n){if(n)for(var o=0;o<n.length;o++){var l=n[o];if(l.uid==i){var h=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==h&&(h=s()),t[h.parent]=l,t[h.level]=l[h.level]+1,l.records?l[h.leaf]=!1:(l.records=new Array,l[h.leaf]=!1),"last"==e?l.records.push(t):"number"==typeof e&&isFinite(e)?l.records.splice(e,0,t):l.records.splice(0,0,t),!0}l.records&&a(l.records)}};a(this.hierarchy)}}return!1},deleteRecord:function(t){var e=this;if(this.hierarchy.length>0){var i=function(n){if(n)for(var r=0;r<n.length;r++){var s=n[r];if(s.uid==t){n.splice(r,1),e.recordids[t]&&delete e.recordids[t];var o=function(t){for(var i=0;i<t.length;i++){for(var n=t[i].uid,r=0;r<e.records.length;r++){if(e.records[r].uid==n){e.records.splice(r,1);break}}t[i].records&&o(t[i].records)}};s.records&&o(s.records);for(var a=0;a<e.records.length;a++){var s=e.records[a];if(s.uid==t){e.records.splice(a,1);break}}return!0}s.records&&i(s.records)}};i(this.hierarchy)}else for(var n=0;n<this.records.length;n++){var r=this.records[n];if(r.uid==t)return this.records.splice(n,1),!0}return!1},addForeignValues:function(t){for(var e=this,i=t.datafields?t.datafields.length:0,n=0;n<i;n++){var r=t.datafields[n];if(void 0!=r)if(void 0!=r.values){void 0==r.value&&(r.value=r.name),void 0==r.values.value&&(r.values.value=r.value);var s,o,a=new Array;e.pageable&&e.virtualmode?(s=e.pagenum*e.pagesize,(o=s+e.pagesize)>e.totalrecords&&(o=e.totalrecords)):e.virtualmode?(s=t.recordstartindex,(o=t.recordendindex)>e.totalrecords&&(o=e.totalrecords)):(s=0,o=e.records.length);for(var l=s;l<o;l++){var h=e.records[l],c=r.name,u=h[r.value];if(void 0!=a[u])h[c]=a[u];else for(var d=0;d<r.values.source.length;d++){var f=r.values.source[d],p=f[r.values.value];if(void 0==p&&(p=f.uid),p==u){var m=f[r.values.name];h[c]=m,a[u]=m;break}}}}else if(void 0!=r.value)for(var l=0;l<e.records.length;l++){var h=e.records[l];h[r.name]=h[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(e,i,n){var r=this,s=function(e){if(e.totalrecords&&(i.totalrecords=e.totalrecords,r.totalrecords=e.totalrecords),e.records&&(r.records=e.records,r.cachedrecords=e.records),r.addForeignValues(i),n.uniqueDataFields){var s=r.getUniqueRecords(r.records,n.uniqueDataFields);r.records=s,r.cachedrecords=s}if(n.beforeLoadComplete){var o=n.beforeLoadComplete(r.records,data);void 0!=o&&(r.records=o,r.cachedrecords=o)}for(var a=0;a<r.records.length;a++){var l=r.records[a];void 0!=l&&(void 0==l.uid&&(l.uid=r.getid(i.id,l,a)))}r.buildHierarchy.call(r),t.isFunction(n.loadComplete)&&n.loadComplete(e),r.callDownloadComplete()};n.loadServerData(e,i,s)},getUniqueRecords:function(t,e){if(t&&e)for(var i=t.length,n=e.length,r=new Array,s=new Array,o=0;o<i;o++){var a=t[o],l="";if(void 0!=a){for(var h=0;h<n;h++){var c=e[h];l+=a[c]+"_"}s[l]||(r[r.length]=a),s[l]=!0}}return r},getAggregatedData:function(e,i,n,r){var s=n;s||(s=this.records);var o={},a=new Array,l=s.length;if(0!=l&&void 0!=l){for(var h=0;h<l;h++)for(var c=s[h],u=0;u<e.length;u++){var d=e[u],f=c[d.name];if(d.aggregates){o[d.name]=o[d.name]||{},a[d.name]=a[d.name]||0,a[d.name]++;var p=function(e){for(obj in e){var i=o[d.name][obj];null==i&&(o[d.name][obj]=0,i=0),t.isFunction(e[obj])&&(i=e[obj](i,f,d.name,c,r)),o[d.name][obj]=i}},m=parseFloat(f);m=!isNaN(m),m&&(f=parseFloat(f)),"number"==typeof f&&isFinite(f)?t.each(d.aggregates,function(){var t=o[d.name][this];if(null==t&&(t=0,"min"==this&&(t=9999999999999),"max"==this&&(t=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)t+=parseFloat(f);else if("product"==this)0==h?t=parseFloat(f):t*=parseFloat(f);else if("min"==this)t=Math.min(t,parseFloat(f));else if("max"==this)t=Math.max(t,parseFloat(f));else if("count"==this)t++;else if("object"==typeof this)return void p(this);o[d.name][this]=t}):t.each(d.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===f)return!0;var t=o[d.name][this];return null==t&&(t=0),o[d.name][this]=t,!0}"object"==typeof this&&p(this)})}}for(var u=0;u<e.length;u++){var d=e[u];if(o[d.name]||(o[d.name]={},t.each(d.aggregates,function(t){o[d.name][this]=0})),void 0!=o[d.name].avg){var f=o[d.name].avg,g=a[d.name];o[d.name].avg=0===g||void 0==g?0:f/g}else void 0!=o[d.name].count&&(o[d.name].count=l);(o[d.name].stdev||o[d.name].stdevp||o[d.name].var||o[d.name].varp)&&t.each(d.aggregates,function(t){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var e=o[d.name][this],i=l,n=e/l,r=0,a=0;a<l;a++){var h=s[a],c=h[d.name];r+=(c-n)*(c-n)}var u="stdevp"==this||"varp"==this?i:i-1;0==u&&(u=1),"var"==this||"varp"==this?o[d.name][this]=r/u:"stdevp"!=this&&"stdev"!=this||(o[d.name][this]=Math.sqrt(r/u))}}),d.formatStrings&&t.each(d.aggregates,function(e){var n=d.formatStrings[e];if(n)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=o[d.name][this];o[d.name][this]=t.jqx.dataFormat.formatnumber(r,n,i)}else if("object"==typeof this)for(obj in this){var r=o[d.name][obj];o[d.name][obj]=t.jqx.dataFormat.formatnumber(r,n,i)}})}return o}},bindDownloadComplete:function(t,e){this._downloadComplete[this._downloadComplete.length]={id:t,func:e}},unbindDownloadComplete:function(t){for(var e=0;e<this._downloadComplete.length;e++)if(this._downloadComplete[e].id==t){this._downloadComplete[e].func=null,this._downloadComplete.splice(e,1);break}},callDownloadComplete:function(){for(var t=0;t<this._downloadComplete.length;t++){var e=this._downloadComplete[t];null!=e.func&&e.func()}},setSource:function(t){this._source=t},generatekey:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},getGroupedRecords:function(e,i,n,r,s,o,a,l,h){var c=this;h||(h=0);for(var u=new Array,d=0;d<e.length;d++)u[d]=c.generatekey();i||(i="items"),n||(n="group"),s||(s="record"),a||(a="parentItem"),void 0===o&&(o="value");var f=new Array,p=0,m=new Array,g=e.length;new Array;if(!l)var l=this.records;for(var v=l.length,y=0;y<v;y++){var b=function(e){var i=e;return r&&t.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i}(l[y]);id=b[c.uniqueId];var w=new Array,x=0;for(d=0;d<g;d++){var _=e[d],C=b[_];null!=C&&(w[x++]={value:C,hash:u[d]})}if(w.length!=g)break;for(var k=null,S="",T=-1,A=0;A<w.length;A++){T++;var D=w[A].value;if(S=S+"_"+w[A].hash+"_"+D,void 0==m[S]||null==m[S]){if(null==k){k={level:0},k[a]=null,k[n]=D,k[s]=b,void 0!==b.expanded?k.expanded=b.expanded:k.expanded=!1,o&&(k[o]=b[o]),k[i]=new Array;var E=f.length+h;this._source.id&&"number"!=typeof b.uid&&!isFinite(b.uid)||(E="Row"+E),k.uid=E,f[p++]=k}else{var N={level:k.level+1};N[a]=k,N[n]=D,N[i]=new Array,N[s]=b,void 0!==b.expanded?N.expanded=b.expanded:N.expanded=!1,o&&(N[o]=b[o]),N.uid=k.uid+"_"+k[i].length,k[i][k[i].length]=N,k=N}m[S]=k}else k=m[S]}b&&(b.leaf=!0),null!=k?(null==this._source.id&&(void 0==b.uid?b.uid=k.uid+"_"+k[i].length:-1==b.uid.toString().indexOf(k.uid)&&(b.uid=k.uid+"_"+b.uid)),b[a]=k,b.level=k.level+1,k[i][k[i].length]=b):void 0==b.uid&&(b.uid=this.generatekey())}return f},getRecordsHierarchy:function(e,i,n,r,s){var o=new Array,a=this.records;if(s&&(a=s),0==this.records.length)return null;for(var l=null!=n?n:"items",h=[],c=a,u=c.length,d=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,f=function(e){var i=e;return r&&t.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},p=0;p<u;p++){var m=t.extend({},c[p]),g=m[i],v=m[e];h[v]={parentid:g,item:m}}for(var p=0;p<u;p++){var m=t.extend({},c[p]),g=m[i],v=m[e];if(void 0!=h[g]){var m={parentid:g,item:h[v].item},y=h[g].item;y[l]||(y[l]=[]);var b=y[l].length,w=m.item;d?void 0==w[d.parent]&&(w[d.parent]=y):void 0==w.parent&&(w.parent=y);var x=f(w);y[l][b]=x,h[g].item=y,h[v]=m}else{var w=h[v].item;d?void 0==w[d.parent]&&(w[d.parent]=null):void 0==w.parent&&(w.parent=null);var x=f(w);d?x[d.level]=0:x.level=0,o[o.length]=x}}if(0!=o.length){var _=function(t,e){for(var i=0;i<e.length;i++){d?e[i][d.level]=t:e[i].level=t;var n=e[i][l];n&&n.length>0?_(t+1,n):d?e[i][d.leaf]=!0:e[i].leaf=!0}};_(0,o)}return o},bindBindingUpdate:function(t,e){this._bindingUpdate[this._bindingUpdate.length]={id:t,func:e}},unbindBindingUpdate:function(t){for(var e=0;e<this._bindingUpdate.length;e++)if(this._bindingUpdate[e].id==t){this._bindingUpdate[e].func=null,this._bindingUpdate.splice(e,1);break}},callBindingUpdate:function(t){for(var e=0;e<this._bindingUpdate.length;e++){var i=this._bindingUpdate[e];null!=i.func&&i.func(t)}},getid:function(e,i,n){if(null==e||void 0==e.name||!e.name){if(t(e,i).length>0)return t(e,i).text();if(e&&e.toString().length>0){var r=t(i).attr(e);if(null!=r&&r.toString().length>0)return t.trim(r).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var s=e.split(this.mapChar);if(s.length>1){for(var o=i,a=0;a<s.length;a++)void 0!=o&&(o=o[s[a]]);if(void 0!=o)return o}else if(void 0!=i[e])return i[e]}return n}var r=t(i).attr(e.name);if(null!=r&&r.toString().length>0)return r;if(e.map)try{var r=t(i).attr(e.map);if(null!=r&&r.toString().length>0)return r;if(t(e.map,i).length>0)return t(e.map,i).text();if(t(e.name,i).length>0)return t(e.name,i).text()}catch(t){return n}},loadjson:function(e,i,n){"string"==typeof e&&(e=t.parseJSON(e)),void 0==n.root&&(n.root=""),void 0==n.record&&(n.record="");var e=e||i;e||(e=[]);var r=this;if(""!=n.root){var s=n.root.split(r.mapChar);if(s.length>1){for(var o=e,a=0;a<s.length;a++)void 0!=o&&(o=o[s[a]]);e=o}else if(void 0!==e[n.root]?e=e[n.root]:e[0]&&void 0!==e[0][n.root]?e=e[0][n.root]:t.each(e,function(t){if(this==n.root)return e=this,!1;void 0!=this[n.root]&&(e=this[n.root])}),!e){var s=n.root.split(r.mapChar);if(s.length>0){for(var o=e,a=0;a<s.length;a++)void 0!=o&&(o=o[s[a]]);e=o}}}else if(!e.length)for(obj in e)if(t.isArray(e[obj])){e=e[obj];break}if(null!=e&&void 0==e.length&&(e=t.makeArray(e)),null==e||void 0==e||"undefined"==e||void 0==e.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==e.length)return void(this.totalrecords=0);var l=e.length;this.totalrecords=this.virtualmode?n.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var h=this.records,c=this.pageable?this.pagesize*this.pagenum:n.recordstartindex;this.recordids=new Array,n.loadallrecords&&(c=0,l=this.totalrecords);var u=0;this.virtualmode&&(c=this.pageable?this.pagesize*this.pagenum:n.recordstartindex,u=c,c=0,l=this.totalrecords);var d=n.datafields?n.datafields.length:0;if(0==d){var f=e[0],p=new Array;for(obj in f){var m=obj;p[p.length]={name:m}}n.datafields=p,n.generatedfields=n.datafields,d=p.length}for(var g=c,v=c;v<l;v++){var y=e[v];if(void 0==y)break;if(!n.record||""==n.record||void 0!=(y=y[n.record])){var b=this.getid(n.id,y,v);if("object"==typeof b&&(b=v),!this.recordids[b]){this.recordids[b]=y;for(var w={},x=0;x<d;x++){var _=n.datafields[x],C="";if(void 0!=_&&null!=_){if(_.map){if(t.isFunction(_.map))C=_.map(y);else{var s=_.map.split(r.mapChar);if(s.length>0){for(var k=y,a=0;a<s.length;a++)void 0!=k&&(k=k[s[a]]);C=k}else C=y[_.map]}void 0!=C&&null!=C?C=this.getvaluebytype(C,_):void 0==C&&null!=C&&(C="")}if(""==C&&!_.map&&(C=y[_.name],void 0==C&&null!=C&&(C=""),void 0!=_.value&&void 0!=C)){var S=C[_.value];void 0!=S&&(C=S)}if(C=this.getvaluebytype(C,_),void 0!=_.displayname?w[_.displayname]=C:w[_.name]=C,"array"===_.type){var T=function(e){if(e)for(var i=0;i<e.length;i++){var s=e[i];if(s)for(var o=0;o<d;o++){var a=n.datafields[o],l="";if(void 0!=a&&null!=a){if(a.map){if(t.isFunction(a.map))l=a.map(s);else{var h=a.map.split(r.mapChar);if(h.length>0){for(var c=s,u=0;u<h.length;u++)void 0!=c&&(c=c[h[u]]);l=c}else l=s[a.map]}
void 0!=l&&null!=l?l=this.getvaluebytype(l,a):void 0==l&&null!=l&&(l="")}if(""==l&&!a.map&&(l=s[a.name],void 0==l&&null!=l&&(l=""),void 0!=a.value&&void 0!=l)){var f=l[a.value];void 0!=f&&(l=f)}l=this.getvaluebytype(l,a),void 0!=a.displayname?s[a.displayname]=l:s[a.name]=l,"array"===a.type&&T.call(this,l)}}}};T.call(this,C)}}}(n.recordendindex<=0||c<n.recordendindex)&&(h[u+g]=new Object(w),h[u+g].uid=b,this.originaldata[u+g]=new Object(h[v]),g++)}}}this.records=h,this.cachedrecords=this.records},loadxml:function(e,i,n){"string"==typeof e&&(e=i=t(t.parseXML(e)),e=null),void 0==n.root&&(n.root=""),void 0==n.record&&(n.record="");var e;(e=t.jqx.browser.msie&&i&&void 0!=i.xml?t(n.root+" "+n.record,t.parseXML(i.xml)):e||t(n.root+" "+n.record,i))||(e=[]);var r=e.length;if(0!=e.length){this.totalrecords=this.virtualmode?n.totalrecords||r:r,this.records=new Array,this.originaldata=new Array;var s=this.records,o=this.pageable?this.pagesize*this.pagenum:n.recordstartindex;this.recordids=new Array,n.loadallrecords&&(o=0,r=this.totalrecords);var a=0;this.virtualmode&&(o=this.pageable?this.pagesize*this.pagenum:n.recordstartindex,a=o,o=0,r=this.totalrecords);var l=n.datafields?n.datafields.length:0;if(0==l){var h=e[0],c=new Array;for(obj in h){var u=obj;c[c.length]={name:u}}n.datafields=c,n.generatedfields=n.datafields,l=c.length}for(var d=o,f=o;f<r;f++){var p=e[f];if(void 0==p)break;var m=this.getid(n.id,p,f);if(!this.recordids[m]){this.recordids[m]=p;var g={},v=!1;n.hierarchy&&n.hierarchy.root&&(v=!0);for(var y=0;y<l;y++){var b=n.datafields[y],w="";if(void 0!=b&&null!=b){if(b.map)if(t.isFunction(b.map))w=b.map(p);else{var x=b.map.indexOf("[");if(x<0)if(w=t(b.map,p),1==w.length)w=w.text();else{!0;for(var _=new Array,C=0;C<w.length;C++)_.push(t(w[C]).text());w=_,v&&_.length>0&&(w=_[0])}else{var k=b.map.substring(0,x-1),S=b.map.indexOf("]"),T=b.map.substring(x+1,S);w=t(k,p).attr(T),void 0==w&&(w=t(p).attr(T)),void 0==w&&(w="")}""==w&&void 0==(w=t(p).attr(b.map))&&(w="")}if(""==w){if(w=t(b.name,p),1==w.length)w=w.text();else{for(var _=new Array,C=0;C<w.length;C++)_.push(t(w[C]).text());w=_,v&&_.length>0&&(w=_[0])}""==w&&void 0==(w=t(p).attr(b.name))&&(w=""),""==w&&p.nodeName&&p.nodeName==b.name&&p.firstChild&&(w=t(p.firstChild).text())}w=this.getvaluebytype(w,b),void 0!=b.displayname?g[b.displayname]=w:g[b.name]=w}}(n.recordendindex<=0||o<n.recordendindex)&&(s[a+d]=t.extend({},g),s[a+d].uid=m,this.originaldata[a+d]=t.extend({},s[f]),d++)}}if(n.hierarchy&&n.hierarchy.root)for(var f=o;f<r;f++){var p=e[f],A=s[f];if(t(p).parent().length>0){var m=this.getid(n.id,t(p).parents(n.hierarchy.record+":first"));A.parentuid=m}else A.parentuid=null}this.records=s,this.cachedrecords=this.records}},loadics:function(t,e){if(null!=t){var i=e.rowDelimiter||this.rowDelimiter||"\n",n=t.split(i),r=n.length,s=t.split("\r");1==r&&s.length>1&&(n=s,r=n.length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var a=function(t){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,i=e.exec(t);if(!i)throw new Error("Invalid UNTIL value: "+t);return new Date(Date.UTC(i[1],i[2]-1,i[3],i[5]||0,i[6]||0,i[7]||0))},l=0;l<r;l++){var h=n[l];if("BEGIN:VEVENT"!=h)if(h.indexOf("SUMMARY")>=0)u.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)u.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)u.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)u.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("EXDATE")>=0){var c=h.substring(h.indexOf("EXDATE")+7);u.EXDATE=c}else h.indexOf("DTEND")>=0?u.DTEND=a(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART")>=0?u.DTSTART=a(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?u.uid=u.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?u.STATUS=h.substring(h.indexOf("STATUS")+7):"END:VEVENT"!=h||o.push(u);else var u={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(e,i){if(null!=e){var n=i.rowDelimiter||this.rowDelimiter||"\n",r=e.split(n),s=r.length,o=e.split("\r");1==s&&o.length>1&&(r=o,s=r.length),this.totalrecords=this.virtualmode?i.totalrecords||s:s,this.records=new Array,this.originaldata=new Array;var a=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,s=this.totalrecords);var h=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,h=l,l=0,s=this.totalrecords);var c=i.datafields.length,u=i.columnDelimiter||this.columnDelimiter;u||(u="tab"===i.datatype||"tsv"===i.datatype?"\t":",");for(var d=l;d<s;d++){var f=r[d],p=null;if(!this.recordids[p]){null==i.id&&(p=d,this.recordids[p]=f);for(var m={},g=r[d].split(u),v=0;v<c;v++)if(!(v>=g.length)){var y=i.datafields[v],b=g[v];y.map&&t.isFunction(y.map)&&(b=y.map(f)),y.type&&(b=this.getvaluebytype(b,y));var w=y.map||y.name||v.toString();m[w]=b,null!=i.id&&i.id===y.name&&(p=b,this.recordids[p]=f)}null==p&&(p=d),a[h+d]=t.extend({},m),a[h+d].uid=p,this.originaldata[h+d]=t.extend({},a[d])}}this.records=a,this.cachedrecords=this.records}},getvaluebytype:function(e,i){var n=e;if(null==e)return e;if(t.isArray(e)&&"array"!=i.type){for(var r=0;r<e.length;r++)e[r]=this.getvaluebytype(e[r],i);return e}if("date"==i.type)if("NaN"==e)e="";else{if(e&&e instanceof Date)return e;var s=new Date(e);if("string"==typeof e&&i.format){var o=t.jqx.dataFormat.parsedate(e,i.format);null!=o&&(s=o)}e=("NaN"==s.toString()||"Invalid Date"==s.toString())&&t.jqx.dataFormat?t.jqx.dataFormat.tryparsedate(e):s,null==e&&(e=n)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==e)e="";else{var e=parseFloat(e);isNaN(e)&&(e=n)}else if("int"==i.type||"integer"==i.type){var e=parseInt(e);isNaN(e)&&(e=n)}else"bool"!=i.type&&"boolean"!=i.type||(null!=e&&void 0!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&"");return e}},t.jqx.dataFormat={},t.extend(t.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(t){return"boolean"==typeof t},isObject:function(e){return e&&("object"==typeof e||t.isFunction(e))||!1},isDate:function(t){return t instanceof Date},arrayIndexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isValue:function(t){return this.isObject(t)||this.isString(t)||this.isNumber(t)||this.isBoolean(t)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=t.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(t,e){return 0===t.indexOf(e)},endsWith:function(t,e){return t.substr(t.length-e.length)===e},trim:function(t){return(t+"").replace(this.regexTrim,"")},isArray:function(t){return"[object Array]"===this.toString.call(t)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(t,e){e=e||"F";var i,n=t.patterns,r=e.length;if(1===r){if(!(i=n[e]))throw"Invalid date format string '"+e+"'.";e=i}else 2===r&&"%"===e.charAt(0)&&(e=e.charAt(1));return e},getEra:function(t,e){if(!e)return 0;if("string"==typeof t)return 0;for(var i,n=t.getTime(),r=0,s=e.length;r<s;r++)if(null===(i=e[r].start)||n>=i)return r;return 0},toUpper:function(t){return t.split(" ").join(" ").toUpperCase()},toUpperArray:function(t){for(var e=[],i=0,n=t.length;i<n;i++)e[i]=this.toUpper(t[i]);return e},getEraYear:function(t,e,i,n){var r=t.getFullYear();return!n&&e.eras&&(r-=e.eras[i].offset),r},toUpper:function(t){return t?t.toUpperCase():""},getDayIndex:function(t,e,i){var n,r=t.days,s=t._upperDays;return s||(t._upperDays=s=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),e=e.toUpperCase(),i?-1===(n=this.arrayIndexOf(s[1],e))&&(n=this.arrayIndexOf(s[2],e)):n=this.arrayIndexOf(s[0],e),n},getMonthIndex:function(t,e,i){var n=t.months,r=t.monthsGenitive||t.months,s=t._upperMonths,o=t._upperMonthsGen;s||(t._upperMonths=s=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)],t._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),e=this.toUpper(e);var a=this.arrayIndexOf(i?s[1]:s[0],e);return a<0&&(a=this.arrayIndexOf(i?o[1]:o[0],e)),a},appendPreOrPostMatch:function(t,e){for(var i=0,n=!1,r=0,s=t.length;r<s;r++){var o=t.charAt(r);switch(o){case"'":n?e.push("'"):i++,n=!1;break;case"\\":n&&e.push("\\"),n=!n;break;default:e.push(o),n=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(t,e){var i="";return e&&e.target&&(i="target="+e.target),""!=i?"<a "+i+' href="'+t+'">'+t+"</a>":'<a href="'+t+'">'+t+"</a>"},formatemail:function(t){return'<a href="mailto:'+t+'">'+t+"</a>"},formatNumber:function(t,e,i){return this.formatnumber(t,e,i)},formatnumber:function(t,e,i){if(void 0!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===e||null===e)return t;this.isNumber(t)||(t*=1);var n;e.length>1&&(n=parseInt(e.slice(1),10));var r={},s=e.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,s){case"D":case"d":case"F":case"f":r.decimalPlaces=n;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=n,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=n;break;default:throw"Bad number format specifier: "+s}if(this.isNumber(t)){var o,a=t<0,l=t+"",h=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var c=r.decimalPlaces,u=Math.pow(10,c);if(l=(t*u).toFixed(0)/u+"",o=l.lastIndexOf("."),c>0)for(o<0?(l+=h,o=l.length-1):"."!==h&&(l=l.replace(".",h));l.length-1-o<c;)l+="0"}else{var l=t+"";o=l.lastIndexOf("."),o>0&&void 0==c&&"."!==h&&(l=l.replace(".",h))}if(r.thousandsSeparator){var d=r.thousandsSeparator;o=l.lastIndexOf(h),o=o>-1?o:l.length;for(var f=l.substring(o),p=-1,m=o;m>0;m--)p++,p%3==0&&m!==o&&(!a||m>1)&&(f=d+f),f=l.charAt(m-1)+f;l=f}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return t},tryparsedate:function(e,i){void 0!=i&&null!=i||(i=this.defaultcalendar());var n=this;if(""==e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("==e.substring(0,6)){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,s=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==s){var o=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),s=null;o&&(s=new Date(1*o[1]+36e5*o[2]+6e4*o[3]))}if(null==s||"Invalid Date"==s||isNaN(s)){var a=r.exec(e);if(a){var l=new Date(parseInt(a[1]));if(a[2]){var h=parseInt(a[3]);"-"===a[2]&&(h=-h);var c=l.getUTCMinutes();l.setUTCMinutes(c-h)}if(!isNaN(l.valueOf()))return l}}return s}patterns=i.patterns;for(prop in patterns)if(s=n.parsedate(e,patterns[prop],i)){if("ISO"==prop){var u=n.parsedate(e,patterns.ISO2,i);if(u)return u}return s}if(null!=e){for(var u=null,d=[":","/","-"],f=!0,p=0;p<d.length;p++)-1!=e.indexOf(d[p])&&(f=!1);if(f){var m=new Number(e);if(!isNaN(m))return new Date(m)}}if("string"===t.type(e)){var g=n;e=g.trim(e);var v=[":","/","-"," ",","];e=function(t,e,i){return i.replace(new RegExp(t,"g"),e)}(", ",",",e);var y="",b=e;e.indexOf(":")>=0?(y=e.substring(e.indexOf(":")-2),y=g.trim(y),b=e.substring(0,e.indexOf(":")-2)):e.toUpperCase().indexOf("AM")>=0?(y=e.substring(e.toUpperCase().indexOf("AM")-2),y=g.trim(y),b=e.substring(0,e.toUpperCase().indexOf("AM")-2)):e.toUpperCase().indexOf("PM")>=0&&(y=e.substring(e.toUpperCase().indexOf("PM")-2),y=g.trim(y),b=e.substring(0,e.toUpperCase().indexOf("PM")-2));var w=new Date,x=!1;if(b){for(var _=0;_<v.length;_++)if(b.indexOf(v[_])>=0){d=b.split(v[_]);break}for(var C=new Array,k=new Array,S=new Array,T=null,A=null,_=0;_<d.length;_++){var p=d[_],D=g.parsedate(p,"d",i)||g.parsedate(p,"dd",i)||g.parsedate(p,"ddd",i)||g.parsedate(p,"dddd",i);if(D&&p.length<=2){T=_,C.push(D.getDate());break}}for(var _=0;_<d.length;_++){var p=d[_],E=g.parsedate(p,"M",i)||g.parsedate(p,"MM",i)||g.parsedate(p,"MMM",i)||g.parsedate(p,"MMMM",i);if(E){if(void 0!=T&&T==_)continue;if(k.push(E.getMonth()),p.length>2){A=_;break}}}for(var _=0;_<d.length;_++){var p=d[_],N=g.parsedate(p,"yyyy",i);if(N){if(void 0!=T&&T==_)continue;if(void 0!=A&&A==_)continue;S.push(N.getFullYear())}}for(var I=new Array,M=0;M<C.length;M++)for(var o=0;o<k.length;o++)for(var O=0;O<S.length;O++){var l=new Date(S[O],k[o],C[M]);S[O]<1970&&l.setFullYear(S[O]),NaN!=l.getTime()&&I.push(l)}I.length>0&&(w=I[0],x=!0)}if(y){var P=y.indexOf(":")>=0?y.split(":"):y,R=g.parsedate(y,"h:mm tt",i)||g.parsedate(y,"h:mm:ss tt",i)||g.parsedate(y,"HH:mm:ss.fff",i)||g.parsedate(y,"HH:mm:ss.ff",i)||g.parsedate(y,"HH:mm:ss.tttt",i)||g.parsedate(y,"HH:mm:ss",i)||g.parsedate(y,"HH:mm",i)||g.parsedate(y,"HH",i),j=0,L=0,H=0,q=0;R&&NaN!=R.getTime()?(j=R.getHours(),L=R.getMinutes(),H=R.getSeconds(),q=R.getMilliseconds()):(1==P.length&&(j=parseInt(P[0])),2==P.length&&(j=parseInt(P[0]),L=parseInt(P[1])),3==P.length&&(j=parseInt(P[0]),L=parseInt(P[1]),P[2].indexOf(".")>=0?(H=parseInt(P[2].toString().split(".")[0]),q=parseInt(P[2].toString().split(".")[1])):H=parseInt(P[2])),4==P.length&&(j=parseInt(P[0]),L=parseInt(P[1]),H=parseInt(P[2]),q=parseInt(P[3]))),!w||isNaN(j)||isNaN(L)||isNaN(H)||isNaN(q)||(w.setHours(j,L,H,q),x=!0)}if(x)return w}return null},getparseregexp:function(t,e){var i=t._parseRegExp;if(i){var n=i[e];if(n)return n}else t._parseRegExp=i={};for(var r,s=this.expandFormat(t,e).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,h=0,c=this.getTokenRegExp();null!==(r=c.exec(s));){var u=s.slice(l,r.index);if(l=c.lastIndex,(h+=this.appendPreOrPostMatch(u,o))%2)o.push(r[0]);else{var d,f=r[0],p=f.length;switch(f){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\"+t["/"]+")";break;default:throw"Invalid date format pattern '"+f+"'."}d&&o.push(d),a.push(r[0])}}this.appendPreOrPostMatch(s.slice(l),o),o.push("$");var m=o.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:a};return i[e]=g},outOfRange:function(t,e,i){return t<e||t>i},expandYear:function(t,e){var i=new Date,n=this.getEra(i);if(e<100){var r=t.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var s=this.getEraYear(i,t,n);e+=s-s%100,e>r&&(e-=100)}return e},parsedate:function(t,e,i){void 0!=i&&null!=i||(i=this.defaultcalendar()),t=this.trim(t);var n=i,r=this.getparseregexp(n,e),s=new RegExp(r.regExp).exec(t);if(null===s)return null;for(var o,a=r.groups,l=null,h=null,c=null,u=null,d=null,f=0,p=0,m=0,g=0,v=null,y=!1,b=0,w=a.length;b<w;b++){var x=s[b+1];if(x){var _=a[b],C=_.length,k=parseInt(x,10);switch(_){case"dd":case"d":if(u=k,this.outOfRange(u,1,31))return null;break;case"MMM":case"MMMM":if(c=this.getMonthIndex(n,x,3===C),this.outOfRange(c,0,11))return null;break;case"M":case"MM":if(c=k-1,this.outOfRange(c,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=C<4?this.expandYear(n,k):k,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(f=k,12===f&&(f=0),this.outOfRange(f,0,11))return null;break;case"H":case"HH":if(f=k,this.outOfRange(f,0,23))return null;break;case"m":case"mm":if(p=k,this.outOfRange(p,0,59))return null;break;case"s":case"ss":if(m=k,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(!(y=n.PM&&(x===n.PM[0]||x===n.PM[1]||x===n.PM[2]))&&(!n.AM||x!==n.AM[0]&&x!==n.AM[1]&&x!==n.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=k*Math.pow(10,3-C),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(d=this.getDayIndex(n,x,3===C),this.outOfRange(d,0,6))return null;break;case"zzz":var S=x.split(/:/);if(2!==S.length)return null;if(o=parseInt(S[0],10),this.outOfRange(o,-12,13))return null;var T=parseInt(S[1],10);if(this.outOfRange(T,0,59))return null;v=60*o+(this.startsWith(x,"-")?-T:T);break;case"z":case"zz":if(o=k,this.outOfRange(o,-12,13))return null;v=60*o;break;case"g":case"gg":var A=x;if(!A||!n.eras)return null;A=trim(A.toLowerCase());for(var D=0,E=n.eras.length;D<E;D++)if(A===n.eras[D].name.toLowerCase()){l=D;break}if(null===l)return null}}}var N,I=new Date,M=n.convert;if(N=I.getFullYear(),null===h?h=N:n.eras&&(h+=n.eras[l||0].offset),null===c&&(c=0),null===u&&(u=1),M){if(null===(I=M.toGregorian(h,c,u)))return null}else{if(I.setFullYear(h,c,u),I.getDate()!==u)return null;if(null!==d&&I.getDay()!==d)return null}if(y&&f<12&&(f+=12),I.setHours(f,p,m,g),null!==v){var O=I.getMinutes()-(v+I.getTimezoneOffset());I.setHours(I.getHours()+parseInt(O/60,10),O%60)}return I},cleardatescache:function(){this.datescache=new Array},formatDate:function(t,e,i){return this.formatdate(t,e,i)},formatdate:function(t,e,i){function n(t,e){var i,n=t+"";return e>1&&n.length<e?(i=u[e-2]+n,i.substr(i.length-e,e)):i=n}function r(t,e){if(c)return c[e];if(void 0!=t.getMonth)switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate()}}if(void 0!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof t)return t;var s=t.toString()+"_"+e;if(this.datescache&&this.datescache[s]&&-1==e.indexOf("f"))return this.datescache[s];if(!e||!e.length||"i"===e){var o;return o=this.formatDate(t,i.patterns.F,i)}var a=i.eras,l="s"===e;e=this.expandFormat(i,e),o=[];for(var h,c,u=["0","00","000"],d=0,f=this.getTokenRegExp();;){var p=f.lastIndex,m=f.exec(e),g=e.slice(p,m?m.index:e.length);if(d+=this.appendPreOrPostMatch(g,o),!m)break;if(d%2)o.push(m[0]);else{var v=m[0],y=v.length;switch(v){case"ddd":case"dddd":var b=3===y?i.days.namesAbbr:i.days.names;o.push(b[t.getDay()]);break;case"d":case"dd":!0,o.push(n(r(t,2),y));break;case"MMM":case"MMMM":var w=r(t,1);o.push(i.months[3===y?"namesAbbr":"names"][w]);break;case"M":case"MM":o.push(n(r(t,1)+1,y));break;case"y":case"yy":case"yyyy":w=this.getEraYear(t,i,this.getEra(t,a),l),y<4&&(w%=100),o.push(n(w,y));break;case"h":case"hh":h=t.getHours()%12,0===h&&(h=12),o.push(n(h,y));break;case"H":case"HH":o.push(n(t.getHours(),y));break;case"m":case"mm":o.push(n(t.getMinutes(),y));break;case"s":case"ss":o.push(n(t.getSeconds(),y));break;case"t":case"tt":w=t.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",o.push(1===y?w.charAt(0):w);break;case"f":case"ff":case"fff":o.push(n(t.getMilliseconds(),3).substr(0,y));break;case"z":case"zz":h=t.getTimezoneOffset()/60,o.push((h<=0?"+":"-")+n(Math.floor(Math.abs(h)),y));break;case"zzz":h=t.getTimezoneOffset()/60,o.push((h<=0?"+":"-")+n(Math.floor(Math.abs(h)),2)+":"+n(Math.abs(t.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&o.push(i.eras[this.getEra(t,a)].name);break;case"/":o.push(i["/"]);break;default:throw"Invalid date format pattern '"+v+"'."}}}var x=o.join("");return this.datescache||(this.datescache=new Array),this.datescache[s]=x,x}}),t.jqx.data={};var l,h,c=/#.*$/,u=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,d=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,f=/^(?:GET|HEAD)$/,p=/^\/\//,m=/\?/,g=/([?&])_=[^&]*/,v=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,y=/\s+/,b=(t.fn.load,{}),w={},x=["*/"]+["*"];try{h=location.href}catch(t){h=document.createElement("a"),h.href="",h=h.href}l=v.exec(h.toLowerCase())||[],t.extend(t.jqx.data,{ajaxSetup:function(e,i){return i?n(e,t.jqx.data.ajaxSettings):(i=e,e=t.jqx.data.ajaxSettings),n(e,i),e},ajaxSettings:{url:h,isLocal:d.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":x},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:e(b),ajaxTransport:e(w),ajax:function(e,n){function o(e,i,n,o){var l,c,u,d,f,p=i;2!==R&&(R=2,C&&clearTimeout(C),_=void 0,h=o||"",L.readyState=e>0?4:0,n&&(d=r(A,L,n)),e>=200&&e<300||304===e?(A.ifModified&&(f=L.getResponseHeader("Last-Modified"),f&&(t.lastModified[a]=f),(f=L.getResponseHeader("Etag"))&&(t.etag[a]=f)),304===e?(p="notmodified",l=!0):(l=s(A,d),p=l.state,c=l.data,u=l.error,l=!u)):(u=p,p&&!e||(p="error",e<0&&(e=0))),L.status=e,L.statusText=(i||p)+"",l?N.resolveWith(D,[c,p,L]):N.rejectWith(D,[L,p,u]),L.statusCode(M),M=void 0,S&&E.trigger("ajax"+(l?"Success":"Error"),[L,A,l?c:u]),I.fireWith(D,[L,p]),S&&(E.trigger("ajaxComplete",[L,A]),--t.active||t.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var a,h,d,_,C,k,S,T,A=t.jqx.data.ajaxSetup({},n),D=A.context||A,E=D!==A&&(D.nodeType||D instanceof t)?t(D):t.event,N=t.Deferred(),I=t.Callbacks("once memory"),M=A.statusCode||{},O={},P={},R=0,j="canceled",L={readyState:0,setRequestHeader:function(t,e){if(!R){var i=t.toLowerCase();t=P[i]=P[i]||t,O[t]=e}return this},getAllResponseHeaders:function(){return 2===R?h:null},getResponseHeader:function(t){var e;if(2===R){if(!d)for(d={};e=u.exec(h);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return void 0===e?null:e},overrideMimeType:function(t){return R||(A.mimeType=t),this},abort:function(t){return t=t||j,_&&_.abort(t),o(0,t),this}};if(N.promise(L),L.success=L.done,L.error=L.fail,L.complete=I.add,L.statusCode=function(t){if(t){var e;if(R<2)for(e in t)M[e]=[M[e],t[e]];else e=t[L.status],L.always(e)}return this},A.url=((e||A.url)+"").replace(c,"").replace(p,l[1]+"//"),A.dataTypes=t.trim(A.dataType||"*").toLowerCase().split(y),null==A.crossDomain&&(k=v.exec(A.url.toLowerCase()),A.crossDomain=!(!k||k[1]===l[1]&&k[2]===l[2]&&(k[3]||("http:"===k[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),A.data&&A.processData&&"string"!=typeof A.data&&(A.data=t.param(A.data,A.traditional)),i(b,A,n,L),2===R)return L;if(S=A.global,A.type=A.type.toUpperCase(),A.hasContent=!f.test(A.type),S&&0==t.active++&&t.event.trigger("ajaxStart"),!A.hasContent&&(A.data&&(A.url+=(m.test(A.url)?"&":"?")+A.data,delete A.data),a=A.url,!1===A.cache)){var H=(new Date).getTime(),q=A.url.replace(g,"$1_="+H);A.url=q+(q===A.url?(m.test(A.url)?"&":"?")+"_="+H:"")}(A.data&&A.hasContent&&!1!==A.contentType||n.contentType)&&L.setRequestHeader("Content-Type",A.contentType),A.ifModified&&(a=a||A.url,t.lastModified[a]&&L.setRequestHeader("If-Modified-Since",t.lastModified[a]),t.etag[a]&&L.setRequestHeader("If-None-Match",t.etag[a])),L.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+("*"!==A.dataTypes[0]?", "+x+"; q=0.01":""):A.accepts["*"]);for(T in A.headers)L.setRequestHeader(T,A.headers[T]);if(A.beforeSend&&(!1===A.beforeSend.call(D,L,A)||2===R))return L.abort();j="abort";for(T in{success:1,error:1,complete:1})L[T](A[T]);if(_=i(w,A,n,L)){L.readyState=1,S&&E.trigger("ajaxSend",[L,A]),A.async&&A.timeout>0&&(C=setTimeout(function(){L.abort("timeout")},A.timeout));try{R=1,_.send(O,o)}catch(t){if(!(R<2))throw t;o(-1,t)}}else o(-1,"No Transport");return L},active:0,lastModified:{},etag:{}});var _=[],C=/\?/,k=/(=)\?(?=&|$)|\?\?/,S=(new Date).getTime();t.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_.pop()||t.expando+"_"+S++;return this[e]=!0,e}}),t.jqx.data.ajaxPrefilter("json jsonp",function(e,i,n){var r,s,o,a=e.data,l=e.url,h=!1!==e.jsonp,c=h&&k.test(l),u=h&&!c&&"string"==typeof a&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&k.test(a);if("jsonp"===e.dataTypes[0]||c||u)return r=e.jsonpCallback=t.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s=window[r],c?e.url=l.replace(k,"$1"+r):u?e.data=a.replace(k,"$1"+r):h&&(e.url+=(C.test(l)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||t.error(r+" was not called"),o[0]},e.dataTypes[0]="json",window[r]=function(){o=arguments},n.always(function(){window[r]=s,e[r]&&(e.jsonpCallback=i.jsonpCallback,_.push(r)),o&&t.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),t.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return t.globalEval(e),e}}}),t.jqx.data.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),t.jqx.data.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(n,r){e=document.createElement("script"),e.async="async",t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,i&&e.parentNode&&i.removeChild(e),e=void 0,n||r(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(0,1)}}}});var T,A=!!window.ActiveXObject&&function(){for(var t in T)T[t](0,1)},D=0;t.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||a()}:o,function(e){t.extend(t.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(t.jqx.data.ajaxSettings.xhr()),t.support||(t.support={ajax:!0}),t.support.ajax&&t.jqx.data.ajaxTransport(function(e){if(!e.crossDomain||t.support.cors){var i;return{send:function(n,r){var s,o,a=e.xhr();if(e.username?a.open(e.type,e.url,e.async,e.username,e.password):a.open(e.type,e.url,e.async),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(o in n)a.setRequestHeader(o,n[o])}catch(t){}a.send(e.hasContent&&e.data||null),i=function(t,n){var o,l,h,c,u;try{if(i&&(n||4===a.readyState))if(i=void 0,s&&(a.onreadystatechange=function(){},A&&delete T[s]),n)4!==a.readyState&&a.abort();else{o=a.status,h=a.getAllResponseHeaders(),c={},u=a.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=a.responseText}catch(t){}try{l=a.statusText}catch(t){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}}catch(t){n||r(-1,t)}c&&r(o,l,c,h)},e.async?4===a.readyState?setTimeout(i,0):(s=++D,A&&(T||(T={},t(window).unload(A)),T[s]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),t.jqx.filter=function(){this.operator="and";var e=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL"],s=new Array,o=new Array;this.evaluate=function(t){for(var e=!0,i=0;i<s.length;i++){var n=s[i].evaluate(t);e=0==i?n:1==o[i]||"or"==o[i]?e||n:e&&n}return e},this.getfilterscount=function(){return s.length},this.setoperatorsbyfiltertype=function(t,s){switch(t){case"numericfilter":i=s;break;case"stringfilter":e=s;break;case"datefilter":n=s;break;case"booleanfilter":r=s}},this.getoperatorsbyfiltertype=function(t){var s=new Array;switch(t){case"numericfilter":s=i.slice(0);break;case"stringfilter":s=e.slice(0);break;case"datefilter":s=n.slice(0);break;case"booleanfilter":s=r.slice(0)}return s};var a=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+"-"+t()+"-"+t()};this.createfilter=function(t,e,i,n,r,s){if(null==t||void 0==t)return null;switch(t){case"numericfilter":return new c(e,i.toUpperCase());case"stringfilter":return new l(e,i.toUpperCase());case"datefilter":return new u(e,i.toUpperCase(),r,s);case"booleanfilter":return new h(e,i.toUpperCase());case"custom":return new d(e,i.toUpperCase(),n)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var t=new Array,e=0;e<s.length;e++){var i={value:s[e].filtervalue,condition:s[e].comparisonoperator,operator:o[e],type:s[e].type};s[e].data&&(i.id=s[e].data),t[e]=i}return t},this.addfilter=function(t,e){s[s.length]=e,e.key=a(),o[o.length]=t},this.removefilter=function(t){for(var e=0;e<s.length;e++)if(s[e].key==t.key){s.splice(e,1),o.splice(e,1);break}},this.getoperatorat=function(t){return void 0==t||null==t?null:t<0||t>s.length?null:o[t]},this.setoperatorat=function(t,e){return void 0==t||null==t?null:t<0||t>s.length?null:void(o[e]=e)},this.getfilterat=function(t){return void 0==t||null==t?null:t<0||t>s.length?null:s[t]},this.setfilterat=function(t,e){return void 0==t||null==t?null:t<0||t>s.length?null:(e.key=a(),void(s[t]=e))},this.clear=function(){s=new Array,o=new Array};var l=function(e,i){this.filtervalue=e,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(e){var i=this.filtervalue,n=this.comparisonoperator;if(null==e||void 0==e||""==e){if("NULL"==n)return!0;if("EQUAL"==n&&e==i)return!0;if("NOT_EQUAL"==n&&e!=i)return!0;if("EMPTY"!=n)return!1;if(""==e)return!0}var r="";try{r=e.toString()}catch(t){return!0}var s=function(e,i){switch(n){case"EQUAL":return t.jqx.string.equalsIgnoreCase(e,i);case"EQUAL_CASE_SENSITIVE":return t.jqx.string.equals(e,i);case"NOT_EQUAL":return!t.jqx.string.equalsIgnoreCase(e,i);case"NOT_EQUAL_CASE_SENSITIVE":return!t.jqx.string.equals(e,i);case"CONTAINS":return t.jqx.string.containsIgnoreCase(e,i);case"CONTAINS_CASE_SENSITIVE":return t.jqx.string.contains(e,i);case"DOES_NOT_CONTAIN":return!t.jqx.string.containsIgnoreCase(e,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!t.jqx.string.contains(e,i);case"EMPTY":return""==e;case"NOT_EMPTY":return""!=e;case"NOT_NULL":return null!=e;case"STARTS_WITH":return t.jqx.string.startsWithIgnoreCase(e,i);case"ENDS_WITH":return t.jqx.string.endsWithIgnoreCase(e,i);case"ENDS_WITH_CASE_SENSITIVE":return t.jqx.string.endsWith(e,i);case"STARTS_WITH_CASE_SENSITIVE":return t.jqx.string.startsWith(e,i);default:return!1}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var a=s(r,i);if(a)return a
;var l=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array,d=i.indexOf("|")>=0?i.split("|"):new Array;if(d.length>0)for(var f=0;f<d.length;f++)d[f]=t.trim(d[f]);var p=i.indexOf(" ")>=0?i.split(" "):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=t.trim(p[f]);if(l=l.concat(p),l=l.concat(c),h=h.concat(d),h=h.concat(u),l.length>0)for(var f=0;f<l.length;f++)!l[f].indexOf(" OR ")>=0&&o.push(l[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&o.push(h[f]);for(var m=void 0,g=0;g<o.length;g++){var e=o[g],a=s(r,e),v=g<l.length?"and":"or";m=void 0==m?a:"or"==v?m||a:m&&a}return m}return s(r,i)}},h=function(t,e){this.filtervalue=t,this.comparisonoperator=e,this.type="booleanfilter",this.evaluate=function(t){var e=this.filtervalue,i=this.comparisonoperator;if(null==t||void 0==t)return"NULL"==i;var n=t;switch(i){case"EQUAL":return n==e||n.toString()==e.toString();case"NOT_EQUAL":return n!=e&&n.toString()!=e.toString();default:return!1}}},c=function(e,i){this.filtervalue=e,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(e){var i=this.filtervalue,n=this.comparisonoperator;if(null===e||void 0===e||""===e){if("NOT_NULL"==n)return!1;if("NULL"==n)return!0;switch(n){case"EQUAL":return e==i;case"NOT_EQUAL":return e!=i}return!1}if("NULL"==n)return!1;if("NOT_NULL"==n)return!0;var r=e;try{r=parseFloat(r)}catch(t){if(""!=e.toString())return!1}var s=function(e,i){switch(n){case"EQUAL":return e==i;case"NOT_EQUAL":return e!=i;case"GREATER_THAN":return e>i;case"GREATER_THAN_OR_EQUAL":return e>=i;case"LESS_THAN":return e<i;case"LESS_THAN_OR_EQUAL":return e<=i;case"STARTS_WITH":return t.jqx.string.startsWithIgnoreCase(e.toString(),i.toString());case"ENDS_WITH":return t.jqx.string.endsWithIgnoreCase(e.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return t.jqx.string.endsWith(e.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return t.jqx.string.startsWith(e.toString(),i.toString());case"CONTAINS":return t.jqx.string.containsIgnoreCase(e.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return t.jqx.string.contains(e.toString(),i.toString());case"DOES_NOT_CONTAIN":return!t.jqx.string.containsIgnoreCase(e.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!t.jqx.string.contains(e.toString(),i.toString());default:return!0}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var a=s(r,i);if(a)return a;i=i.toString();var l=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array;l=l.concat(c),h=h.concat(u);var d=i.indexOf("|")>=0?i.split("|"):new Array;if(d.length>0)for(var f=0;f<d.length;f++)d[f]=t.trim(d[f]);if(h=h.concat(d),l.length>0)for(var f=0;f<l.length;f++)!l[f].indexOf(" OR ")>=0&&o.push(l[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&o.push(h[f]);for(var p=void 0,m=0;m<o.length;m++){var e=o[m];if(e&&e.indexOf&&e.indexOf("..")>=0){var g=e.toString().split("..");2==g.length&&(a=r>=g[0]&&r<=g[1])}else var a=s(r,e);var v=m<l.length?"and":"or";p=void 0==p?a:"or"==v?p||a:p&&a}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&(o=i.toString().split(".."),2==o.length)?r>=o[0]&&r<=o[1]:s(r,i)}},u=function(e,i,n,r){this.filtervalue=e,this.type="datefilter";var s=this;if(void 0!=n&&void 0!=r){var o=t.jqx.dataFormat.parsedate(e,n,r);if(null!=o)this.filterdate=o;else{var a=t.jqx.dataFormat.tryparsedate(e,r);null!=a&&(this.filterdate=a)}}else{var l=new Date(e);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=t.jqx.dataFormat.tryparsedate(e):this.filterdate=l}if(!this.filterdate){var l=new Date(e);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=t.jqx.dataFormat.tryparsedate(e):this.filterdate=l}this.comparisonoperator=i,this.evaluate=function(e){var i=this.filtervalue,o=this.comparisonoperator;if(null==e||void 0==e||""==e){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return e==i;case"NOT_EQUAL":return e!=i}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var l=new Date(e);e="NaN"==l.toString()||"Invalid Date"==l.toString()?t.jqx.dataFormat.tryparsedate(e):l,a=e;var h=!1;if(void 0!=n&&void 0!=r&&(n.indexOf("t")>=0||n.indexOf("T")>=0||n.indexOf(":")>=0||n.indexOf("f")>=0)&&(h=!0,i&&-1==i.toString().indexOf(":"))){var c=t.jqx.dataFormat.tryparsedate(i.toString()+":00",r);null!=c&&(s.filterdate=c)}h||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(t){if(""!=e.toString())return!1}if(null!=s.filterdate)i=s.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var u=new Date(a);u.setHours(12,0,0,0);for(var d=i.split(":"),f=0;f<d.length;f++)0==f&&u.setHours(d[f]),1==f&&u.setMinutes(d[f]),2==f&&u.setSeconds(d[f]);i=u}h&&i&&i.setFullYear&&a&&a.getFullYear&&-1==n.indexOf("d")&&-1==n.indexOf("M")&&-1==n.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var p=function(e,i){switch(null==e&&(e=""),o){case"EQUAL":return e.toString()==i.toString();case"NOT_EQUAL":return e.toString()!=i.toString();case"GREATER_THAN":return e>i;case"GREATER_THAN_OR_EQUAL":return e>=i;case"LESS_THAN":return e<i;case"LESS_THAN_OR_EQUAL":return e<=i;case"STARTS_WITH":return t.jqx.string.startsWithIgnoreCase(e.toString(),i.toString());case"ENDS_WITH":return t.jqx.string.endsWithIgnoreCase(e.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return t.jqx.string.endsWith(e.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return t.jqx.string.startsWith(e.toString(),i.toString());case"CONTAINS":return t.jqx.string.containsIgnoreCase(e.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return t.jqx.string.contains(e.toString(),i.toString());case"DOES_NOT_CONTAIN":return!t.jqx.string.containsIgnoreCase(e.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!t.jqx.string.contains(e.toString(),i.toString());default:return!0}},m=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var c=p(a,i);if(c)return c;var g=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,v=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,y=i.indexOf(" and ")>=0?i.split(" and "):new Array,b=i.indexOf(" or ")>=0?i.split(" or "):new Array;g=g.concat(y),v=v.concat(b);var w=i.indexOf("|")>=0?i.split("|"):new Array;if(w.length>0)for(var f=0;f<w.length;f++)w[f]=t.trim(w[f]);if(v=v.concat(w),g.length>0)for(var f=0;f<g.length;f++)!g[f].indexOf(" OR ")>=0&&m.push(g[f]);if(v.length>0)for(var f=0;f<v.length;f++)!v[f].indexOf(" AND ")>=0&&m.push(v[f]);for(var x=void 0,_=0;_<m.length;_++){var e=m[_];if(e&&e.indexOf&&e.indexOf("..")>=0){var C=e.toString().split("..");2==C.length&&(c=a>=C[0]&&a<=C[1])}else var c=p(a,e);var k=_<g.length?"and":"or";x=void 0==x?c:"or"==k?x||c:x&&c}return x}return i&&i.indexOf&&i.indexOf("..")>=0&&(m=i.toString().split(".."),2==m.length)?a>=m[0]&&a<=m[1]:p(a,i)}},d=function(t,e,i){this.filtervalue=t,this.comparisonoperator=e,this.evaluate=function(t,e){return i(this.filtervalue,t,this.comparisonoperator)}}}}(jqxBaseFramework);